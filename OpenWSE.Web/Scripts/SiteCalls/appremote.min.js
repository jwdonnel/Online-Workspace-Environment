// -----------------------------------------------------------------------------------
//
//	appRemote v6.0
//	by John Donnelly
//	Last Modification: 11/7/2017
//
//	Licensed under the Creative Commons Attribution 2.5 License - http://creativecommons.org/licenses/by/2.5/
//  	- Free for use in both personal and commercial projects
//		- Attribution requires leaving author name, author link, and the license info intact.
//
// -----------------------------------------------------------------------------------
var appRemote_Config = { forceGroupLogin: !1, autoSync: !1, isAdminMode: !1, isDemoMode: !1 }, appRemote = function () { var e = 0, t = 0, n = !1; function i() { ($(".app-icon-links").length > 0 || $(".app-icon-sub-links").length > 0) && $(".app-icon-links, .app-icon-sub-links").each(function () { var e = $(this).attr("href"); if (e) { if (e.indexOf("#?") > 0) { var t = e.split("#?")[1]; e = e.split("#?")[0] + "?mobileMode=true&fromAppRemote=true#?" + t } else e.indexOf("?") > 0 ? e += "&mobileMode=true&fromAppRemote=true" : e += "?mobileMode=true&fromAppRemote=true"; $(this).attr("href", e) } }), $(".iframe-top-bar .iframe-title-logo img").width() > 100 && $(".iframe-top-bar .iframe-title-logo span").hide(), p(), r() } function r() { window.location.href.split("#").length <= 1 && (window.location += "#"); var e, t = appRemote.AppRemoteSidebar.GetHashParm("tab"), n = appRemote.AppRemoteSidebar.GetHashParm("id"); $("#main_container").attr("data-paddingbottom") && ($("#main_container").css("padding-bottom", $("#main_container").attr("data-paddingbottom")), $("#main_container").attr("data-paddingbottom", "")), $(".iFrame-chat").remove(), t && $("#" + t).length > 0 ? "Notifications_tab" == t ? (appRemote.AppRemoteSidebar.MenuTabNavigation($("#" + t)[0]), openWSE.GetUserNotifications()) : "Apps_tab" == t && n ? function () { !appRemote_Config.autoSync || s || l || u(); l = !1, $(".section-link").removeClass("active-tab"), $("#Apps_tab").addClass("active-tab"), $(".main-content-panels").removeClass("active-panel"), $("#Minimize_tab").hide(), $("#Close_tab").hide(), $("#About_tab").hide(), $(".loaded-app-holder").each(function () { $(this).css({ visibility: "hidden", width: 0, height: 0 }) }), d() }() : "Chat_tab" == t && n ? (e = n, chatClient.BuildChatWindowMobile(e), $(".section-link").removeClass("active-tab"), $("#Chat_tab").addClass("active-tab"), $(".main-content-panels").removeClass("active-panel"), $("#pnlContent_ChatPopup").addClass("active-panel"), $("#Minimize_tab").hide(), $("#Close_tab").show(), $("#About_tab").show(), $("#main_container").css("padding-bottom") && ($("#main_container").attr("data-paddingbottom", $("#main_container").css("padding-bottom")), $("#main_container").css("padding-bottom", ""))) : appRemote.AppRemoteSidebar.MenuTabNavigation($("#" + t)[0]) : $(".section-link").length > 0 ? appRemote.AppRemoteSidebar.MenuTabNavigation($(".section-link").eq(0)[0]) : "Groups_tab" === t ? (openWSE.GetandBuildGroupList(), $(".main-content-panels").removeClass("active-panel"), $("#pnlContent_Groups").addClass("active-panel"), $("#Close_tab").show()) : !t && $("#pnlContent_Login").length > 0 && ($(".main-content-panels").removeClass("active-panel"), $("#pnlContent_Login").addClass("active-panel"), $("#Close_tab").hide()) } function o() { if (appRemote.AppRemoteSidebar.ResizeSidebar(), $("#notification-tab-b").find(".li-pnl-tab").css({ width: "100%", maxHeight: $("#main_container").outerHeight() - $("#footer_container").outerHeight() }), $(".loaded-app-holder").each(function () { "hidden" !== $(this).css("visibility") && $(this).css({ width: $("#main_container").width(), height: $("#main_container").outerHeight() - 1 }) }), $("#SiteTip-element").length > 0 && ($("#SiteTip-element").find(".Modal-element-modal").css("min-width", $(window).width() - 50), $("#SiteTip-element").find(".Modal-element-modal").css("max-height", $(window).height() - ($("#top_bar_toolview_holder").outerHeight() + $("#footer_container").outerHeight() + 50)), appRemote.AdjustSiteTipModal()), $(".iFrame-chat").length > 0) { var e = $(window).height() - ($("#top_bar_toolview_holder").height() + $("#container_footer").height()); $(".iFrame-chat").height(e - 27) } $("#remote_sidebar").outerWidth() > 0 && b() } var a, s = !1, l = !1, c = 5e3; function u() { appRemote_Config.forceGroupLogin || (openWSE.IsComplexWorkspaceMode() ? appRemote_Config.isDemoMode || appRemote_Config.isAdminMode || openWSE.AjaxCall("WebServices/AcctSettings.asmx/CanConnectToWorkspace", "{ }", null, function (e) { var t = 1; loadingPopup.RemoveMessage(), "simple" == e.d ? s = !1 : 0 === e.d.indexOf("true~") ? (s = !0, t = e.d.replace("true~", "")) : s = !1, s ? (g(), p(t), a = setTimeout(function () { u() }, c)) : (p(t), clearTimeout(a)) }, function () { s = !1, loadingPopup.RemoveMessage(), p() }) : ($("#workspace_header_btn").remove(), s = !0)) } function p(e) { if (s) { $("#workspace_header_btn").show(), $("#connect_header_btn").html("<span class='connected-img'></span>Desync with Workspace"), $("#connect_header_btn").addClass("synced"); var t = appRemote.AppRemoteSidebar.GetHashParm("tab"), n = appRemote.AppRemoteSidebar.GetHashParm("id"); "Apps_tab" === t && n && "none" !== $("#no-options-available").css("display") && d() } else $("#workspace_header_btn").hide(), $("#connect_header_btn").html("<span class='disconnected-img'></span>Sync with Workspace"), $("#connect_header_btn").removeClass("synced"); $("#dropdownSelector").val(e) } function h(e) { if (e) switch (e.direction) { case "left": w.CloseSidebarMenu(); break; case "right": w.OpenSidebarMenu() } } function d() { if (!n) { var r = appRemote.AppRemoteSidebar.GetHashParm("id"); if ($(".app-icon[data-appid='" + r + "']").removeClass("active"), $("#" + r + "-loadedapp").length > 0) return loadingPopup.RemoveMessage(), $(".loading-background-holder").remove(), l = r, $("#pnlContent_AppOptions-Holder").hide(), $("#Minimize_tab").show(), $("#Close_tab").show(), $("#About_tab").show(), $("#main_container").addClass("app-open-containerpadding"), $("#pnlContent_AppOptions").addClass("active-panel"), $(".app-icon[data-appid='" + l + "']").addClass("active"), $("#" + l + "-loadedapp").css({ visibility: "", width: $("#main_container").width(), height: $("#main_container").outerHeight() - 1 }), o(), void g(); $("#pnlContent_AppOptions-Holder").show(); var a = $.trim($(".app-icon[data-appid='" + r + "']").find(".app-icon-font").html()); a ? $("#load-option-text").html("<b>" + a + "</b> Options") : $("#load-option-text").html("Options"), n = !0, loadingPopup.Message("Loading Options..."), openWSE.AjaxCall("WebServices/AcctSettings.asmx/GetAppRemoteProps", '{ "appId": "' + r + '" }', null, function (i) { if (loadingPopup.RemoveMessage(), $(".loading-background-holder").remove(), openWSE.IsComplexWorkspaceMode() && $("#options-btn-open").show(), $("#options-btn-update").hide(), $("#pnl_appMoveResize").hide(), $("#Close_tab").show(), $("#About_tab").show(), i.d.length > 0 && 14 == i.d[0].length) { var o = i.d[0][0], a = i.d[0][1], l = i.d[0][2], c = i.d[0][3], u = i.d[0][4], p = i.d[0][5].replace("px", ""), h = i.d[0][6].replace("px", ""), d = i.d[0][7].replace("px", ""), m = i.d[0][8].replace("px", ""), g = i.d[0][9].replace("px", ""), y = i.d[0][10].replace("px", ""); d && "null" !== d || (d = y), m && "null" !== m || (m = g); var w = i.d[0][11], S = i.d[0][12], E = i.d[0][13]; "0" != d && "" != d || (d = y), "0" != m && "" != m || (m = g), $("#app-load-options").length > 0 && (e = y, t = g, $("#moveresize-left").val(p), $("#moveresize-top").val(h), $("#moveresize-width").val(d), $("#moveresize-height").val(m), openWSE.IsComplexWorkspaceMode() ? (s ? $("#app-load-options").show() : $("#app-load-options").hide(), openWSE.ConvertBitToBoolean(o) ? ($("#options-btn-close").hide(), $("#app-load-options").hide()) : ($("#app-load-options").show(), $("#options-btn-close").show(), $("#options-btn-open").hide(), $("#options-btn-update").show(), s && $(".app-icon[data-appid='" + r + "']").addClass("active"))) : ($("#options-btn-close").hide(), $("#options-btn-open").hide(), $("#options-btn-update").hide(), $("#app-load-options").hide()), "" != c ? $("#ddl_appDropdownSelector").val(v(c)) : $("#ddl_appDropdownSelector").val(v(i.d[1])), $("#ddl_appstate").val("Normal"), openWSE.ConvertBitToBoolean(o) ? ($("#ddl_appstate").val("Normal"), $("#pnl_appMoveResize").hide()) : ($("#pnl_appMoveResize").hide(), $("#resize-div").hide(), openWSE.ConvertBitToBoolean(S) || openWSE.ConvertBitToBoolean(E) ? openWSE.ConvertBitToBoolean(E) && ($("#pnl_appMoveResize").show(), $("#resize-div").show()) : $("#pnl_appMoveResize").show(), openWSE.ConvertBitToBoolean(l) && $("#ddl_appstate").val("Maximize"), openWSE.ConvertBitToBoolean(a) && $("#ddl_appstate").val("Minimize")), "" != u && $("#last-updated").html("<b class='pad-right-sml'>Last Updated:</b>" + u), openWSE.ConvertBitToBoolean(S) ? $("#ddl_appstate > option[value='Maximize']").show() : $("#ddl_appstate > option[value='Maximize']").hide()), $("#no-options-available").hide(), $("#options-btn-device").hide(), "" == w || "none" !== $("#options-btn-close").css("display") && !appRemote_Config.isDemoMode && s || ($("#options-btn-device").attr("onclick", "appRemote.LoadApp('" + r + "');return false;"), $("#options-btn-device").attr("href", w), $("#options-btn-device").show()), !appRemote_Config.isDemoMode && s && openWSE.IsComplexWorkspaceMode() || ($("#options-btn-close").hide(), $("#options-btn-open").hide(), $("#options-btn-update").hide(), "none" == $("#options-btn-device").css("display") && $("#no-options-available").show()) } else $("#no-options-available").hide(), $("#options-btn-device").hide(), $("#options-btn-close").hide(), $("#pnl_appMoveResize").hide(), $("#ddl_appDropdownSelector").val("1"), $("#ddl_appstate").val("Normal"), $("#last-updated").html(""); var C = 0; $("#load-option-btn-holder").find(".option-buttons").each(function () { "none" != $(this).css("display") && C++ }), n = !1, 1 != C || "inline-block" != $("#options-btn-device").css("display") && "block" != $("#options-btn-device").css("display") ? $("#load-option-text").next(".accordion-content").show() : f(r), $("#pnlContent_AppOptions").addClass("active-panel"), b() }, function () { loadingPopup.RemoveMessage(), $(".loading-background-holder").remove(), openWSE.AlertWindow("Error trying to access account. Please try again."), s && (s = !1, i()), n = !1 }) } var l } function f(e) { var t = $("#" + e + "-loadedapp"); t.length > 0 && t.remove(), $("#pnlContent_AppOptions-Holder").hide(), $("#Minimize_tab").show(), $("#Close_tab").show(), $("#About_tab").show(); var n = $("#options-btn-device").attr("href"); n.toLowerCase().indexOf("externalappholder.aspx?appid") > 0 && (n += "&hidetoolbar=true"), $(".app-icon[data-appid='" + e + "']").addClass("active"), function (e, t) { $(e).append("<div class='loading-background-holder' data-usespinner='true'><div></div></div>"); var n = $(".app-icon[data-appid='" + t + "']"); n.length > 0 && n.find("img").length > 0 && "none" != n.find("img").css("display") && !n.find("img").hasClass("display-none") && ($(e).find(".loading-background-holder").css("background-image", "url('" + n.find("img").attr("src") + "')"), n.attr("data-appbgcolor") && ($(e).find(".loading-background-holder").css("background-color", n.attr("data-appbgcolor")), $(e).find(".loading-background-holder").attr("data-usespinner", "false"))) }($("#pnlContent_AppOptions")[0], e), $("#main_container").addClass("app-open-containerpadding"), $("#pnlContent_AppOptions").addClass("active-panel"), $("#pnlContent_AppOptions").append("<iframe id='" + e + "-loadedapp' src='" + n + "' frameborder='0' class='loaded-app-holder' style='width: " + $("#main_container").width() + "px; height: " + ($("#main_container").outerHeight() - 1) + "px;'></iframe>"), $(".loaded-app-holder").one("load", function () { $(".loading-background-holder").remove() }) } function m() { if (!n) { n = !0; var r = ""; r += $("#ddl_appDropdownSelector").val() + ";", "Maximize" === $("#ddl_appstate").val() ? (r += "maximize;", !0) : "Minimize" === $("#ddl_appstate").val() ? r += "minimize;" : r += "normal;"; var o = parseInt($("#moveresize-top").val()), a = parseInt($("#moveresize-left").val()); (o < 0 || null == o || "NaN" == o.toString() && null != o) && (o = 0), (a < 0 || null == a || "NaN" == a.toString() && null != a) && (a = 0); var l = parseInt($("#moveresize-width").val()), c = parseInt($("#moveresize-height").val()); (l < e || null == l || "NaN" == l.toString() && null != l) && (l = e), (c < t || null == c || "NaN" == c.toString() && null != c) && (c = t), r += o + ";" + a + ";" + l + ";" + c + ";", "block" == $("#options-btn-update").css("display") ? loadingPopup.Message("Refreshing App...") : loadingPopup.Message("Loading App..."); var u = appRemote.AppRemoteSidebar.GetHashParm("id"); openWSE.AjaxCall("WebServices/AcctSettings.asmx/UpdateAppRemote", '{ "id": "' + u + '","options": "' + escape(r) + '" }', null, function (e) { n = !1, openWSE.ConvertBitToBoolean(e.d) ? (loadingPopup.RemoveMessage(), d()) : (loadingPopup.RemoveMessage(), openWSE.AlertWindow("Could not load"), s && (s = !1, i())) }, function (e) { n = !1, loadingPopup.RemoveMessage(), openWSE.AlertWindow("Could not load"), s && (s = !1, i()) }) } } function v(e) { return e.replace("workspace_", "") } function g() { if ($(".app-icon").removeClass("active"), $("#pnlContent_AppOptions").find(".loaded-app-holder").each(function () { var e = $(this).attr("id").replace("-loadedapp", ""); $(".app-icon[data-appid='" + e + "']").addClass("active") }), openWSE.IsComplexWorkspaceMode()) if ($(".workspace-reminder").each(function () { $(this).remove() }), s) { var e = setTimeout(function () { loadingPopup.Message("Loading Remote...") }, 1500); openWSE.AjaxCall("WebServices/AcctSettings.asmx/GetAllOpenedApps", "{ }", null, function (t) { if (clearTimeout(e), loadingPopup.RemoveMessage(), null != t.d) for (var n = 0; n < t.d.length; n++) { var i = $(".app-icon[data-appid='" + t.d[n][0] + "']"); if (i.addClass("active"), "" != t.d[n][1]) { var r = ""; if (i.find(".app-icon-font").length > 0 && (i.hasClass("Icon_And_Color_Only") || i.hasClass("Color_And_Description") || i.hasClass("Icon_Plus_Color_And_Text"))) r = " style='color:" + i.find(".app-icon-font").css("color") + "!important;'"; var o = "<span class='workspace-reminder font-no-bold'" + r + ">" + v(t.d[n][1]) + "</span>"; i.append(o) } } b() }) } else b(); else clearTimeout(e), loadingPopup.RemoveMessage() } function b() { var e = new Array; $("#opened_apps_header").hide(), $("#opened_apps_holder").html(""), $("#pnlContent_AppOptions").find(".loaded-app-holder").each(function () { var t = $(this).attr("id").replace("-loadedapp", ""), n = $(".app-icon[data-appid='" + t + "']"); if (n.length > 0 && !y(t, e)) { n = n.eq(0); var i = $.trim(n.html()), r = ""; (n.hasClass("Color_And_Description") || n.hasClass("Icon_And_Color_Only") || n.hasClass("Icon_Plus_Color_And_Text")) && (r = "style='background: " + n.css("background") + "'"); var o = n.attr("onclick"); $("#opened_apps_holder").append("<div data-appid='" + t + "' class='opened-app-icon' onclick=\"" + o + '" ' + r + ">" + i + "</div>"), e.push(t) } }), $("#pnl_icons").find(".app-icon").each(function () { var t = $(this).attr("data-appid"); if ($(this).hasClass("active") && !y(t, e)) { var n = $.trim($(this).html()), i = ""; ($(this).hasClass("Color_And_Description") || $(this).hasClass("Icon_And_Color_Only") || $(this).hasClass("Icon_Plus_Color_And_Text")) && (i = "style='background: " + $(this).css("background") + "'"); var r = $(this).attr("onclick"); $("#opened_apps_holder").append("<div data-appid='" + t + "' class='opened-app-icon' onclick=\"" + r + '" ' + i + ">" + n + "</div>"), e.push(t) } }), e.length > 0 && $("#opened_apps_header").show() } function y(e, t) { for (var n = 0; n < t.length; n++) if (e == t[n]) return !0; return !1 } $(document.body).on("change", "#dropdownSelector", function () { n || (n = !0, openWSE.AjaxCall("WebServices/AcctSettings.asmx/UpdateAppRemote", '{ "id": "workspace-selector","options": "' + $(this).val() + '" }', null, function (e) { n = !1, openWSE.ConvertBitToBoolean(e.d) ? $("#workspace-selector-overlay, #workspace-selector-modal").hide() : (openWSE.AlertWindow("Error! Try again."), s && (s = !1, i())) }, function (e) { n = !1, openWSE.AlertWindow("Error! Try again."), s && (s = !1, i()) })) }); var w = function () { var e = 250; function t() { b(), $("#remote_sidebar").addClass("active"), $(".sidebar-overlay").remove(), $("body").append("<div class='sidebar-overlay' onclick='appRemote.AppRemoteSidebar.OnMenuSidebarClick();'></div>"), i() } function n() { $("#opened_apps_header").hide(), $("#opened_apps_holder").html(""), $(".sidebar-overlay").remove(), $(".user-profile-options-holder").hide(), $("#remote_sidebar").css("width", ""), $("#remote_sidebar").removeClass("active") } function i() { $("#remote_sidebar").length > 0 && $("#remote_sidebar").hasClass("active") && $(window).width() <= e && $("#remote_sidebar").css("width", "100%") } function r(e) { var t = $(e).attr("data-tabid"); if ($(".section-link").removeClass("active-tab"), $(".main-content-panels").removeClass("active-panel"), $("#Minimize_tab").hide(), $("#Close_tab").hide(), $("#About_tab").hide(), $("#main_container").removeClass("app-open-containerpadding"), "Close_tab" == t) { var a = o("id"); "Chat_tab" === o("tab") && $(".section-link[data-tabid='Chat_tab']").length > 0 ? ($(".iFrame-chat").remove(), r($(".section-link[data-tabid='Chat_tab']")[0])) : "Groups_tab" === o("tab") && $("#pnlContent_Login").length > 0 ? window.location.href = openWSE.siteRoot() + "AppRemote.aspx#" : (a && $("#" + a + "-loadedapp").length > 0 && ($(".app-icon[data-appid='" + a + "']").removeClass("active"), $("#" + a + "-loadedapp").remove()), r($(".section-link").eq(0)[0])), b() } else if ("Minimize_tab" == t) r($(".section-link").eq(0)[0]), b(); else if (t) { $(e).addClass("active-tab"); var s = "pnlContent_" + t.replace("_tab", ""); !function (e) { $("#pnlContent_Groups").find("#grouplistdiv").html(""), $("#divGroupLogoff").hide(), openWSE.CloseNoti(), "Groups_tab" == e && openWSE.GetandBuildGroupList(); "Notifications_tab" == e && (appRemote.ResizeContent(), openWSE.GetUserNotifications()) }(t), $("#" + s).length > 0 ? ($("#" + s).addClass("active-panel"), window.location.hash = "#?tab=" + t) : window.location.href = openWSE.siteRoot() + "AppRemote.aspx#?tab=" + t } 0 === $(".fixed-container-holder-background").offset().left && n(), i() } function o(e) { var t = window.location.hash; if (t) { 0 === t.indexOf("#") && (t = t.substring(1)); for (var n = t.split(/[?&]+/), i = 0; i < n.length; i++) if (n[i]) { var r = n[i].split("="); if (r.length >= 2 && r[0] === e) return unescape(r[1]) } } return "" } return { MenuTabNavigation: r, OnMenuSidebarClick: function () { openWSE.CloseTopDropDowns(), $("#remote_sidebar").length > 0 && ($("#remote_sidebar").hasClass("active") ? n() : t()) }, ResizeSidebar: i, GetHashParm: o, OpenSidebarMenu: t, CloseSidebarMenu: n, RefresTabUrl: function () { w.GetHashParm("tab") && $(".section-link[data-tabid='']").length > 0 ? r($(".section-link[data-tabid='']")[0]) : r($(".section-link").eq(0)[0]) } } }(); $(document.body).on("change", "#ddl_appDropdownSelector, #ddl_appstate", function (e) { m() }), $(document.body).on("keydown", "#moveresize-top, #moveresize-left, #moveresize-width, #moveresize-height", function (e) { try { if (13 == e.which) return e.preventDefault(), m(), !1 } catch (t) { if (13 == e.keyCode) return e.preventDefault(), m(), !1; delete t } }); var S = ""; $(document.body).on("focus", "#moveresize-top, #moveresize-left, #moveresize-width, #moveresize-height", function (e) { this.select(), S = $.trim($(this).val()) }), $(document.body).on("blur", "#moveresize-top, #moveresize-left, #moveresize-width, #moveresize-height", function (e) { S != $.trim($(this).val()) && m(), S = "" }); var E = 0, C = new Array; function x() { $("#SiteTip-element").find(".Modal-element-align").css({ marginTop: -$("#SiteTip-element").find(".Modal-element-modal").height() / 2, marginLeft: -$("#SiteTip-element").find(".Modal-element-modal").width() / 2 }) } return { Initialize: function () { i(), function () { if ($("#remote_sidebar").length > 0) try { $("#site_mainbody").length > 0 && document.id("site_mainbody").addEvent("swipe", h) } catch (e) { } }(), appRemote_Config.autoSync && u(), openWSE.UpdateLogoSizeOnLoad($("#top_bar_toolview_holder")) }, Load: i, LoadHashValues: r, ResizeContent: o, LoadAppOptions: function (e) { w.CloseSidebarMenu(), appRemote_Config.autoSync && !s && (l = !0), window.location.hash = "#?tab=Apps_tab&id=" + e }, LoadApp: f, SyncWithWorkspaceClick: function () { s ? (l = !0, s = !1, clearTimeout(a), i()) : (loadingPopup.Message("Trying to Connect"), u()) }, AppRemoteSidebar: w, CloseAllOpened: function () { $("#pnlContent_AppOptions").find(".loaded-app-holder").each(function () { var e = $(this).attr("id").replace("-loadedapp", ""); $("#pnlContent_AppOptions").find("#" + e + "-loadedapp").remove(), $("#load-option-text").html("<b>" + $.trim($("#" + e).find(".app-icon-font").html()) + "</b> Options") }), $(".app-icon").removeClass("active"), $(".app-icon").find(".workspace-reminder").remove(), !n && s ? (n = !0, loadingPopup.Message("Closing Apps..."), openWSE.AjaxCall("WebServices/AcctSettings.asmx/CloseAllAppsFromAppRemote", "{ }", null, null, null, function (e) { n = !1, loadingPopup.RemoveMessage(), $("#pnlContent_AppOptions-Holder").show(), $("#options-btn-device").show(), $("#opened_apps_header").hide(), $("#opened_apps_holder").html(""), w.RefresTabUrl() })) : s || (loadingPopup.RemoveMessage(), $("#pnlContent_AppOptions-Holder").show(), $("#options-btn-device").show(), $("#opened_apps_header").hide(), $("#opened_apps_holder").html(""), w.RefresTabUrl()) }, LoadOnWorkspace: m, CloseAppOnWorkspace: function () { if (!n) { n = !0, loadingPopup.Message("Closing App..."); var e = appRemote.AppRemoteSidebar.GetHashParm("id"); openWSE.AjaxCall("WebServices/AcctSettings.asmx/UpdateAppRemote", '{ "id": "' + e + '","options": "close" }', null, function (e) { n = !1, openWSE.ConvertBitToBoolean(e.d) ? (loadingPopup.RemoveMessage(), d()) : (loadingPopup.RemoveMessage(), openWSE.AlertWindow("Error! Try again."), s && (s = !1, i())) }, function () { n = !1, loadingPopup.RemoveMessage(), openWSE.AlertWindow("Error! Try again."), s && (s = !1, i()) }) } }, LoadCreateAccountHolder: function () { "none" != $("#Login-holder").css("display") ? ($("#Login-holder").hide(), $("#iframe-createaccount-holder").html("<iframe id='iframe-demo' src='SiteTools/iframes/CreateAccount.aspx' frameborder='0' width='100%' style='visibility: hidden;'></iframe>"), $("#iframe-createaccount-holder").append("<div style='text-align: center;'><h3 id='loadingControls'>Loading Controls. Please Wait...</h3></div>"), $("#CreateAccount-holder").show(), document.getElementById("iframe-demo").onload = function () { $("#loadingControls").remove(), $("#iframe-demo").css({ height: "475px", visibility: "visible" }) }) : ($("#CreateAccount-holder, #ForgotPassword-holder").hide(), $("#iframe-createaccount-holder").html(""), $("#Login-holder").show()) }, LoadRecoveryPassword: function () { "block" != $("#ForgotPassword-holder").css("display") ? ($("#tb_username_recovery").val(""), $("#lbl_passwordResetMessage").html(""), $("#UserNameRequired_recovery").css("visibility", "hidden"), $("#Login-holder").hide(), $("#ForgotPassword-holder").show()) : ($("#ForgotPassword-holder").hide(), $("#Login-holder").show()) }, NextSiteTip: function () { ++E >= C.length && (E = 0), $("#SiteTip-element").find(".message-text").html(C[E]), x() }, PreviousSiteTip: function () { --E < 0 && (E = C.length - 1), $("#SiteTip-element").find(".message-text").html(C[E]), x() }, CloseSiteTip: function () { $("#dont-show-again-cb").prop("checked") || (appRemote_Config.isDemoMode ? cookieFunctions.set("siteTipsOnPageLoad", "false", "30") : openWSE.AjaxCall("WebServices/AcctSettings.asmx/TurnOffSiteTipsOnPageLoad")), E = 0, C = new Array, $("#SiteTip-element").remove() }, AdjustSiteTipModal: x, AboutApp: function () { var e = appRemote.AppRemoteSidebar.GetHashParm("tab"), t = appRemote.AppRemoteSidebar.GetHashParm("id"); "Chat_tab" == e && t && (t = "app-ChatClient-"), $("#MainContent_pnl_aboutHolder").html(""), $("#hf_aboutstatsapp").val("about;" + t), loadingPopup.Message("Loading. Please Wait..."), openWSE.CallDoPostBack("hf_aboutstatsapp", "") } } }(); $(document).ready(function () { appRemote.Initialize() }), $(function () { $(window).hashchange(function () { appRemote.LoadHashValues() }) }), $(window).resize(function () { appRemote.ResizeContent() }), window.onload = function () { openWSE_Config.ShowLoginModalOnDemoMode && $("#Login_tab").length > 0 && appRemote.AppRemoteSidebar.MenuTabNavigation(document.getElementById("Login_tab")) }, Function.prototype.startsWith = function (e) { return !1 }, function () { this.MooTools = { version: "1.3dev", build: "0a7aeabbbac5bc23b021b4c1aa9ba722c40e303d" }; var e = this.typeOf = function (e) { if (null == e) return "null"; if (e.$family) return e.$family(); if (e.nodeName) { if (1 == e.nodeType) return "element"; if (3 == e.nodeType) return /\S/.test(e.nodeValue) ? "textnode" : "whitespace" } else if ("number" == typeof e.length) { if (e.callee) return "arguments"; if ("item" in e) return "collection" } return typeof e }, t = (this.instanceOf = function (e, t) { if (null == e) return !1; for (var n = e.$constructor || e.constructor; n;) { if (n === t) return !0; n = n.parent } return e instanceof t }, this.Function), n = !0; for (var i in { toString: 1 }) n = null; n && (n = ["hasOwnProperty", "valueOf", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "constructor"]), t.prototype.overloadSetter = function (e) { var t = this; return function (i, r) { if (null == i) return this; if (e || "string" != typeof i) { for (var o in i) t.call(this, o, i[o]); if (n) for (var a = n.length; a--;) o = n[a], i.hasOwnProperty(o) && t.call(this, o, i[o]) } else t.call(this, i, r); return this } }, t.prototype.overloadGetter = function (e) { var t = this; return function (n) { var i, r; if (e || "string" != typeof n ? i = n : arguments.length > 1 && (i = arguments), i) { r = {}; for (var o = 0; o < i.length; o++) r[i[o]] = t.call(this, i[o]) } else r = t.call(this, n); return r } }, t.prototype.extend = function (e, t) { this[e] = t }.overloadSetter(), t.prototype.implement = function (e, t) { this.prototype[e] = t }.overloadSetter(); var r = Array.prototype.slice; t.from = function (t) { return "function" == e(t) ? t : function () { return t } }, Array.from = function (t) { return null == t ? [] : o.isEnumerable(t) && "string" != typeof t ? "array" == e(t) ? t : r.call(t) : [t] }, Number.from = function (e) { var t = parseFloat(e); return isFinite(t) ? t : null }, String.from = function (e) { return e + "" }, t.implement({ hide: function () { return this.$hidden = !0, this }, protect: function () { return this.$protected = !0, this } }); var o = this.Type = function (t, n) { if (t) { var i = t.toLowerCase(); o["is" + t] = function (t) { return e(t) == i }, null != n && (n.prototype.$family = function () { return i }.hide()) } return null == n ? null : (n.extend(this), n.$constructor = o, n.prototype.$constructor = n, n) }, a = Object.prototype.toString; o.isEnumerable = function (e) { return null != e && "number" == typeof e.length && "[object Function]" != a.call(e) }; var s = {}, l = function (t) { var n = e(t.prototype); return s[n] || (s[n] = []) }, c = function (t, n) { if (n && n.$hidden) return this; for (var i = l(this), o = 0; o < i.length; o++) { var a = i[o]; "type" == e(a) ? c.call(a, t, n) : a.call(this, t, n) } var s = this.prototype[t]; return null != s && s.$protected || (this.prototype[t] = n), null == this[t] && "function" == e(n) && u.call(this, t, function (e) { return n.apply(e, r.call(arguments, 1)) }), this }, u = function (e, t) { if (t && t.$hidden) return this; var n = this[e]; return null != n && n.$protected || (this[e] = t), this }; o.implement({ implement: c.overloadSetter(), extend: u.overloadSetter(), alias: function (e, t) { c.call(this, e, this.prototype[t]) }.overloadSetter(), mirror: function (e) { return l(this).push(e), this } }), new o("Type", o); var p = function (e, t, n) { var i = t != Object, r = t.prototype; i && (t = new o(e, t)); for (var a = 0, s = n.length; a < s; a++) { var l = n[a], c = t[l], u = r[l]; c && c.protect(), i && u && (delete r[l], r[l] = u.protect()) } return i && t.implement(r), p }; p("String", String, ["charAt", "charCodeAt", "concat", "indexOf", "lastIndexOf", "match", "quote", "replace", "search", "slice", "split", "substr", "substring", "toLowerCase", "toUpperCase"])("Array", Array, ["pop", "push", "reverse", "shift", "sort", "splice", "unshift", "concat", "join", "slice", "indexOf", "lastIndexOf", "filter", "forEach", "every", "map", "some", "reduce", "reduceRight"])("Number", Number, ["toExponential", "toFixed", "toLocaleString", "toPrecision"])("Function", t, ["apply", "call", "bind"])("RegExp", RegExp, ["exec", "test"])("Object", Object, ["create", "defineProperty", "defineProperties", "keys", "getPrototypeOf", "getOwnPropertyDescriptor", "getOwnPropertyNames", "preventExtensions", "isExtensible", "seal", "isSealed", "freeze", "isFrozen"])("Date", Date, ["now"]), Object.extend = u.overloadSetter(), Date.extend("now", function () { return +new Date }), new o("Boolean", Boolean), Number.prototype.$family = function () { return isFinite(this) ? "number" : "null" }.hide(), Number.extend("random", function (e, t) { return Math.floor(Math.random() * (t - e + 1) + e) }), Object.extend("forEach", function (e, t, n) { for (var i in e) e.hasOwnProperty(i) && t.call(n, e[i], i, e) }), Object.each = Object.forEach, Array.implement({ forEach: function (e, t) { for (var n = 0, i = this.length; n < i; n++) n in this && e.call(t, this[n], n, this) }, each: function (e, t) { return Array.forEach(this, e, t), this } }); var h = function (t) { switch (e(t)) { case "array": return t.clone(); case "object": return Object.clone(t); default: return t } }; Array.implement("clone", function () { for (var e = this.length, t = new Array(e) ; e--;) t[e] = h(this[e]); return t }); var d = function (t, n, i) { switch (e(i)) { case "object": "object" == e(t[n]) ? Object.merge(t[n], i) : t[n] = Object.clone(i); break; case "array": t[n] = i.clone(); break; default: t[n] = i } return t }; Object.extend({ merge: function (t, n, i) { if ("string" == e(n)) return d(t, n, i); for (var r = 1, o = arguments.length; r < o; r++) { var a = arguments[r]; for (var s in a) d(t, s, a[s]) } return t }, clone: function (e) { var t = {}; for (var n in e) t[n] = h(e[n]); return t }, append: function (e) { for (var t = 1, n = arguments.length; t < n; t++) { var i = arguments[t] || {}; for (var r in i) e[r] = i[r] } return e } }), ["Object", "WhiteSpace", "TextNode", "Collection", "Arguments"].each(function (e) { new o(e) }); var f = Date.now(); String.extend("generateUID", function () { return (f++).toString(36) }) }(), Array.implement({ invoke: function (e) { var t = Array.slice(arguments, 1); return this.map(function (n) { return n[e].apply(n, t) }) }, every: function (e, t) { for (var n = 0, i = this.length; n < i; n++) if (n in this && !e.call(t, this[n], n, this)) return !1; return !0 }, filter: function (e, t) { for (var n = [], i = 0, r = this.length; i < r; i++) i in this && e.call(t, this[i], i, this) && n.push(this[i]); return n }, clean: function () { return this.filter(function (e) { return null != e }) }, indexOf: function (e, t) { for (var n = this.length, i = t < 0 ? Math.max(0, n + t) : t || 0; i < n; i++) if (this[i] === e) return i; return -1 }, map: function (e, t) { for (var n = [], i = 0, r = this.length; i < r; i++) i in this && (n[i] = e.call(t, this[i], i, this)); return n }, some: function (e, t) { for (var n = 0, i = this.length; n < i; n++) if (n in this && e.call(t, this[n], n, this)) return !0; return !1 }, associate: function (e) { for (var t = {}, n = Math.min(this.length, e.length), i = 0; i < n; i++) t[e[i]] = this[i]; return t }, link: function (e) { for (var t = {}, n = 0, i = this.length; n < i; n++) for (var r in e) if (e[r](this[n])) { t[r] = this[n], delete e[r]; break } return t }, contains: function (e, t) { return -1 != this.indexOf(e, t) }, append: function (e) { return this.push.apply(this, e), this }, getLast: function () { return this.length ? this[this.length - 1] : null }, getRandom: function () { return this.length ? this[Number.random(0, this.length - 1)] : null }, include: function (e) { return this.contains(e) || this.push(e), this }, combine: function (e) { for (var t = 0, n = e.length; t < n; t++) this.include(e[t]); return this }, erase: function (e) { for (var t = this.length; t--;) this[t] === e && this.splice(t, 1); return this }, empty: function () { return this.length = 0, this }, flatten: function () { for (var e = [], t = 0, n = this.length; t < n; t++) { var i = typeOf(this[t]); "null" != i && (e = e.concat("array" == i || "collection" == i || "arguments" == i || instanceOf(this[t], Array) ? Array.flatten(this[t]) : this[t])) } return e }, pick: function () { for (var e = 0, t = this.length; e < t; e++) if (null != this[e]) return this[e]; return null }, hexToRgb: function (e) { if (3 != this.length) return null; var t = this.map(function (e) { return 1 == e.length && (e += e), e.toInt(16) }); return e ? t : "rgb(" + t + ")" }, rgbToHex: function (e) { if (this.length < 3) return null; if (4 == this.length && 0 == this[3] && !e) return "transparent"; for (var t = [], n = 0; n < 3; n++) { var i = (this[n] - 0).toString(16); t.push(1 == i.length ? "0" + i : i) } return e ? t : "#" + t.join("") } }), String.implement({ test: function (e, t) { return ("regexp" == typeOf(e) ? e : new RegExp("" + e, t)).test(this) }, contains: function (e, t) { return t ? (t + this + t).indexOf(t + e + t) > -1 : this.indexOf(e) > -1 }, trim: function () { return this.replace(/^\s+|\s+$/g, "") }, clean: function () { return this.replace(/\s+/g, " ").trim() }, camelCase: function () { return this.replace(/-\D/g, function (e) { return e.charAt(1).toUpperCase() }) }, hyphenate: function () { return this.replace(/[A-Z]/g, function (e) { return "-" + e.charAt(0).toLowerCase() }) }, capitalize: function () { return this.replace(/\b[a-z]/g, function (e) { return e.toUpperCase() }) }, escapeRegExp: function () { return this.replace(/([-.*+?^${}()|[\]\/\\])/g, "\\$1") }, toInt: function (e) { return parseInt(this, e || 10) }, toFloat: function () { return parseFloat(this) }, hexToRgb: function (e) { var t = this.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/); return t ? t.slice(1).hexToRgb(e) : null }, rgbToHex: function (e) { var t = this.match(/\d{1,3}/g); return t ? t.rgbToHex(e) : null }, substitute: function (e, t) { return this.replace(t || /\\?\{([^{}]+)\}/g, function (t, n) { return "\\" == t.charAt(0) ? t.slice(1) : null != e[n] ? e[n] : "" }) } }), Function.extend({ attempt: function () { for (var e = 0, t = arguments.length; e < t; e++) try { return arguments[e]() } catch (e) { } return null } }), Function.implement({ attempt: function (e, t) { try { return this.apply(t, Array.from(e)) } catch (e) { } return null }, bind: function (e) { var t = this, n = arguments.length > 1 ? Array.slice(arguments, 1) : null; return function () { return n || arguments.length ? n && arguments.length ? t.apply(e, n.concat(Array.from(arguments))) : t.apply(e, n || arguments) : t.call(e) } }, pass: function (e, t) { var n = this; return null != e && (e = Array.from(e)), function () { return n.apply(t, e || arguments) } }, delay: function (e, t, n) { return setTimeout(this.pass(n, t), e) }, periodical: function (e, t, n) { return setInterval(this.pass(n, t), e) } }), Number.implement({ limit: function (e, t) { return Math.min(t, Math.max(e, this)) }, round: function (e) { return e = Math.pow(10, e || 0).toFixed(e < 0 ? -e : 0), Math.round(this * e) / e }, times: function (e, t) { for (var n = 0; n < this; n++) e.call(t, n, this) }, toFloat: function () { return parseFloat(this) }, toInt: function (e) { return parseInt(this, e || 10) } }), Number.alias("each", "times"), function (e) { var t = {};["abs", "acos", "asin", "atan", "atan2", "ceil", "cos", "exp", "floor", "log", "max", "min", "pow", "sin", "sqrt", "tan"].each(function (e) { Number[e] || (t[e] = function () { return Math[e].apply(null, [this].concat(Array.from(arguments))) }) }), Number.implement(t) }(), function () { var e = this.Class = new Type("Class", function (i) { instanceOf(i, Function) && (i = { initialize: i }); var r = function () { if (n(this), r.$prototyping) return this; this.$caller = null; var e = this.initialize ? this.initialize.apply(this, arguments) : this; return this.$caller = this.caller = null, e }.extend(this).implement(i); return r.$constructor = e, r.prototype.$constructor = r, r.prototype.parent = t, r }), t = function () { if (!this.$caller) throw new Error('The method "parent" cannot be called.'); var e = this.$caller.$name, t = this.$caller.$owner.parent, n = t ? t.prototype[e] : null; if (!n) throw new Error('The method "' + e + '" has no parent.'); return n.apply(this, arguments) }, n = function (e) { for (var t in e) { var i = e[t]; switch (typeOf(i)) { case "object": var r = function () { }; r.prototype = i, e[t] = n(new r); break; case "array": e[t] = i.clone() } } return e }, i = function (t, n, i) { if (e.Mutators.hasOwnProperty(t) && null == (n = e.Mutators[t].call(this, n))) return this; if ("function" == typeOf(n)) { if (n.$hidden) return this; this.prototype[t] = i ? n : function (e, t, n) { n.$origin && (n = n.$origin); var i = function () { if (n.$protected && null == this.$caller) throw new Error('The method "' + t + '" cannot be called.'); var e = this.caller, r = this.$caller; this.caller = r, this.$caller = i; var o = n.apply(this, arguments); return this.$caller = r, this.caller = e, o }.extend({ $owner: e, $origin: n, $name: t }); return i }(this, t, n) } else Object.merge(this.prototype, t, n); return this }; e.implement("implement", i.overloadSetter()), e.Mutators = { Extends: function (e) { this.parent = e, this.prototype = function (e) { e.$prototyping = !0; var t = new e; return delete e.$prototyping, t }(e) }, Implements: function (e) { Array.from(e).each(function (e) { var t = new e; for (var n in t) i.call(this, n, t[n], !0) }, this) } } }(), function () { this.Chain = new Class({ $chain: [], chain: function () { return this.$chain.append(Array.flatten(arguments)), this }, callChain: function () { return !!this.$chain.length && this.$chain.shift().apply(this, arguments) }, clearChain: function () { return this.$chain.empty(), this } }); var e = function (e) { return e.replace(/^on([A-Z])/, function (e, t) { return t.toLowerCase() }) }; this.Events = new Class({ $events: {}, addEvent: function (t, n, i) { return t = e(t), this.$events[t] = (this.$events[t] || []).include(n), i && (n.internal = !0), this }, addEvents: function (e) { for (var t in e) this.addEvent(t, e[t]); return this }, fireEvent: function (t, n, i) { t = e(t); var r = this.$events[t]; return r ? (n = Array.from(n), r.each(function (e) { i ? e.delay(i, this, n) : e.apply(this, n) }, this), this) : this }, removeEvent: function (t, n) { t = e(t); var i = this.$events[t]; if (i && !n.internal) { var r = i.indexOf(n); -1 != r && delete i[r] } return this }, removeEvents: function (t) { var n; if ("object" == typeOf(t)) { for (n in t) this.removeEvent(n, t[n]); return this } for (n in t && (t = e(t)), this.$events) if (!t || t == n) for (var i = this.$events[n], r = i.length; r--;) this.removeEvent(n, i[r]); return this } }), this.Options = new Class({ setOptions: function () { var e = this.options = Object.merge.apply(null, [{}, this.options].append(arguments)); if (!this.addEvent) return this; for (var t in e) "function" == typeOf(e[t]) && /^on[A-Z]/.test(t) && (this.addEvent(t, e[t]), delete e[t]); return this } }) }(), function () { var e = this.document, t = e.window = this, n = 1; this.$uid = t.ActiveXObject ? function (e) { return (e.uid || (e.uid = [n++]))[0] } : function (e) { return e.uid || (e.uid = n++) }, $uid(t), $uid(e); var i, r, o, a = navigator.userAgent.toLowerCase(), s = navigator.platform.toLowerCase(), l = a.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/) || [null, "unknown", 0], c = "ie" == l[1] && e.documentMode, u = this.Browser = { extend: Function.prototype.extend, name: "version" == l[1] ? l[3] : l[1], version: c || parseFloat("opera" == l[1] && l[4] ? l[4] : l[2]), Platform: { name: a.match(/ip(?:ad|od|hone)/) ? "ios" : (a.match(/(?:webos|android)/) || s.match(/mac|win|linux/) || ["other"])[0] }, Features: { xpath: !!e.evaluate, air: !!t.runtime, query: !!e.querySelector, json: !!t.JSON }, Plugins: {} }; u[u.name] = !0, u[u.name + parseInt(u.version, 10)] = !0, u.Platform[u.Platform.name] = !0, u.Request = (i = function () { return new XMLHttpRequest }, r = function () { return new ActiveXObject("MSXML2.XMLHTTP") }, o = function () { return new ActiveXObject("Microsoft.XMLHTTP") }, Function.attempt(function () { return i(), i }, function () { return r(), r }, function () { return o(), o })), u.Features.xhr = !!u.Request; var p = (Function.attempt(function () { return navigator.plugins["Shockwave Flash"].description }, function () { return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version") }) || "0 r0").match(/\d+/g); if (u.Plugins.Flash = { version: Number(p[0] || "0." + p[1]) || 0, build: Number(p[2]) || 0 }, u.exec = function (n) { if (!n) return n; if (t.execScript) t.execScript(n); else { var i = e.createElement("script"); i.setAttribute("type", "text/javascript"), i.text = n, e.head.appendChild(i), e.head.removeChild(i) } return n }, String.implement("stripScripts", function (e) { var t = "", n = this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi, function (e, n) { return t += n + "\n", "" }); return !0 === e ? u.exec(t) : "function" == typeOf(e) && e(t, n), n }), u.extend({ Document: this.Document, Window: this.Window, Element: this.Element, Event: this.Event }), this.Window = this.$constructor = new Type("Window", function () { }), this.$family = Function.from("window").hide(), Window.mirror(function (e, n) { t[e] = n }), this.Document = e.$constructor = new Type("Document", function () { }), e.$family = Function.from("document").hide(), Document.mirror(function (t, n) { e[t] = n }), e.html = e.documentElement, e.head = e.getElementsByTagName("head")[0], e.execCommand) try { e.execCommand("BackgroundImageCache", !1, !0) } catch (e) { } if (this.attachEvent && !this.addEventListener) { var h = function () { this.detachEvent("onunload", h), e.head = e.html = e.window = null }; this.attachEvent("onunload", h) } var d = Array.from; try { d(e.html.childNodes) } catch (e) { Array.from = function (e) { if ("string" != typeof e && Type.isEnumerable(e) && "array" != typeOf(e)) { for (var t = e.length, n = new Array(t) ; t--;) n[t] = e[t]; return n } return d(e) }; var f = Array.prototype, m = f.slice;["pop", "push", "reverse", "shift", "sort", "splice", "unshift", "concat", "join", "slice"].each(function (e) { var t = f[e]; Array[e] = function (e) { return t.apply(Array.from(e), m.call(arguments, 1)) } }) } }(), function () { function e(e, o, a, l, u, h, d, f, m, v, g, b, y, $, w) { if ((o || -1 === n) && (t.expressions[++n] = [], i = -1, o)) return ""; if (a || l || -1 === i) { a = a || " "; var S = t.expressions[n]; r && S[i] && (S[i].reverseCombinator = c(a)), S[++i] = { combinator: a, tag: "*" } } var E = t.expressions[n][i]; if (u) E.tag = u.replace(s, ""); else if (h) E.id = h.replace(s, ""); else if (d) d = d.replace(s, ""), E.classList || (E.classList = []), E.classes || (E.classes = []), E.classList.push(d), E.classes.push({ value: d, regexp: new RegExp("(^|\\s)" + p(d) + "(\\s|$)") }); else if (b) w = (w = w || $) ? w.replace(s, "") : null, E.pseudos || (E.pseudos = []), E.pseudos.push({ key: b.replace(s, ""), value: w }); else if (f) { var C, x; switch (f = f.replace(s, ""), g = (g || "").replace(s, ""), m) { case "^=": x = new RegExp("^" + p(g)); break; case "$=": x = new RegExp(p(g) + "$"); break; case "~=": x = new RegExp("(^|\\s)" + p(g) + "(\\s|$)"); break; case "|=": x = new RegExp("^" + p(g) + "(-|$)"); break; case "=": C = function (e) { return g == e }; break; case "*=": C = function (e) { return e && e.indexOf(g) > -1 }; break; case "!=": C = function (e) { return g != e }; break; default: C = function (e) { return !!e } } "" == g && /^[*$^]=$/.test(m) && (C = function () { return !1 }), C || (C = function (e) { return e && x.test(e) }), E.attributes || (E.attributes = []), E.attributes.push({ key: f, operator: m, value: g, test: C }) } return "" } var t, n, i, r, o = {}, a = {}, s = /\\/g, l = function (i, s) { if (null == i) return null; if (!0 === i.Slick) return i; i = ("" + i).replace(/^\s+|\s+$/g, ""); var c = (r = !!s) ? a : o; if (c[i]) return c[i]; for (t = { Slick: !0, expressions: [], raw: i, reverse: function () { return l(this.raw, !0) } }, n = -1; i != (i = i.replace(h, e)) ;); return t.length = t.expressions.length, c[i] = r ? u(t) : t }, c = function (e) { return "!" === e ? " " : " " === e ? "!" : /^!/.test(e) ? e.replace(/^!/, "") : "!" + e }, u = function (e) { for (var t = e.expressions, n = 0; n < t.length; n++) { for (var i = t[n], r = { parts: [], tag: "*", combinator: c(i[0].combinator) }, o = 0; o < i.length; o++) { var a = i[o]; a.reverseCombinator || (a.reverseCombinator = " "), a.combinator = a.reverseCombinator, delete a.reverseCombinator } i.reverse().push(r) } return e }, p = function (e) { return e.replace(/[-[\]{}()*+?.\\^$|,#\s]/g, "\\$&") }, h = new RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|:+(<unicode>+)(?:\\((?:(?:([\"'])([^\\12]*)\\12)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/, "[" + p(">+~`!@$%^&={}\\;</") + "]").replace(/<unicode>/g, "(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g, "(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")), d = this.Slick || {}; d.parse = function (e) { return l(e) }, d.escapeRegExp = p, this.Slick || (this.Slick = d) }.apply("undefined" != typeof exports ? exports : this), function () { var e = { isNativeCode: function (e) { return /\{\s*\[native code\]\s*\}/.test("" + e) }, isXML: function (e) { return !!e.xmlVersion || !!e.xml || "[object XMLDocument]" === Object.prototype.toString.call(e) || 9 === e.nodeType && "HTML" !== e.documentElement.nodeName }, setDocument: function (e) { if (9 === e.nodeType); else if (e.ownerDocument) e = e.ownerDocument; else { if (!e.navigator) return; e = e.document } if (this.document !== e) { this.document = e; var t = this.root = e.documentElement; this.isXMLDocument = this.isXML(e), this.brokenStarGEBTN = this.starSelectsClosedQSA = this.idGetsName = this.brokenMixedCaseQSA = this.brokenGEBCN = this.brokenCheckedQSA = this.brokenEmptyAttributeQSA = this.isHTMLDocument = !1; var n, i, r, o, a, s, l = e.createElement("div"); t.appendChild(l); try { s = "slick_getbyid_test", l.innerHTML = '<a id="' + s + '"></a>', this.isHTMLDocument = !!e.getElementById(s) } catch (e) { } if (this.isHTMLDocument) { l.style.display = "none", l.appendChild(e.createComment("")), i = l.getElementsByTagName("*").length > 0; try { l.innerHTML = "foo</foo>", n = (a = l.getElementsByTagName("*")) && a.length && "/" == a[0].nodeName.charAt(0) } catch (e) { } if (this.brokenStarGEBTN = i || n, l.querySelectorAll) try { l.innerHTML = "foo</foo>", a = l.querySelectorAll("*"), this.starSelectsClosedQSA = a && a.length && "/" == a[0].nodeName.charAt(0) } catch (e) { } try { s = "slick_id_gets_name", l.innerHTML = '<a name="' + s + '"></a><b id="' + s + '"></b>', this.idGetsName = e.getElementById(s) === l.firstChild } catch (e) { } try { l.innerHTML = '<a class="MiXedCaSe"></a>', this.brokenMixedCaseQSA = !l.querySelectorAll(".MiXedCaSe").length } catch (e) { } try { l.innerHTML = '<a class="f"></a><a class="b"></a>', l.getElementsByClassName("b").length, l.firstChild.className = "b", o = 2 != l.getElementsByClassName("b").length } catch (e) { } try { l.innerHTML = '<a class="a"></a><a class="f b a"></a>', r = 2 != l.getElementsByClassName("a").length } catch (e) { } this.brokenGEBCN = o || r; try { l.innerHTML = '<select><option selected="selected">a</option></select>', this.brokenCheckedQSA = 0 == l.querySelectorAll(":checked").length } catch (e) { } try { l.innerHTML = '<a class=""></a>', this.brokenEmptyAttributeQSA = 0 != l.querySelectorAll('[class*=""]').length } catch (e) { } } t.removeChild(l), l = null, this.hasAttribute = t && this.isNativeCode(t.hasAttribute) ? function (e, t) { return e.hasAttribute(t) } : function (e, t) { return !(!(e = e.getAttributeNode(t)) || !e.specified && !e.nodeValue) }, this.contains = t && this.isNativeCode(t.contains) ? function (e, t) { return e.contains(t) } : t && t.compareDocumentPosition ? function (e, t) { return e === t || !!(16 & e.compareDocumentPosition(t)) } : function (e, t) { if (t) do { if (t === e) return !0 } while (t = t.parentNode); return !1 }, this.documentSorter = t.compareDocumentPosition ? function (e, t) { return e.compareDocumentPosition && t.compareDocumentPosition ? 4 & e.compareDocumentPosition(t) ? -1 : e === t ? 0 : 1 : 0 } : "sourceIndex" in t ? function (e, t) { return e.sourceIndex && t.sourceIndex ? e.sourceIndex - t.sourceIndex : 0 } : e.createRange ? function (e, t) { if (!e.ownerDocument || !t.ownerDocument) return 0; var n = e.ownerDocument.createRange(), i = t.ownerDocument.createRange(); return n.setStart(e, 0), n.setEnd(e, 0), i.setStart(t, 0), i.setEnd(t, 0), n.compareBoundaryPoints(Range.START_TO_END, i) } : null, this.getUID = this.isHTMLDocument ? this.getUIDHTML : this.getUIDXML } }, search: function (e, t, n, i) { var r = this.found = i ? null : n || []; if (!e) return r; if (e.navigator) e = e.document; else if (!e.nodeType) return r; var o, a, s = this.uniques = {}; this.document !== (e.ownerDocument || e) && this.setDocument(e); var l = !(!n || !n.length); if (l) for (a = r.length; a--;) this.uniques[this.getUID(r[a])] = !0; if ("string" == typeof t) { for (a = this.overrides.length; a--;) { var c = this.overrides[a]; if (c.regexp.test(t)) { var u = c.method.call(e, t, r, i); if (!1 === u) continue; return !0 === u ? r : u } } if (!(o = this.Slick.parse(t)).length) return r } else { if (null == t) return r; if (!t.Slick) return this.contains(e.documentElement || e, t) ? (r ? r.push(t) : r = t, r) : r; o = t } this.posNTH = {}, this.posNTHLast = {}, this.posNTHType = {}, this.posNTHTypeLast = {}, this.push = !l && (i || 1 == o.length && 1 == o.expressions[0].length) ? this.pushArray : this.pushUID, null == r && (r = []); var p, h, d, f, m, v, g, b, y, $, w, S, E, C, x = o.expressions; e: for (a = 0; S = x[a]; a++) for (p = 0; E = S[p]; p++) { if (!this[f = "combinator:" + E.combinator]) continue e; if (m = this.isXMLDocument ? E.tag : E.tag.toUpperCase(), v = E.id, g = E.classList, b = E.classes, y = E.attributes, $ = E.pseudos, C = p === S.length - 1, this.bitUniques = {}, C ? (this.uniques = s, this.found = r) : (this.uniques = {}, this.found = []), 0 === p) { if (this[f](e, m, v, b, y, $, g), i && C && r.length) break e } else if (i && C) { for (h = 0, d = w.length; h < d; h++) if (this[f](w[h], m, v, b, y, $, g), r.length) break e } else for (h = 0, d = w.length; h < d; h++) this[f](w[h], m, v, b, y, $, g); w = this.found } return (l || o.expressions.length > 1) && this.sort(r), i ? r[0] || null : r }, uidx: 1, uidk: "slick:uniqueid", getUIDXML: function (e) { var t = e.getAttribute(this.uidk); return t || (t = this.uidx++, e.setAttribute(this.uidk, t)), t }, getUIDHTML: function (e) { return e.uniqueNumber || (e.uniqueNumber = this.uidx++) }, sort: function (e) { return this.documentSorter ? (e.sort(this.documentSorter), e) : e }, cacheNTH: {}, matchNTH: /^([+-]?\d*)?([a-z]+)?([+-]\d+)?$/, parseNTHArgument: function (e) { var t = e.match(this.matchNTH); if (!t) return !1; var n = t[2] || !1, i = t[1] || 1; "-" == i && (i = -1); var r = +t[3] || 0; return t = "n" == n ? { a: i, b: r } : "odd" == n ? { a: 2, b: 1 } : "even" == n ? { a: 2, b: 0 } : { a: 0, b: i }, this.cacheNTH[e] = t }, createNTHPseudo: function (e, t, n, i) { return function (r, o) { var a = this.getUID(r); if (!this[n][a]) { var s = r.parentNode; if (!s) return !1; var l = s[e], c = 1; if (i) { var u = r.nodeName; do { l.nodeName === u && (this[n][this.getUID(l)] = c++) } while (l = l[t]) } else do { 1 === l.nodeType && (this[n][this.getUID(l)] = c++) } while (l = l[t]) } o = o || "n"; var p = this.cacheNTH[o] || this.parseNTHArgument(o); if (!p) return !1; var h = p.a, d = p.b, f = this[n][a]; if (0 == h) return d == f; if (h > 0) { if (f < d) return !1 } else if (d < f) return !1; return (f - d) % h == 0 } }, pushArray: function (e, t, n, i, r, o) { this.matchSelector(e, t, n, i, r, o) && this.found.push(e) }, pushUID: function (e, t, n, i, r, o) { var a = this.getUID(e); !this.uniques[a] && this.matchSelector(e, t, n, i, r, o) && (this.uniques[a] = !0, this.found.push(e)) }, matchNode: function (e, t) { var n = this.Slick.parse(t); if (!n) return !0; if (1 == n.length && 1 == n.expressions[0].length) { var i = n.expressions[0][0]; return this.matchSelector(e, this.isXMLDocument ? i.tag : i.tag.toUpperCase(), i.id, i.classes, i.attributes, i.pseudos) } for (var r, o = this.search(this.document, n), a = 0; r = o[a++];) if (r === e) return !0; return !1 }, matchPseudo: function (e, t, n) { var i = "pseudo:" + t; if (this[i]) return this[i](e, n); var r = this.getAttribute(e, t); return n ? n == r : !!r }, matchSelector: function (e, t, n, i, r, o) { if (t) if ("*" == t) { if (e.nodeName < "@") return !1 } else if (e.nodeName != t) return !1; if (n && e.getAttribute("id") != n) return !1; var a, s, l; if (i) for (a = i.length; a--;) if (!(l = "className" in e ? e.className : e.getAttribute("class")) || !i[a].regexp.test(l)) return !1; if (r) for (a = r.length; a--;) if ((s = r[a]).operator ? !s.test(this.getAttribute(e, s.key)) : !this.hasAttribute(e, s.key)) return !1; if (o) for (a = o.length; a--;) if (s = o[a], !this.matchPseudo(e, s.key, s.value)) return !1; return !0 } }, t = { " ": function (e, t, n, i, r, o, a) { var s, l, c; if (this.isHTMLDocument) { e: if (n) { if (!(l = this.document.getElementById(n)) && e.all || this.idGetsName && l && l.getAttributeNode("id").nodeValue != n) { if (!(c = e.all[n])) return; for (c[0] || (c = [c]), s = 0; l = c[s++];) if (l.getAttributeNode("id").nodeValue == n) { this.push(l, t, null, i, r, o); break } return } if (!l) { if (this.contains(this.document.documentElement, e)) return; break e } if (this.document !== e && !this.contains(e, l)) return; return void this.push(l, t, null, i, r, o) }e: if (i && e.getElementsByClassName && !this.brokenGEBCN) { if (!(c = e.getElementsByClassName(a.join(" "))) || !c.length) break e; for (s = 0; l = c[s++];) this.push(l, t, n, null, r, o); return } } if ((c = e.getElementsByTagName(t)) && c.length) for (this.brokenStarGEBTN || (t = null), s = 0; l = c[s++];) this.push(l, t, n, i, r, o) }, ">": function (e, t, n, i, r, o) { if (e = e.firstChild) do { 1 === e.nodeType && this.push(e, t, n, i, r, o) } while (e = e.nextSibling) }, "+": function (e, t, n, i, r, o) { for (; e = e.nextSibling;) if (1 === e.nodeType) { this.push(e, t, n, i, r, o); break } }, "^": function (e, t, n, i, r, o) { (e = e.firstChild) && (1 === e.nodeType ? this.push(e, t, n, i, r, o) : this["combinator:+"](e, t, n, i, r, o)) }, "~": function (e, t, n, i, r, o) { for (; e = e.nextSibling;) if (1 === e.nodeType) { var a = this.getUID(e); if (this.bitUniques[a]) break; this.bitUniques[a] = !0, this.push(e, t, n, i, r, o) } }, "++": function (e, t, n, i, r, o) { this["combinator:+"](e, t, n, i, r, o), this["combinator:!+"](e, t, n, i, r, o) }, "~~": function (e, t, n, i, r, o) { this["combinator:~"](e, t, n, i, r, o), this["combinator:!~"](e, t, n, i, r, o) }, "!": function (e, t, n, i, r, o) { for (; e = e.parentNode;) e !== this.document && this.push(e, t, n, i, r, o) }, "!>": function (e, t, n, i, r, o) { (e = e.parentNode) !== this.document && this.push(e, t, n, i, r, o) }, "!+": function (e, t, n, i, r, o) { for (; e = e.previousSibling;) if (1 === e.nodeType) { this.push(e, t, n, i, r, o); break } }, "!^": function (e, t, n, i, r, o) { (e = e.lastChild) && (1 === e.nodeType ? this.push(e, t, n, i, r, o) : this["combinator:!+"](e, t, n, i, r, o)) }, "!~": function (e, t, n, i, r, o) { for (; e = e.previousSibling;) if (1 === e.nodeType) { var a = this.getUID(e); if (this.bitUniques[a]) break; this.bitUniques[a] = !0, this.push(e, t, n, i, r, o) } } }; for (var n in t) e["combinator:" + n] = t[n]; var i = { empty: function (e) { var t = e.firstChild; return !(t && 1 == t.nodeType || (e.innerText || e.textContent || "").length) }, not: function (e, t) { return !this.matchNode(e, t) }, contains: function (e, t) { return (e.innerText || e.textContent || "").indexOf(t) > -1 }, "first-child": function (e) { for (; e = e.previousSibling;) if (1 === e.nodeType) return !1; return !0 }, "last-child": function (e) { for (; e = e.nextSibling;) if (1 === e.nodeType) return !1; return !0 }, "only-child": function (e) { for (var t = e; t = t.previousSibling;) if (1 === t.nodeType) return !1; for (var n = e; n = n.nextSibling;) if (1 === n.nodeType) return !1; return !0 }, "nth-child": e.createNTHPseudo("firstChild", "nextSibling", "posNTH"), "nth-last-child": e.createNTHPseudo("lastChild", "previousSibling", "posNTHLast"), "nth-of-type": e.createNTHPseudo("firstChild", "nextSibling", "posNTHType", !0), "nth-last-of-type": e.createNTHPseudo("lastChild", "previousSibling", "posNTHTypeLast", !0), index: function (e, t) { return this["pseudo:nth-child"](e, "" + t + 1) }, even: function (e, t) { return this["pseudo:nth-child"](e, "2n") }, odd: function (e, t) { return this["pseudo:nth-child"](e, "2n+1") }, "first-of-type": function (e) { for (var t = e.nodeName; e = e.previousSibling;) if (e.nodeName === t) return !1; return !0 }, "last-of-type": function (e) { for (var t = e.nodeName; e = e.nextSibling;) if (e.nodeName === t) return !1; return !0 }, "only-of-type": function (e) { for (var t = e, n = e.nodeName; t = t.previousSibling;) if (t.nodeName === n) return !1; for (var i = e; i = i.nextSibling;) if (i.nodeName === n) return !1; return !0 }, enabled: function (e) { return !1 === e.disabled }, disabled: function (e) { return !0 === e.disabled }, checked: function (e) { return e.checked || e.selected }, focus: function (e) { return this.isHTMLDocument && this.document.activeElement === e && (e.href || e.type || this.hasAttribute(e, "tabindex")) }, root: function (e) { return e === this.root }, selected: function (e) { return e.selected } }; for (var r in i) e["pseudo:" + r] = i[r]; e.attributeGetters = { class: function () { return "className" in this ? this.className : this.getAttribute("class") }, for: function () { return "htmlFor" in this ? this.htmlFor : this.getAttribute("for") }, href: function () { return "href" in this ? this.getAttribute("href", 2) : this.getAttribute("href") }, style: function () { return this.style ? this.style.cssText : this.getAttribute("style") } }, e.getAttribute = function (e, t) { var n = this.attributeGetters[t]; if (n) return n.call(e); var i = e.getAttributeNode(t); return i ? i.nodeValue : null }, e.overrides = [], e.override = function (e, t) { this.overrides.push({ regexp: e, method: t }) }; var o = /\[.*[*$^]=(?:["']{2})?\]/; e.override(/./, function (t, n, i) { if (!this.querySelectorAll || 9 != this.nodeType || !e.isHTMLDocument || e.brokenMixedCaseQSA || e.brokenCheckedQSA && t.indexOf(":checked") > -1 || e.brokenEmptyAttributeQSA && o.test(t) || a.disableQSA) return !1; var r, s; try { if (i) return this.querySelector(t) || null; r = this.querySelectorAll(t) } catch (e) { return !1 } var l, c = !!n.length; if (e.starSelectsClosedQSA) for (l = 0; s = r[l++];) !(s.nodeName > "@") || c && e.uniques[e.getUIDHTML(s)] || n.push(s); else for (l = 0; s = r[l++];) c && e.uniques[e.getUIDHTML(s)] || n.push(s); return c && e.sort(n), !0 }), e.override(/^[\w-]+$|^\*$/, function (t, n, i) { var r = t; if ("*" == r && e.brokenStarGEBTN) return !1; var o = this.getElementsByTagName(r); if (i) return o[0] || null; var a, s, l = !!n.length; for (a = 0; s = o[a++];) l && e.uniques[e.getUID(s)] || n.push(s); return l && e.sort(n), !0 }), e.override(/^\.[\w-]+$/, function (t, n, i) { if (!e.isHTMLDocument || !this.getElementsByClassName && this.querySelectorAll) return !1; var r, o, s, l = !(!n || !n.length), c = t.substring(1); if (this.getElementsByClassName && !e.brokenGEBCN) { if (r = this.getElementsByClassName(c), i) return r[0] || null; for (s = 0; o = r[s++];) l && e.uniques[e.getUIDHTML(o)] || n.push(o) } else { var u = new RegExp("(^|\\s)" + a.escapeRegExp(c) + "(\\s|$)"); for (r = this.getElementsByTagName("*"), s = 0; o = r[s++];) if ((c = o.className) && u.test(c)) { if (i) return o; l && e.uniques[e.getUIDHTML(o)] || n.push(o) } } return l && e.sort(n), !i || null }), e.override(/^#[\w-]+$/, function (t, n, i) { if (!e.isHTMLDocument || 9 != this.nodeType) return !1; var r = t.substring(1), o = this.getElementById(r); if (!o) return n; if (e.idGetsName && o.getAttributeNode("id").nodeValue != r) return !1; if (i) return o || null; var a = !!n.length; return a && e.uniques[e.getUIDHTML(o)] || n.push(o), a && e.sort(n), !0 }), "undefined" != typeof document && e.setDocument(document); var a = e.Slick = this.Slick || {}; a.version = "0.9dev", a.search = function (t, n, i) { return e.search(t, n, i) }, a.find = function (t, n) { return e.search(t, n, null, !0) }, a.contains = function (t, n) { return e.setDocument(t), e.contains(t, n) }, a.getAttribute = function (t, n) { return e.getAttribute(t, n) }, a.match = function (t, n) { return !(!t || !n) && (!n || n === t || "string" == typeof n && (e.setDocument(t), e.matchNode(t, n))) }, a.defineAttributeGetter = function (t, n) { return e.attributeGetters[t] = n, this }, a.lookupAttributeGetter = function (t) { return e.attributeGetters[t] }, a.definePseudo = function (t, n) { return e["pseudo:" + t] = function (e, t) { return n.call(e, t) }, this }, a.lookupPseudo = function (t) { var n = e["pseudo:" + t]; return n ? function (e) { return n.call(this, e) } : null }, a.override = function (t, n) { return e.override(t, n), this }, a.isXML = e.isXML, a.uidOf = function (t) { return e.getUIDHTML(t) }, this.Slick || (this.Slick = a) }.apply("undefined" != typeof exports ? exports : this); var Element = function (e, t) { var n = Element.Constructors[e]; if (n) return n(t); if ("string" != typeof e) return document.id(e).set(t); if (t || (t = {}), !e.test(/^[\w-]+$/)) { var i = Slick.parse(e).expressions[0][0]; e = "*" == i.tag ? "div" : i.tag, i.id && null == t.id && (t.id = i.id); var r = i.attributes; if (r) for (var o = 0, a = r.length; o < a; o++) { var s = r[o]; null != s.value && "=" == s.operator && null == t[s.key] && (t[s.key] = s.value) } i.classList && null == t.class && (t.class = i.classList.join(" ")) } return document.newElement(e, t) }; Browser.Element && (Element.prototype = Browser.Element.prototype), new Type("Element", Element).mirror(function (e) { if (!Array.prototype[e]) { var t = {}; t[e] = function () { for (var t = [], n = arguments, i = !0, r = 0, o = this.length; r < o; r++) { var a = this[r], s = t[r] = a[e].apply(a, n); i = i && "element" == typeOf(s) } return i ? new Elements(t) : t }, Elements.implement(t) } }), Browser.Element || (Element.parent = Object, Element.Prototype = { $family: Function.from("element").hide() }, Element.mirror(function (e, t) { Element.Prototype[e] = t })), Element.Constructors = {}; var IFrame = new Type("IFrame", function () { var e, t = Array.link(arguments, { properties: Type.isObject, iframe: function (e) { return null != e } }), n = t.properties || {}; t.iframe && (e = document.id(t.iframe)); var i = n.onload || function () { }; delete n.onload, n.id = n.name = [n.id, n.name, e ? e.id || e.name : "IFrame_" + String.generateUID()].pick(), e = new Element(e || "iframe", n); var r = function () { i.call(e.contentWindow) }; return window.frames[n.id] ? r() : e.addListener("load", r), e }), Elements = this.Elements = function (e) { if (e && e.length) for (var t, n = {}, i = 0; t = e[i++];) { var r = Slick.uidOf(t); n[r] || (n[r] = !0, this.push(t)) } }; Elements.prototype = { length: 0 }, Elements.parent = Array, new Type("Elements", Elements).implement({ filter: function (e, t) { return e ? new Elements(Array.filter(this, "string" == typeOf(e) ? function (t) { return t.match(e) } : e, t)) : this }.protect(), push: function () { for (var e = this.length, t = 0, n = arguments.length; t < n; t++) { var i = document.id(arguments[t]); i && (this[e++] = i) } return this.length = e }.protect(), concat: function () { for (var e = new Elements(this), t = 0, n = arguments.length; t < n; t++) { var i = arguments[t]; Type.isEnumerable(i) ? e.append(i) : e.push(i) } return e }.protect(), append: function (e) { for (var t = 0, n = e.length; t < n; t++) this.push(e[t]); return this }.protect(), empty: function () { for (; this.length;) delete this[--this.length]; return this }.protect() }), function () { var e, t = Array.prototype.splice, n = { 0: 0, 1: 1, length: 2 }; t.call(n, 1, 1), 1 == n[1] && Elements.implement("splice", function () { var e = this.length; for (t.apply(this, arguments) ; e >= this.length;) delete this[e--]; return this }.protect()), Elements.implement(Array.prototype), Array.mirror(Elements); try { var i = document.createElement("<input name=x>"); e = "x" == i.name } catch (t) { } var r = function (e) { return ("" + e).replace(/&/g, "&amp;").replace(/"/g, "&quot;") }; Document.implement({ newElement: function (t, n) { return n && null != n.checked && (n.defaultChecked = n.checked), e && n && (t = "<" + t, n.name && (t += ' name="' + r(n.name) + '"'), n.type && (t += ' type="' + r(n.type) + '"'), t += ">", delete n.name, delete n.type), this.id(this.createElement(t)).set(n) } }) }(), Document.implement({ newTextNode: function (e) { return this.createTextNode(e) }, getDocument: function () { return this }, getWindow: function () { return this.window }, id: function () { var e = { string: function (t, n, i) { return (t = Slick.find(i, "#" + t.replace(/(\W)/g, "\\$1"))) ? e.element(t, n) : null }, element: function (e, t) { return $uid(e), t || e.$family || /^object|embed$/i.test(e.tagName) || Object.append(e, Element.Prototype), e }, object: function (t, n, i) { return t.toElement ? e.element(t.toElement(i), n) : null } }; return e.textnode = e.whitespace = e.window = e.document = function (e) { return e }, function (t, n, i) { if (t && t.$family && t.uid) return t; var r = typeOf(t); return e[r] ? e[r](t, n, i || document) : null } }() }), null == window.$ && Window.implement("$", function (e, t) { return document.id(e, t, this.document) }), Window.implement({ getDocument: function () { return this.document }, getWindow: function () { return this } }), [Document, Element].invoke("implement", { getElements: function (e) { return Slick.search(this, e, new Elements) }, getElement: function (e) { return document.id(Slick.find(this, e)) } }), null == window.$$ && Window.implement("$$", function (e) { if (1 == arguments.length) { if ("string" == typeof e) return Slick.search(this.document, e, new Elements); if (Type.isEnumerable(e)) return new Elements(e) } return new Elements(arguments) }), function () { var e = {}, t = {}, n = { input: "checked", option: "selected", textarea: "value" }, i = function (e) { return t[e] || (t[e] = {}) }, r = function (n) { n.removeEvents && n.removeEvents(), n.clearAttributes && n.clearAttributes(); var i = n.uid; return null != i && (delete e[i], delete t[i]), n }, o = ["defaultValue", "accessKey", "cellPadding", "cellSpacing", "colSpan", "frameBorder", "maxLength", "readOnly", "rowSpan", "tabIndex", "useMap"], a = ["compact", "nowrap", "ismap", "declare", "noshade", "checked", "disabled", "readOnly", "multiple", "selected", "noresize", "defer"], s = { html: "innerHTML", class: "className", for: "htmlFor", text: null == document.createElement("div").innerText ? "textContent" : "innerText" }, l = ["type"], c = ["value", "defaultValue"], u = /^(?:href|src|usemap)$/i; a = a.associate(a), o = o.associate(o.map(String.toLowerCase)), l = l.associate(l), Object.append(s, c.associate(c)); var p = { before: function (e, t) { var n = t.parentNode; n && n.insertBefore(e, t) }, after: function (e, t) { var n = t.parentNode; n && n.insertBefore(e, t.nextSibling) }, bottom: function (e, t) { t.appendChild(e) }, top: function (e, t) { t.insertBefore(e, t.firstChild) } }; p.inside = p.bottom; var h = function (e, t) { if (!e) return t; for (var n = (e = Slick.parse(e)).expressions, i = n.length; i--;) n[i][0].combinator = t; return e }; Element.implement({ set: function (e, t) { var n = Element.Properties[e]; n && n.set ? n.set.call(this, t) : this.setProperty(e, t) }.overloadSetter(), get: function (e) { var t = Element.Properties[e]; return t && t.get ? t.get.apply(this) : this.getProperty(e) }.overloadGetter(), erase: function (e) { var t = Element.Properties[e]; return t && t.erase ? t.erase.apply(this) : this.removeProperty(e), this }, setProperty: function (e, t) { if (e = o[e] || e, null == t) return this.removeProperty(e); var n = s[e]; return n ? this[n] = t : a[e] ? this[e] = !!t : this.setAttribute(e, "" + t), this }, setProperties: function (e) { for (var t in e) this.setProperty(t, e[t]); return this }, getProperty: function (e) { e = o[e] || e; var t = s[e] || l[e]; return t ? this[t] : a[e] ? !!this[e] : (u.test(e) ? this.getAttribute(e, 2) : (t = this.getAttributeNode(e)) ? t.nodeValue : null) || null }, getProperties: function () { var e = Array.from(arguments); return e.map(this.getProperty, this).associate(e) }, removeProperty: function (e) { e = o[e] || e; var t = s[e]; return t ? this[t] = "" : a[e] ? this[e] = !1 : this.removeAttribute(e), this }, removeProperties: function () { return Array.each(arguments, this.removeProperty, this), this }, hasClass: function (e) { return this.className.clean().contains(e, " ") }, addClass: function (e) { return this.hasClass(e) || (this.className = (this.className + " " + e).clean()), this }, removeClass: function (e) { return this.className = this.className.replace(new RegExp("(^|\\s)" + e + "(?:\\s|$)"), "$1"), this }, toggleClass: function (e, t) { return null == t && (t = !this.hasClass(e)), t ? this.addClass(e) : this.removeClass(e) }, adopt: function () { var e, t = this, n = Array.flatten(arguments), i = n.length; i > 1 && (t = e = document.createDocumentFragment()); for (var r = 0; r < i; r++) { var o = document.id(n[r], !0); o && t.appendChild(o) } return e && this.appendChild(e), this }, appendText: function (e, t) { return this.grab(this.getDocument().newTextNode(e), t) }, grab: function (e, t) { return p[t || "bottom"](document.id(e, !0), this), this }, inject: function (e, t) { return p[t || "bottom"](this, document.id(e, !0)), this }, replaces: function (e) { return (e = document.id(e, !0)).parentNode.replaceChild(this, e), this }, wraps: function (e, t) { return e = document.id(e, !0), this.replaces(e).grab(e, t) }, getPrevious: function (e) { return document.id(Slick.find(this, h(e, "!~"))) }, getAllPrevious: function (e) { return Slick.search(this, h(e, "!~"), new Elements) }, getNext: function (e) { return document.id(Slick.find(this, h(e, "~"))) }, getAllNext: function (e) { return Slick.search(this, h(e, "~"), new Elements) }, getFirst: function (e) { return document.id(Slick.search(this, h(e, ">"))[0]) }, getLast: function (e) { return document.id(Slick.search(this, h(e, ">")).getLast()) }, getParent: function (e) { return document.id(Slick.find(this, h(e, "!"))) }, getParents: function (e) { return Slick.search(this, h(e, "!"), new Elements) }, getSiblings: function (e) { return Slick.search(this, h(e, "~~"), new Elements) }, getChildren: function (e) { return Slick.search(this, h(e, ">"), new Elements) }, getWindow: function () { return this.ownerDocument.window }, getDocument: function () { return this.ownerDocument }, getElementById: function (e) { return document.id(Slick.find(this, "#" + ("" + e).replace(/(\W)/g, "\\$1"))) }, getSelected: function () { return this.selectedIndex, new Elements(Array.from(this.options).filter(function (e) { return e.selected })) }, toQueryString: function () { var e = []; return this.getElements("input, select, textarea").each(function (t) { var n = t.type; if (t.name && !t.disabled && "submit" != n && "reset" != n && "file" != n && "image" != n) { var i = "select" == t.get("tag") ? t.getSelected().map(function (e) { return document.id(e).get("value") }) : "radio" != n && "checkbox" != n || t.checked ? t.get("value") : null; Array.from(i).each(function (n) { void 0 !== n && e.push(encodeURIComponent(t.name) + "=" + encodeURIComponent(n)) }) } }), e.join("&") }, clone: function (e, t) { e = !1 !== e; var i, r = this.cloneNode(e), o = function (e, i) { if (t || e.removeAttribute("id"), Browser.ie && (e.clearAttributes(), e.mergeAttributes(i), e.removeAttribute("uid"), e.options)) for (var r = e.options, o = i.options, a = r.length; a--;) r[a].selected = o[a].selected; var s = n[i.tagName.toLowerCase()]; s && i[s] && (e[s] = i[s]) }; if (e) { var a = r.getElementsByTagName("*"), s = this.getElementsByTagName("*"); for (i = a.length; i--;) o(a[i], s[i]) } if (o(r, this), Browser.ie) { var l = this.getElementsByTagName("object"), c = r.getElementsByTagName("object"), u = l.length, p = c.length; for (i = 0; i < u && i < p; i++) c[i].outerHTML = l[i].outerHTML } return document.id(r) }, destroy: function () { var e = r(this).getElementsByTagName("*"); return Array.each(e, r), Element.dispose(this), null }, empty: function () { return Array.from(this.childNodes).each(Element.dispose), this }, dispose: function () { return this.parentNode ? this.parentNode.removeChild(this) : this }, match: function (e) { return !e || Slick.match(this, e) } }); var d = { contains: function (e) { return Slick.contains(this, e) } }; document.contains || Document.implement(d), document.createElement("div").contains || Element.implement(d), [Element, Window, Document].invoke("implement", { addListener: function (t, n) { if ("unload" == t) { var i = n, r = this; n = function () { r.removeListener("unload", n), i() } } else e[this.uid] = this; return this.addEventListener ? this.addEventListener(t, n, !1) : this.attachEvent("on" + t, n), this }, removeListener: function (e, t) { return this.removeEventListener ? this.removeEventListener(e, t, !1) : this.detachEvent("on" + e, t), this }, retrieve: function (e, t) { var n = i(this.uid), r = n[e]; return null != t && null == r && (r = n[e] = t), null != r ? r : null }, store: function (e, t) { return i(this.uid)[e] = t, this }, eliminate: function (e) { return delete i(this.uid)[e], this } }), window.attachEvent && !window.addEventListener && window.addListener("unload", function () { Object.each(e, r), window.CollectGarbage && CollectGarbage() }) }(), Element.Properties = {}, Element.Properties.style = { set: function (e) { this.style.cssText = e }, get: function () { return this.style.cssText }, erase: function () { this.style.cssText = "" } }, Element.Properties.tag = { get: function () { return this.tagName.toLowerCase() } }, function (e) { null != e && (Element.Properties.maxlength = Element.Properties.maxLength = { get: function () { var t = this.getAttribute("maxLength"); return t == e ? null : t } }) }(document.createElement("input").getAttribute("maxLength")), Element.Properties.html = function () { var e = Function.attempt(function () { document.createElement("table").innerHTML = "<tr><td></td></tr>" }), t = document.createElement("div"), n = { table: [1, "<table>", "</table>"], select: [1, "<select>", "</select>"], tbody: [2, "<table><tbody>", "</tbody></table>"], tr: [3, "<table><tbody><tr>", "</tr></tbody></table>"] }; n.thead = n.tfoot = n.tbody; var i = { set: function () { var i = Array.flatten(arguments).join(""), r = !e && n[this.get("tag")]; if (r) { var o = t; o.innerHTML = r[1] + i + r[2]; for (var a = r[0]; a--;) o = o.firstChild; this.empty().adopt(o.childNodes) } else this.innerHTML = i } }; return i.erase = i.set, i }(), function () { var e = document.html; Element.Properties.styles = { set: function (e) { this.setStyles(e) } }; var t = null != e.style.opacity, n = /alpha\(opacity=([\d.]+)\)/i, i = function (e, i) { if (e.currentStyle && e.currentStyle.hasLayout || (e.style.zoom = 1), t) e.style.opacity = i; else { i = 1 == i ? "" : "alpha(opacity=" + 100 * i + ")"; var r = e.style.filter || e.getComputedStyle("filter") || ""; e.style.filter = r.test(n) ? r.replace(n, i) : r + i } }; Element.Properties.opacity = { set: function (e) { var t = this.style.visibility; 0 == e && "hidden" != t ? this.style.visibility = "hidden" : 0 != e && "visible" != t && (this.style.visibility = "visible"), i(this, e) }, get: t ? function () { var e = this.style.opacity || this.getComputedStyle("opacity"); return "" == e ? 1 : e } : function () { var e, t = this.style.filter || this.getComputedStyle("filter"); return t && (e = t.match(n)), null == e || null == t ? 1 : e[1] / 100 } }; var r = null == e.style.cssFloat ? "styleFloat" : "cssFloat"; Element.implement({ getComputedStyle: function (e) { if (this.currentStyle) return this.currentStyle[e.camelCase()]; var t = Element.getDocument(this).defaultView, n = t ? t.getComputedStyle(this, null) : null; return n ? n.getPropertyValue(e == r ? "float" : e.hyphenate()) : null }, setOpacity: function (e) { return i(this, e), this }, getOpacity: function () { return this.get("opacity") }, setStyle: function (e, t) { switch (e) { case "opacity": return this.set("opacity", parseFloat(t)); case "float": e = r } if (e = e.camelCase(), "string" != typeOf(t)) { var n = (Element.Styles[e] || "@").split(" "); t = Array.from(t).map(function (e, t) { return n[t] ? "number" == typeOf(e) ? n[t].replace("@", Math.round(e)) : e : "" }).join(" ") } else t == String(Number(t)) && (t = Math.round(t)); return this.style[e] = t, this }, getStyle: function (e) { switch (e) { case "opacity": return this.get("opacity"); case "float": e = r } e = e.camelCase(); var t = this.style[e]; if (!t || "zIndex" == e) { for (var n in t = [], Element.ShortStyles) if (e == n) { for (var i in Element.ShortStyles[n]) t.push(this.getStyle(i)); return t.join(" ") } t = this.getComputedStyle(e) } if (t) { var o = (t = String(t)).match(/rgba?\([\d\s,]+\)/); o && (t = t.replace(o[0], o[0].rgbToHex())) } if (Browser.opera || Browser.ie && isNaN(parseFloat(t))) { if (e.test(/^(height|width)$/)) { var a = 0; return ("width" == e ? ["left", "right"] : ["top", "bottom"]).each(function (e) { a += this.getStyle("border-" + e + "-width").toInt() + this.getStyle("padding-" + e).toInt() }, this), this["offset" + e.capitalize()] - a + "px" } if (Browser.opera && -1 != String(t).indexOf("px")) return t; if (e.test(/(border(.+)Width|margin|padding)/)) return "0px" } return t }, setStyles: function (e) { for (var t in e) this.setStyle(t, e[t]); return this }, getStyles: function () { var e = {}; return Array.flatten(arguments).each(function (t) { e[t] = this.getStyle(t) }, this), e } }), Element.Styles = { left: "@px", top: "@px", bottom: "@px", right: "@px", width: "@px", height: "@px", maxWidth: "@px", maxHeight: "@px", minWidth: "@px", minHeight: "@px", backgroundColor: "rgb(@, @, @)", backgroundPosition: "@px @px", color: "rgb(@, @, @)", fontSize: "@px", letterSpacing: "@px", lineHeight: "@px", clip: "rect(@px @px @px @px)", margin: "@px @px @px @px", padding: "@px @px @px @px", border: "@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)", borderWidth: "@px @px @px @px", borderStyle: "@ @ @ @", borderColor: "rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)", zIndex: "@", zoom: "@", fontWeight: "@", textIndent: "@px", opacity: "@" }, Element.ShortStyles = { margin: {}, padding: {}, border: {}, borderWidth: {}, borderStyle: {}, borderColor: {} }, ["Top", "Right", "Bottom", "Left"].each(function (e) { var t = Element.ShortStyles, n = Element.Styles;["margin", "padding"].each(function (i) { var r = i + e; t[i][r] = n[r] = "@px" }); var i = "border" + e; t.border[i] = n[i] = "@px @ rgb(@, @, @)"; var r = i + "Width", o = i + "Style", a = i + "Color"; t[i] = {}, t.borderWidth[r] = t[i][r] = n[r] = "@px", t.borderStyle[o] = t[i][o] = n[o] = "@", t.borderColor[a] = t[i][a] = n[a] = "rgb(@, @, @)" }) }(), Object.extend({ subset: function (e, t) { for (var n = {}, i = 0, r = t.length; i < r; i++) { var o = t[i]; n[o] = e[o] } return n }, map: function (e, t, n) { var i = {}; for (var r in e) e.hasOwnProperty(r) && (i[r] = t.call(n, e[r], r, e)); return i }, filter: function (e, t, n) { var i = {}; return Object.each(e, function (r, o) { t.call(n, r, o, e) && (i[o] = r) }), i }, every: function (e, t, n) { for (var i in e) if (e.hasOwnProperty(i) && !t.call(n, e[i], i)) return !1; return !0 }, some: function (e, t, n) { for (var i in e) if (e.hasOwnProperty(i) && t.call(n, e[i], i)) return !0; return !1 }, keys: function (e) { var t = []; for (var n in e) e.hasOwnProperty(n) && t.push(n); return t }, values: function (e) { var t = []; for (var n in e) e.hasOwnProperty(n) && t.push(e[n]); return t }, getLength: function (e) { return Object.keys(e).length }, keyOf: function (e, t) { for (var n in e) if (e.hasOwnProperty(n) && e[n] === t) return n; return null }, contains: function (e, t) { return null != Object.keyOf(e, t) }, toQueryString: function (e, t) { var n = []; return Object.each(e, function (e, i) { var r; switch (t && (i = t + "[" + i + "]"), typeOf(e)) { case "object": r = Object.toQueryString(e, i); break; case "array": var o = {}; e.each(function (e, t) { o[t] = e }), r = Object.toQueryString(o, i); break; default: r = i + "=" + encodeURIComponent(e) } null != e && n.push(r) }), n.join("&") } }); var Event = new Type("Event", function (e, t) { t || (t = window); var n = t.document; if ((e = e || t.event).$extended) return e; this.$extended = !0; for (var i = e.type, r = e.target || e.srcElement, o = {}, a = {}; r && 3 == r.nodeType;) r = r.parentNode; if (-1 != i.indexOf("key")) { var s = e.which || e.keyCode, l = Object.keyOf(Event.Keys, s); if ("keydown" == i) { var c = s - 111; c > 0 && c < 13 && (l = "f" + c) } l || (l = String.fromCharCode(s).toLowerCase()) } else if (i.test(/click|mouse|menu/i)) { if (n = n.compatMode && "CSS1Compat" != n.compatMode ? n.body : n.html, o = { x: null != e.pageX ? e.pageX : e.clientX + n.scrollLeft, y: null != e.pageY ? e.pageY : e.clientY + n.scrollTop }, a = { x: null != e.pageX ? e.pageX - t.pageXOffset : e.clientX, y: null != e.pageY ? e.pageY - t.pageYOffset : e.clientY }, i.test(/DOMMouseScroll|mousewheel/)) var u = e.wheelDelta ? e.wheelDelta / 120 : -(e.detail || 0) / 3; var p = 3 == e.which || 2 == e.button, h = null; if (i.test(/over|out/)) { h = e.relatedTarget || e[("mouseover" == i ? "from" : "to") + "Element"]; var d = function () { for (; h && 3 == h.nodeType;) h = h.parentNode; return !0 }, f = Browser.firefox2 ? d.attempt() : d(); h = f ? h : null } } else if (i.test(/gesture|touch/i)) { this.rotation = e.rotation, this.scale = e.scale, this.targetTouches = e.targetTouches, this.changedTouches = e.changedTouches; var m = this.touches = e.touches; if (m && m[0]) { var v = m[0]; o = { x: v.pageX, y: v.pageY }, a = { x: v.clientX, y: v.clientY } } } return Object.append(this, { event: e, type: i, page: o, client: a, rightClick: p, wheel: u, relatedTarget: document.id(h), target: document.id(r), code: s, key: l, shift: e.shiftKey, control: e.ctrlKey, alt: e.altKey, meta: e.metaKey }) }); Event.Keys = { enter: 13, up: 38, down: 40, left: 37, right: 39, esc: 27, space: 32, backspace: 8, tab: 9, delete: 46 }, Event.implement({ stop: function () { return this.stopPropagation().preventDefault() }, stopPropagation: function () { return this.event.stopPropagation ? this.event.stopPropagation() : this.event.cancelBubble = !0, this }, preventDefault: function () { return this.event.preventDefault ? this.event.preventDefault() : this.event.returnValue = !1, this } }), function () { Element.Properties.events = { set: function (e) { this.addEvents(e) } }, [Element, Window, Document].invoke("implement", { addEvent: function (e, t) { var n = this.retrieve("events", {}); if (n[e] || (n[e] = { keys: [], values: [] }), n[e].keys.contains(t)) return this; n[e].keys.push(t); var i = e, r = Element.Events[e], o = t, a = this; r && (r.onAdd && r.onAdd.call(this, t), r.condition && (o = function (e) { return !r.condition.call(this, e) || t.call(this, e) }), i = r.base || i); var s = function () { return t.call(a) }, l = Element.NativeEvents[i]; return l && (2 == l && (s = function (e) { e = new Event(e, a.getWindow()), !1 === o.call(a, e) && e.stop() }), this.addListener(i, s)), n[e].values.push(s), this }, removeEvent: function (e, t) { var n = this.retrieve("events"); if (!n || !n[e]) return this; var i = n[e], r = i.keys.indexOf(t); if (-1 == r) return this; var o = i.values[r]; delete i.keys[r], delete i.values[r]; var a = Element.Events[e]; return a && (a.onRemove && a.onRemove.call(this, t), e = a.base || e), Element.NativeEvents[e] ? this.removeListener(e, o) : this }, addEvents: function (e) { for (var t in e) this.addEvent(t, e[t]); return this }, removeEvents: function (e) { var t; if ("object" == typeOf(e)) { for (t in e) this.removeEvent(t, e[t]); return this } var n = this.retrieve("events"); if (!n) return this; if (e) n[e] && (n[e].keys.each(function (t) { this.removeEvent(e, t) }, this), delete n[e]); else { for (t in n) this.removeEvents(t); this.eliminate("events") } return this }, fireEvent: function (e, t, n) { var i = this.retrieve("events"); return i && i[e] ? (t = Array.from(t), i[e].keys.each(function (e) { n ? e.delay(n, this, t) : e.apply(this, t) }, this), this) : this }, cloneEvents: function (e, t) { var n = (e = document.id(e)).retrieve("events"); if (!n) return this; if (t) n[t] && n[t].keys.each(function (e) { this.addEvent(t, e) }, this); else for (var i in n) this.cloneEvents(e, i); return this } }); try { "undefined" != typeof HTMLElement && (HTMLElement.prototype.fireEvent = Element.prototype.fireEvent) } catch (e) { } Element.NativeEvents = { click: 2, dblclick: 2, mouseup: 2, mousedown: 2, contextmenu: 2, mousewheel: 2, DOMMouseScroll: 2, mouseover: 2, mouseout: 2, mousemove: 2, selectstart: 2, selectend: 2, keydown: 2, keypress: 2, keyup: 2, orientationchange: 2, touchstart: 2, touchmove: 2, touchend: 2, touchcancel: 2, gesturestart: 2, gesturechange: 2, gestureend: 2, focus: 2, blur: 2, change: 2, reset: 2, select: 2, submit: 2, load: 2, unload: 1, beforeunload: 2, resize: 1, move: 1, DOMContentLoaded: 1, readystatechange: 1, error: 1, abort: 1, scroll: 1 }; var e = function (e) { var t = e.relatedTarget; return null == t || !!t && t != this && "xul" != t.prefix && "document" != typeOf(this) && !this.contains(t) }; Element.Events = { mouseenter: { base: "mouseover", condition: e }, mouseleave: { base: "mouseout", condition: e }, mousewheel: { base: Browser.firefox ? "DOMMouseScroll" : "mousewheel" } } }(), function (e, t) { var n, i, r, o, a = [], s = !0; try { s = null != e.frameElement } catch (e) { } var l = function () { clearTimeout(o), n || (Browser.loaded = n = !0, t.removeListener("DOMContentLoaded", l).removeListener("readystatechange", c), t.fireEvent("domready"), e.fireEvent("domready")) }, c = function () { for (var e = a.length; e--;) if (a[e]()) return l(), !0; return !1 }, u = function () { clearTimeout(o), c() || (o = setTimeout(u, 10)) }; t.addListener("DOMContentLoaded", l); var p = t.createElement("div"); p.doScroll && !s && (a.push(function () { try { return p.doScroll(), !0 } catch (e) { } return !1 }), r = !0), t.readyState && a.push(function () { var e = t.readyState; return "loaded" == e || "complete" == e }), "onreadystatechange" in t ? t.addListener("readystatechange", c) : r = !0, r && u(), Element.Events.domready = { onAdd: function (e) { n && e.call(this) } }, Element.Events.load = { base: "load", onAdd: function (t) { i && this == e && t.call(this) }, condition: function () { return this == e && (l(), delete Element.Events.load), !0 } }, e.addEvent("load", function () { i = !0 }) }(window, document), function () { [Element, Window, Document].invoke("implement", { hasEvent: function (e) { var t = this.retrieve("events"), n = t && t[e] ? t[e].values : null; if (n) for (var i = n.length; i--;) if (i in n) return !0; return !1 } }); var e = function (e, t, n, i) { return t = e[t], n = e[n], function (e, r) { r || (r = i), n && !this.hasEvent(r) && n.call(this, e, r), t && t.call(this, e, r) } }, t = function (e, t, n, i) { return function (r, o) { t[n].call(this, r, o || i), e[n].call(this, r, o || i) } }, n = Element.Events; Element.defineCustomEvent = function (i, r) { var o = n[r.base]; return r.onAdd = e(r, "onAdd", "onSetup", i), r.onRemove = e(r, "onRemove", "onTeardown", i), n[i] = o ? Object.append({}, r, { base: o.base, condition: function (e) { return (!o.condition || o.condition.call(this, e)) && (!r.condition || r.condition.call(this, e)) }, onAdd: t(r, o, "onAdd", i), onRemove: t(r, o, "onRemove", i) }) : r, this }; var i = function (e) { var t = "on" + e.capitalize(); return Element[e + "CustomEvents"] = function () { Object.each(n, function (e, n) { e[t] && e[t].call(e, n) }) }, i }; i("enable")("disable") }(), function () { var e, t, n = {}, i = function () { t = !1 }, r = { touchstart: function (e) { if (!(e.touches.length > 1)) { var i = e.touches[0]; t = !0, n = { x: i.pageX, y: i.pageY } } }, touchmove: function (i) { if (!e && t) { var r = i.changedTouches[0], o = { x: r.pageX, y: r.pageY }; if (this.retrieve("swipe:cancelVertical") && Math.abs(n.y - o.y) > 10) t = !1; else { var a = this.retrieve("swipe:distance", 50), s = o.x - n.x, l = s < -a; (s > a || l) && (i.preventDefault(), t = !1, i.direction = l ? "left" : "right", i.start = n, i.end = o, this.fireEvent("swipe", i)) } } }, touchend: i, touchcancel: i }; Element.defineCustomEvent("swipe", { onSetup: function () { this.addEvents(r) }, onTeardown: function () { this.removeEvents(r) }, onEnable: function () { e = !1 }, onDisable: function () { e = !0, i() } }) }();
