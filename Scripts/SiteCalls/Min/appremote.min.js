// -----------------------------------------------------------------------------------
//
//	appRemote v4.1
//	by John Donnelly
//	Last Modification: 5/24/2015
//
//	Licensed under the Creative Commons Attribution 2.5 License - http://creativecommons.org/licenses/by/2.5/
//  	- Free for use in both personal and commercial projects
//		- Attribution requires leaving author name, author link, and the license info intact.
//
//  Requirements:
//      jquery v1.11.0 - http://code.jquery.com/jquery-1.11.1.min.js
//      migrate.jquery.min.js - http://code.jquery.com/jquery-migrate-1.2.1.min.js
//
// -----------------------------------------------------------------------------------
var appRemote_Config = { animationSpeed: 150, closeTimeout: 2e3, remoteId: "", remoteName: "", categoryId: "", categoryName: "", currUrl: "", workspaceMode: "", notiInterval: 1e4, siteTheme: "Standard", siteRootFolder: "", forceGroupLogin: !1, autoSync: !1, scale: "0.95" }, appRemote = function () {
    function e(e) { if (null != e && void 0 != e) { var o = $.trim(e.toString().toLowerCase()); if ("true" != o && "false" != o && "0" != o && "1" != o && "" != o) return !0; if ("1" == o || "true" == o || "" == o) return !0; if ("0" == o || "false" == o) return !1 } return !1 } function o() { return "complex" == appRemote_Config.workspaceMode.toLowerCase() || "" == appRemote_Config.workspaceMode ? !0 : !1 } function t() { $("#appremote-sidebar-menu").hasClass("showmenu") ? a() : i() } function n() { a() } function i() { var e = $("#appremote-sidebar-menu"); e.length > 0 && ($("#workspace-selector-overlay, #workspace-selector-modal").hide(), p(), e.hasClass("showmenu") || (e.addClass("showmenu"), l(), e.show(), $("#appremote-menu-overlay").show(), e.animate({ width: $(window).width() - 25 }, 150, function () { e.find(".appremote-sidebar-innercontent").show() }))) } function a() { var e = $("#appremote-sidebar-menu"); e.length > 0 && ($("#workspace-selector-overlay, #workspace-selector-modal").hide(), p(), e.hasClass("showmenu") && (e.removeClass("showmenu"), $("#appremote-menu-overlay").hide(), e.find(".appremote-sidebar-innercontent").hide(), e.animate({ width: 0 }, 150, function () { e.hide() }))) } function p() { $("#appremote-sidebar-menu, #appremote-menu-overlay").css({ top: $("#always-visible").outerHeight(), bottom: $("#container-footer").outerHeight() }) } function s() { if ($("#menu-s").length > 0) try { $("#notifications-viewtable").length > 0 && document.id("notifications-viewtable").addEvent("swipe", r), $("#grouplogin-list").length > 0 && document.id("grouplogin-list").addEvent("swipe", r), $("#pnl_AccountInfo").length > 0 && document.id("pnl_AccountInfo").addEvent("swipe", r), $("#pnl_chat_users").length > 0 && document.id("pnl_chat_users").addEvent("swipe", r), $("#pnl_icons").length > 0 && document.id("pnl_icons").addEvent("swipe", r), $("#pnl_adminPages").length > 0 && document.id("pnl_adminPages").addEvent("swipe", r), $("#pnl_options-minHeight").length > 0 && document.id("pnl_options-minHeight").addEvent("swipe", r), $("#appremote-sidebar-menu").length > 0 && document.id("appremote-sidebar-menu").addEvent("swipe", r), $("#appremote-menu-overlay").length > 0 && document.id("appremote-menu-overlay").addEvent("swipe", r), $("#pnl_login").length > 0 && document.id("pnl_login").addEvent("swipe", r) } catch (e) { } } function r(e) { if (e) switch (e.direction) { case "left": appRemote.CloseSidebarMenu_Swipe(); break; case "right": appRemote.OpenSidebarMenu_Swipe() } } function l() { if ($("#appremote-sidebar-menu").hasClass("showmenu")) { var e = new Array; $("#opened_apps_header").hide(), $("#opened_apps_holder").html(""), $("#pnl_options").find(".loaded-app-holder").each(function () { var o = $(this).attr("id").replace("-loadedapp", ""), t = $(".app-icon[data-appid='" + o + "']"); if (t.length > 0 && !c(o, e)) { t = t.eq(0); var n = $.trim(t.html()), i = t.attr("onclick"); $("#opened_apps_holder").append("<div data-appid='" + o + "' class='opened-app-icon' onclick=\"" + i + '">' + n + "</div>"), e.push(o) } }), $("#pnl_icons").find(".app-icon").each(function () { var o = $(this).attr("data-appid"); if ($(this).hasClass("active") && !c(o, e)) { var t = $.trim($(this).html()), n = $(this).attr("onclick"); $("#opened_apps_holder").append("<div data-appid='" + o + "' class='opened-app-icon' onclick=\"" + n + '">' + t + "</div>"), e.push(o) } }), e.length > 0 && $("#opened_apps_header").show() } } function c(e, o) { for (var t = 0; t < o.length; t++) if (e == o[t]) return !0; return !1 } function d() { $("#pnl_options").find(".loaded-app-holder").each(function () { var e = $(this).attr("id").replace("-loadedapp", ""); $("#pnl_options").find("#" + e + "-loadedapp").remove(), $("#load-option-text").html("<b>" + $.trim($("#" + e).find(".app-icon-font").html()) + "</b> Options") }), $(".app-icon").removeClass("active"), $(".app-icon").find(".app-icon-font").removeClass("mobile-open"), $(".app-icon").find(".workspace-reminder").remove(), !ro && mo ? (ro = !0, W("Closing Apps..."), $.ajax({ url: "WebServices/AcctSettings.asmx/CloseAllAppsFromAppRemote", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", complete: function () { ro = !1, B(), $("#pnl_options-minHeight").show(), $("#options-btn-device").show(), $("#opened_apps_header").hide(), $("#opened_apps_holder").html(""), appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M() } })) : mo || (B(), $("#pnl_options-minHeight").show(), $("#options-btn-device").show(), $("#opened_apps_header").hide(), $("#opened_apps_holder").html(""), appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M()) } function m() { var e = window.location.href.replace(window.location.href.substring(window.location.href.indexOf("&")), ""); return "" == e && (e = window.location.href.replace(window.location.href.substring(window.location.href.indexOf("?")), "")), e += -1 == e.indexOf("?") ? "?" : "&" } function g(e, o, t) { appRemote_Config.categoryId = e, appRemote_Config.categoryName = o, $(".app-icon-category-list").hide(), $("#Category-Back").show(), $("." + appRemote_Config.categoryId).show(), $("#Category-Back-Name").html(appRemote_Config.categoryName), $("#Category-Back-Name-id").html(appRemote_Config.categoryId), t && M() } function h(e) { appRemote_Config.categoryId = "", appRemote_Config.categoryName = "", appRemote_Config.remoteId = "", appRemote_Config.remoteName = ""; var o = $("#Category-Back-Name-id").html(); $("#Category-Back").hide(), "" != o && void 0 != o && null != o ? $("." + o).length > 0 && ($("." + o).hide(), $(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html("")) : ("block" == $("#pnl_chat_users").css("display") && $("#pnl_chat_users").hide(), "block" == $("#pnl_options").css("display") && $("#pnl_options").hide(), "block" == $("#pnl_adminPages").css("display") && $("#pnl_adminPages").hide(), "none" == $("#pnl_icons").css("display") && $("#pnl_icons").show(), $(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html("")), e && M() } function f(e) { ("" == e || null == e) && (e = "0,0,0"), $("#groupLoginLogo").length > 0 ? ($("#groupLoginLogo").addClass("logo-backgroundcolor"), $(".logo-backgroundcolor").css("background-color", "rgba(" + e + ",0.4)")) : $("#mainLoginLogo").length > 0 && ($("#mainLoginLogo").addClass("logo-backgroundcolor"), $(".logo-backgroundcolor").css("background-color", "rgba(" + e + ",0.4)")) } function u() { "" == $.trim($("#group-list").html()) && (W("Please Wait"), $.ajax({ url: "WebServices/AcctSettings.asmx/GetUserGroups", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (e) { var o = ""; try { for (var t = 0; t < e.d[0].length; t++) { var n = e.d[0][t][0], i = e.d[0][t][1], a = e.d[0][t][2], p = e.d[0][t][3], s = e.d[0][t][4], r = "style=\"background: url('" + s + "'); background-size: cover;\""; o += "<div class='group-selection-entry' onclick='appRemote.LoginAsGroup(\"" + n + "\")' title='Click to login' " + r + ">", o += "<div class='overlay'></div>", o += "<div class='group-selection-info'>", o += "<div class='group-name-info'>", o += "<span class='group-name'>" + i + "</span><div class='clear-space-five'></div>", o += "<span class='group-info'><b class='pad-right-sml'>Owner:</b>" + p + "</span>", o += "</div>", o += "<img class='group-img' alt='Group Logo' src='" + a + "' />", o += "</div></div>" } appRemote.ConvertBitToBoolean(e.d[1]) && (o += "<div class='logingroupselector-logout' onclick='appRemote.LoginAsGroup(\"\")'>", o += "<div>Log Out of Group</div>", o += "</div>"), o += "<div class='clear-space'></div>" } catch (l) { } $("#group-list").html(o), B() } })) } function v(e) { W("Please Wait"), $.ajax({ url: "WebServices/AcctSettings.asmx/LoginUnderGroup", type: "POST", data: '{ "id": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (o) { window.location = "true" == o.d ? "AppRemote.aspx" : "AppRemote.aspx?group=" + e }, error: function () { B() } }) } function _() { w() } function w() { $("#pnl_adminPages").length > 0 && $("#pnl_adminPages").find(".app-icon-links, .app-icon-sub-links").each(function () { var e = $(this).attr("href"); e += e.indexOf("?") > 0 ? "&mobileMode=true" : "?mobileMode=true", $(this).attr("onclick", "appRemote.LoadAdminPage('" + e + "');return false;"), $(this).attr("href", "#") }) } function b() { $("#workspace_header_btn").remove(), lo = !0, appRemote_Config.categoryId = "adminPages", appRemote_Config.categoryName = "pageSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M() } function C() { $("#workspace_header_btn").remove(), $("#notifications").remove(), $("#pnl_login").hide(), $("#app-load-options").remove(), co = !0, k() } function y() { appRemote_Config.forceGroupLogin || (appRemote.IsComplexWorkspaceMode() ? co || lo || $.ajax({ url: "WebServices/AcctSettings.asmx/CanConnectToWorkspace", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (e) { mo = "simple" == e.d ? !1 : appRemote.ConvertBitToBoolean(e.d) ? !0 : !1, k() }, error: function () { mo = !1, k() } }) : ($("#workspace_header_btn").remove(), mo = !0)) } function R() { if (co || lo || o() && (mo ? ($("#tryconnect").html("<span class='connected-img'></span>Disconnect from Workspace"), $("#tryconnect").addClass("synced")) : ($("#tryconnect").html("<span class='disconnected-img'></span>Connect to Workspace"), $("#tryconnect").removeClass("synced"))), $("#pnl_adminPages, #pnl_AccountInfo, #pnl_adminPage_iframe, #pnl_chat_popup, #pnl_chat_users, #pnl_icons, #pnl_login, #pnl_options, #notifications-viewtable, #grouplogin-list").css({ top: $("#always-visible").outerHeight(), bottom: $("#container-footer").outerHeight() }), $(".iFrame-chat").length > 0) { var e = $(window).height(), t = $("#always-visible").height(), n = $("#container-footer").height(), i = e - (t + n); $(".iFrame-chat").height(i - 1) } $(".loaded-app-holder").each(function () { if ("hidden" != $(this).css("visibility")) { var e = Math.abs($(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight())); $(this).css({ height: e, width: $(window).width() }) } }) } function k() { if (ro) { if ("#" != currUrl && "" != currUrl && "1" != currUrl) { var e = window.location.href.split("#"); if (e.length > 0) { for (var o = 1; o < e.length; o++) if ("" != $.trim(e[o])) { currUrl = $.trim(e[o]); break } e = e[0] } window.location = e + "#" + currUrl } } else if (currUrl = window.location.hash, S(), appRemote_Config.autoSync && !mo && y(), $("#pnl_login").length > 0 && $("#login_header_btn").show(), appRemote_Config.forceGroupLogin) $("#grouplogin-list").show(), u(); else if ("" == currUrl) $("#pnl_login").length > 0 && 0 == $("#pnl_icons").length ? $("#pnl_login").show() : ($("#pnl_icons").show(), D(), z(), h(!1)); else if (-1 != currUrl.indexOf("acctInfo=true")) $("#pnl_login").length > 0 ? ($("#pnl_login").show(), $("#login_header_btn").hide()) : ($("#pnl_AccountInfo").show(), $("#db-c").show()), $("#pnl_icons").hide(); else if (-1 != currUrl.indexOf("loginPnl=true")) $("#pnl_login").show(), $("#pnl_icons").hide(), $("#login_header_btn").hide(); else if (-1 != currUrl.indexOf("notiOn=true")) $("#login_header_btn").hide(), $("#db-c").show(), $("#notifications").hide(), K(!0), $("#notifications-viewtable").show(); else if (-1 != currUrl.indexOf("groupLogin=true")) $("#login_header_btn").hide(), $("#db-c").show(), $("#notifications").hide(), u(), $("#grouplogin-list").show(); else if ($("#pnl_login").length > 0 && 0 == $("#pnl_icons").length) $("#pnl_login").show(); else { var t = j("id"), n = j("category"), i = j("appId"), a = j("name"); appRemote_Config.categoryId = t, appRemote_Config.categoryName = n, appRemote_Config.remoteId = i, appRemote_Config.remoteName = a, "chatClient" == t ? P(n, i, a) : "adminPages" == t ? I(t, n) : A(t, n, i, a) } R() } function S() { B(), $(".loaded-app-holder").each(function () { var e = $(this).attr("id"); null != e && void 0 != e && "" != e && $(this).css({ visibility: "hidden", height: 1, width: 1, position: "absolute", top: -($(window).height() + 1) }) }), $("#notifications-viewtable, #grouplogin-list").hide(), -1 == currUrl.indexOf("notiOn=true") && $("#NotificationHolder").html(""), -1 == currUrl.indexOf("groupLogin=true") && $("#group-list").html(""), $("#loading-message-modal").html(""), $(".loading-background-holder").remove(), "adminPages" == appRemote_Config.categoryId && "pageSelect" == appRemote_Config.categoryName || "adminPages" != appRemote_Config.categoryId ? ($("#pnl_adminPage_iframe").html(""), $("#pnl_adminPage_iframe").hide()) : $("#pnl_adminPage_iframe").css("visibility", "hidden"), $("#pnl_icons, #pnl_AccountInfo, #pnl_options, #pnl_chat_users, #pnl_chat_popup, #pnl_appMoveResize, #pnl_adminPages, #workspace-selector-overlay, #workspace-selector-modal").hide(), $("#rb_norm").prop("checked", !0), $("#ddl_appDropdownSelector").val("1"), $("#loading-message").html(""), $("#load-option-text").html(""), $("#login_header_btn").hide(), $("#db-b").hide(), $("#db-c").hide(), $("#notifications").show(), lo && "adminPages" != appRemote_Config.categoryId && b(), $("#pnl_login").length > 0 && ($("#pnl_login").hide(), $("#login_header_btn").show()), mo ? $("#workspace_header_btn").show() : $("#workspace_header_btn").hide() } function I(e, o) { $("#pnl_adminPages").length > 0 && ("pageSelect" == o ? ($("#pnl_adminPage_iframe").hide(), $("#pnl_adminPage_iframe").html(""), $("#pnl_adminPages").show()) : (x(), "" == $.trim($("#pnl_adminPage_iframe").html()) ? T(o) : $("#pnl_adminPage_iframe").css("visibility", "visible"))) } function x() { $("#pnl_adminPages, #pnl_icons, #pnl_chat_users, #pnl_options, #pnl_chat_popup, #pnl_appMoveResize, #login_header_btn").hide(), $("#db-c").show() } function N(e) { (void 0 === window.event || !$(window.event.target).hasClass("img-expand-sml") && !$(window.event.target).hasClass("img-collapse-sml")) && (appRemote_Config.categoryId = "adminPages", appRemote_Config.categoryName = escape(e), appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M()) } function T(e) { var o = Math.abs($(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight())); $("#pnl_adminPage_iframe").html("<div class='loading-background-holder'></div><iframe src='" + unescape(e) + "' frameborder='0' class='loaded-app-holder' style='width: " + $(window).width() + "; height: " + o + "px;'></iframe>"), $("#pnl_adminPage_iframe").show(), $("#pnl_adminPage_iframe").css("visibility", "visible"), $(".loaded-app-holder").one("load", function () { $(".loading-background-holder").remove() }) } function P(e, o, t) { $("#pnl_chat_users").length > 0 && ("" != o ? L(o, t) : "userSelect" == e && $("#pnl_chat_users").show()) } function L(e, o) { if ($("#pnl_chat_popup").length > 0) if (appRemote_Config.remoteId = e, appRemote_Config.remoteName = o, -1 == e.indexOf("app-")) { $("#pnl_chat_users").hide(); try { chatClient.BuildChatWindowMobile(e), $("#db-b").hide(), $("#db-c").show() } catch (t) { } } else $("#pnl_chat_users").show(), appRemote_Config.categoryId = "chatClient", appRemote_Config.categoryName = "userSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M() } function A(e, o, t, n) { $("#pnl_icons").show(), D(), z(), "" != e && "" != o ? g(e, o, !1) : "" == t && h(!1), "" != t && ($("#db-c").show(), E(t, n)) } function O(e, o, t) { ("chatClient" == appRemote_Config.categoryId || "adminPages" == appRemote_Config.categoryId) && (appRemote_Config.categoryId = "", appRemote_Config.categoryName = ""), appRemote_Config.remoteId = e, appRemote_Config.remoteName = o, t && M() } function M() { n(); var e = window.location.href.split("#?"); e.length > 0 && (e = e[0]), e.indexOf("#") != e.length - 1 && (e += "#"), "" != appRemote_Config.categoryId && "" != appRemote_Config.categoryName && (e += "?id=" + appRemote_Config.categoryId + "&category=" + appRemote_Config.categoryName), "" != appRemote_Config.remoteId && "" != appRemote_Config.remoteName && (e += "" != appRemote_Config.categoryId && "" != appRemote_Config.categoryName ? "&" : "?", e += "appId=" + appRemote_Config.remoteId + "&name=" + appRemote_Config.remoteName), window.location = e } function j(e) { e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var o = "[\\?&]" + e + "=([^&#]*)", t = new RegExp(o), n = window.location.href.replace("#", ""), i = t.exec(n); return null == i ? "" : decodeURIComponent(i[1].replace(/\+/g, " ")) } function W(e) { -1 != e.indexOf("...") && (e = e.replace("...", "")), "block" == $("#loadoptions-selector-overlay").css("display") && ($("#loadoptions-selector-overlay, #loadoptions-selector-modal").hide(), $("#loading-message").html("")), $("#loading-message").html(e), $("#loadoptions-selector-overlay, #loadoptions-selector-modal").show() } function B() { $("#loadoptions-selector-overlay, #loadoptions-selector-modal").hide(), $("#loading-message").html("") } function H(e) { ro || (ro = !0, $("#loading-message-modal").html("Switching Workspaces..."), $.ajax({ url: "WebServices/AcctSettings.asmx/UpdateAppRemote", type: "POST", data: '{ "id": "workspace-selector","options": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (e) { appRemote.ConvertBitToBoolean(e.d) ? ($("#workspace-selector-overlay, #workspace-selector-modal").hide(), $("#loading-message-modal").html("")) : ($("#loading-message-modal").html("<span style='color: Red;'>Error! Try again.</span>"), mo && (mo = !1, k())), ro = !1 }, error: function () { $("#loading-message-modal").html("<span style='color: Red;'>Error! Try again.</span>"), mo && (mo = !1, k()), ro = !1 } })) } function E(e) { if (!ro) { if ($(".app-icon[data-appid='" + e + "']").removeClass("active"), $(".app-icon[data-appid='" + e + "']").find(".app-icon-font").removeClass("mobile-open"), $("#" + e + "-loadedapp").length > 0) { $("#pnl_options-minHeight").hide(); var o = Math.abs($(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight())); return $("#" + appRemote_Config.remoteId + "-loadedapp").css({ visibility: "visible", position: "", top: "", height: o, width: $(window).width() }), $("#db-b").show(), $("#db-c").show(), $("#pnl_options").show(), $("#pnl_adminPages, #pnl_icons").hide(), $(".app-icon[data-appid='" + e + "']").addClass("active"), void $(".app-icon[data-appid='" + e + "']").find(".app-icon-font").addClass("mobile-open") } $("#pnl_options-minHeight").show(), $(".app-icon[data-appid='" + e + "']").removeClass("active"), $("#load-option-text").html("<b>" + appRemote_Config.remoteName + "</b> Options"), ro = !0; var t = setTimeout(function () { W("Loading Options...") }, 1500); $.ajax({ url: "WebServices/AcctSettings.asmx/GetAppRemoteProps", type: "POST", data: '{ "appId": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (o) { if (clearTimeout(t), B(), appRemote.IsComplexWorkspaceMode() && $("#options-btn-open").show(), $("#options-btn-update").hide(), $("#pnl_appMoveResize").hide(), o.d.length > 0 && 14 == o.d[0].length) { var n = o.d[0][0], i = o.d[0][1], a = o.d[0][2], p = o.d[0][3], s = o.d[0][4], r = o.d[0][5].replace("px", ""), l = o.d[0][6].replace("px", ""), c = o.d[0][7].replace("px", ""), d = o.d[0][8].replace("px", ""), m = o.d[0][9].replace("px", ""), g = o.d[0][10].replace("px", ""), h = o.d[0][11], f = o.d[0][12], u = o.d[0][13]; ("0" == c || "" == c) && (c = g), ("0" == d || "" == d) && (d = m), $("#app-load-options").length > 0 && (ao = g, po = m, $("#moveresize-left").val(r), $("#moveresize-top").val(l), $("#moveresize-width").val(c), $("#moveresize-height").val(d), $("#moveresize-left").spinner({ min: 0 }), $("#moveresize-top").spinner({ min: 0 }), $("#moveresize-width").spinner({ min: parseInt(g) }), $("#moveresize-height").spinner({ min: parseInt(m) }), appRemote.IsComplexWorkspaceMode() ? (mo ? $("#app-load-options").show() : $("#app-load-options").hide(), appRemote.ConvertBitToBoolean(n) ? $("#options-btn-close").hide() : ($("#options-btn-close").show(), $("#options-btn-open").hide(), $("#options-btn-update").show(), mo && $(".app-icon[data-appid='" + e + "']").addClass("active"))) : ($("#options-btn-close").hide(), $("#options-btn-open").hide(), $("#options-btn-update").hide(), $("#app-load-options").hide()), $("#ddl_appDropdownSelector").val("" != p ? U(p) : U(o.d[1])), $("#rb_norm").prop("checked", !0), appRemote.ConvertBitToBoolean(n) ? ($("#rb_norm").prop("checked", !0), $("#pnl_appMoveResize").hide()) : ($("#pnl_appMoveResize").hide(), $("#resize-div").hide(), appRemote.ConvertBitToBoolean(f) || appRemote.ConvertBitToBoolean(u) ? appRemote.ConvertBitToBoolean(u) && ($("#pnl_appMoveResize").show(), $("#resize-div").show()) : $("#pnl_appMoveResize").show(), appRemote.ConvertBitToBoolean(a) && $("#rb_max").prop("checked", !0), appRemote.ConvertBitToBoolean(i) && $("#rb_min").prop("checked", !0)), "" != s && $("#last-updated").html("<b class='pad-right-sml'>Last Updated:</b>" + s), appRemote.ConvertBitToBoolean(f) ? $("#div_max_rb_holder").show() : $("#div_max_rb_holder").hide()), $("#no-options-available").hide(), $("#options-btn-device").hide(), "" != h && ($("#options-btn-device").attr("href", h), $("#options-btn-device").show()), !co && mo && appRemote.IsComplexWorkspaceMode() || ($("#options-btn-close").hide(), $("#options-btn-open").hide(), $("#options-btn-update").hide(), "none" == $("#options-btn-device").css("display") && $("#no-options-available").show()) } else $("#no-options-available").hide(), $("#options-btn-device").hide(), $("#options-btn-close").hide(), $("#pnl_appMoveResize").hide(), $("#ddl_appDropdownSelector").val("1"), $("#rb_norm").prop("checked", !0), $("#last-updated").html(""); var v = 0; $("#load-option-btn-holder").find(".option-buttons").each(function () { "none" != $(this).css("display") && v++ }), ro = !1, 1 == v && "block" == $("#options-btn-device").css("display") ? appRemote.LoadApp() : $("#load-option-text").next(".accordion-content").show(), $(document).tooltip({ disabled: !0 }), $("#pnl_adminPages").hide(), $("#pnl_icons").hide(), $(document).tooltip({ disabled: !1 }), $("#pnl_options").show() }, error: function () { alert("Error trying to access account. Please try again."), mo && (mo = !1, k()), ro = !1 } }) } } function z() { if ($(".app-icon").removeClass("active"), $("#pnl_options").find(".loaded-app-holder").each(function () { var e = $(this).attr("id").replace("-loadedapp", ""); $(".app-icon[data-appid='" + e + "']").addClass("active") }), appRemote.IsComplexWorkspaceMode()) { if ($(".workspace-reminder").each(function () { $(this).remove() }), mo) { var e = setTimeout(function () { W("Loading Remote...") }, 1500); $.ajax({ url: "WebServices/AcctSettings.asmx/GetAllOpenedApps", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (o) { if (clearTimeout(e), B(), null != o.d) for (var t = 0; t < o.d.length; t++) { var n = $(".app-icon[data-appid='" + o.d[t][0] + "']"); if (n.addClass("active"), "" != o.d[t][1]) { var i = "<span class='workspace-reminder font-no-bold'>" + U(o.d[t][1]) + "</span>"; n.append(i) } } l() } }) } } else clearTimeout(e), B() } function U(e) { return e.replace("workspace_", "") } function F() { if (!ro) { ro = !0; var e = "", o = !1; e += $("#ddl_appDropdownSelector").val() + ";", $("#rb_max").is(":checked") ? (e += "maximize;", o = !0) : e += $("#rb_min").is(":checked") ? "minimize;" : "normal;"; var t = parseInt($("#moveresize-top").val()), n = parseInt($("#moveresize-left").val()); (0 > t || null == t || "NaN" == t.toString() && null != t) && (t = 0), (0 > n || null == n || "NaN" == n.toString() && null != n) && (n = 0); var i = parseInt($("#moveresize-width").val()), a = parseInt($("#moveresize-height").val()); (ao > i || null == i || "NaN" == i.toString() && null != i) && (i = ao), (po > a || null == a || "NaN" == a.toString() && null != a) && (a = po), e += t + ";" + n + ";" + i + ";" + a + ";", W("block" == $("#options-btn-update").css("display") ? "Refreshing App..." : "Loading App..."), $.ajax({ url: "WebServices/AcctSettings.asmx/UpdateAppRemote", type: "POST", data: '{ "id": "' + appRemote_Config.remoteId + '","options": "' + escape(e) + '" }', contentType: "application/json; charset=utf-8", success: function (e) { ro = !1, appRemote.ConvertBitToBoolean(e.d) ? setTimeout(function () { B(), E(appRemote_Config.remoteId, appRemote_Config.remoteName) }, appRemote_Config.closeTimeout) : ($("#loading-message").html("<span style='color: Red;'>Could not load!</span>"), setTimeout(function () { B(), mo && (mo = !1, k()) }, appRemote_Config.closeTimeout)) }, error: function () { $("#loading-message").html("<span style='color: Red;'>Could not load!</span>"), setTimeout(function () { B(), mo && (mo = !1, k()) }, appRemote_Config.closeTimeout), ro = !1 } }) } } function G() { var e = $("#" + appRemote_Config.remoteId + "-loadedapp"); e.length > 0 && e.remove(), $("#pnl_options-minHeight").hide(); var o = $("#options-btn-device").attr("href"); o.toLowerCase().indexOf("externalappholder.aspx?appid") > 0 && (o += "&hidetoolbar=true"); var t = Math.abs($(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight())); $("#db-b").show(), $("#db-c").show(), $(".app-icon[data-appid='" + appRemote_Config.remoteId + "']").addClass("active"), $(".app-icon[data-appid='" + appRemote_Config.remoteId + "']").find(".app-icon-font").addClass("mobile-open"), $("#pnl_options").append("<div class='loading-background-holder'></div>"), $("#pnl_options").append("<iframe id='" + appRemote_Config.remoteId + "-loadedapp' src='" + o + "' frameborder='0' class='loaded-app-holder' style='width: " + $(window).width() + "; height: " + t + "px;'></iframe>"), $(".loaded-app-holder").one("load", function () { $(".loading-background-holder").remove() }) } function D() { var e = -(2 * $("#" + appRemote_Config.remoteId + "-loadedapp").outerHeight()); $("#" + appRemote_Config.remoteId + "-loadedapp").css({ visibility: "hidden", position: "absolute", top: e }), $("#db-b").hide(), $("#db-c").hide() } function q() { ro || (ro = !0, W("Closing App..."), $.ajax({ url: "WebServices/AcctSettings.asmx/UpdateAppRemote", type: "POST", data: '{ "id": "' + appRemote_Config.remoteId + '","options": "close" }', contentType: "application/json; charset=utf-8", success: function (e) { ro = !1, appRemote.ConvertBitToBoolean(e.d) ? setTimeout(function () { B(), E(appRemote_Config.remoteId, appRemote_Config.remoteName) }, appRemote_Config.closeTimeout) : ($("#loading-message").html("<span style='color: Red;'>Error! Try again.</span>"), setTimeout(function () { B(), mo && (mo = !1, k()) }, appRemote_Config.closeTimeout)) }, error: function () { $("#loading-message").html("<span style='color: Red;'>Error! Try again.</span>"), setTimeout(function () { B(), mo && (mo = !1, k()) }, appRemote_Config.closeTimeout), ro = !1 } })) } function J(e) { e && (so = !0), $("#updatePnl_AppList").sortable({ axis: "y", cancel: ".app-icon-category-list, #Category-Back", containment: "#updatePnl_AppList", opacity: .6, scrollSensitivity: 40, scrollSpeed: 40, start: function () { $(document).tooltip({ disabled: !0 }) }, stop: function () { var e = ""; $(".app-icon").each(function () { var o = $(this).attr("data-appid"); "" != o && -1 == e.indexOf(o) && (e += o + ",") }), so && $.ajax({ url: "WebServices/SaveControls.asmx/App_UpdateIcons", type: "POST", data: '{ "appList": "' + escape(e) + '" }', contentType: "application/json; charset=utf-8" }), $(document).tooltip({ disabled: !1 }) } }), $("#updatePnl_AppList").disableSelection() } function Q() { go || (go = !0, $.ajax({ url: "WebServices/NotificationRetrieve.asmx/CheckForNewNotifications", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (e) { var o = parseInt(e.d); $("#notifications").find("#total-noti").html(o), 0 == o ? $("#notifications").find(".notification-icon").removeClass("notifications-new").addClass("notifications-none") : $("#notifications").find(".notification-icon").removeClass("notifications-none").addClass("notifications-new"), go = !1, $(window).resize(), setTimeout(function () { Q() }, appRemote_Config.notiInterval) }, error: function () { go = !1, setTimeout(function () { Q() }, appRemote_Config.notiInterval) } })) } function K(e) { if (!ho && "" == $.trim($("#NotificationHolder").html())) { ho = !0, 0 == $(".ddLoadingMessage").length && e && $(".table-notiMessages-div").prepend(uo); var o = new Array; $("#table_NotiMessages tr").each(function (e) { o[e] = $(this).attr("id") }); var t = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/LoadUserNotifications"; $.ajax({ url: t, type: "POST", data: '{ "_currIds": "' + o + '","siteTheme": "' + appRemote_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $(".ddLoadingMessage").remove(), null != e.d && "" != e.d ? ($("#NotificationHolder").html($.trim(e.d)), $("#no-notifications-id").length > 0 ? $("#lb_clearNoti").hide() : $("#lb_clearNoti").show()) : $("#lb_clearNoti").hide(), ho = !1, Y(), X(), $(window).resize() }, error: function () { $(".ddLoadingMessage").remove(), Y(), $("#NotificationHolder").html("<h3 class='pad-top-big pad-bottom-big' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), $("#lb_clearNoti").hide(), ho = !1 } }) } } function V() { if (!fo && !ho) { fo = !0; var e = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/LoadMoreUserNotifications", o = new Array; $("#table_NotiMessages tr").each(function (e) { o[e] = $(this).attr("id") }), $.ajax({ url: e, type: "POST", data: '{ "_currIds": "' + o + '","_currCount": "' + parseInt($("#table_NotiMessages tr").length) + '","siteTheme": "' + appRemote_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $(".ddLoadingMessage").remove(), null != e.d && "" != e.d && $("#table_NotiMessages").append($.trim(e.d)), Y(), fo = !1, X(), $(window).resize() }, error: function () { $(".ddLoadingMessage").remove(), Y(), $("#NotificationHolder").append("<h3 class='pad-bottom-big' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), fo = !1 } }) } } function X() { var e = document.getElementById("notifications-viewtable"); if (null != e) { var o = $("#notifications-viewtable").innerHeight(), t = $("#notifications-viewtable").outerHeight(); if (o >= e.scrollHeight || e.scrollHeight < t) { var n = parseInt($("#notifications").find("#total-noti").html()), i = parseInt($("#table_NotiMessages tr").length); n > i && ($(".ddLoadingMessage").remove(), $("#NotificationHolder").append(uo), V()) } } } function Y() { $("#notifications-viewtable").scroll(function () { var e = document.getElementById("notifications-viewtable"); if (null != e) { var o = $("#notifications-viewtable"), t = o.scrollTop(); if (t > 0 && t + o.height() >= e.scrollHeight) { var n = parseInt($("#notifications").find("#total-noti").html()), i = parseInt($("#table_NotiMessages tr").length); n > i && ($(".ddLoadingMessage").remove(), $("#NotificationHolder").append(uo), V()) } } }) } function Z() { W("Clearing..."); var e = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/DeleteNotifications"; $.ajax({ url: e, type: "POST", data: '{ "id": "ClearAll" }', contentType: "application/json; charset=utf-8", success: function (e) { appRemote.ConvertBitToBoolean(e.d) && (B(), eo(), $("#db-b").hide(), $("#db-c").hide(), M()) } }) } function eo() { $("#notifications").find("#total-noti").html("0"), $("#notifications").find(".notification-icon").removeClass("notifications-new").addClass("notifications-none"); var e = window.location.href.split("#?"); e.length > 0 && (e = e[0]), e.indexOf("#") != e.length - 1 && (e += "#"), "" != appRemote_Config.categoryId && "" != appRemote_Config.categoryName && (e += "?id=" + appRemote_Config.categoryId + "&category=" + appRemote_Config.categoryName), "" != appRemote_Config.remoteId && "" != appRemote_Config.remoteName && (e += "" != appRemote_Config.categoryId && "" != appRemote_Config.categoryName ? "&" : "?", e += "appId=" + appRemote_Config.remoteId + "&name=" + appRemote_Config.remoteName), window.location = e } function oo() { $("#NotificationHolder").html(""), ho = !1, K(!0) } function to() { "none" != $("#Login-holder").css("display") ? ($("#Login-holder").hide(), $("#iframe-createaccount-holder").html("<iframe id='iframe-demo' src='" + openWSE.siteRoot() + "SiteTools/iframes/CreateAccount.aspx' frameborder='0' width='100%' style='visibility: hidden;'></iframe>"), $("#iframe-createaccount-holder").append("<div style='text-align: center;'><h3 id='loadingControls'>Loading Controls. Please Wait...</h3></div>"), $("#CreateAccount-holder").show(), $("#iframe-demo").load(function () { $("#loadingControls").remove(), $("#iframe-demo").css({ height: "475px", visibility: "visible" }) })) : ($("#CreateAccount-holder, #ForgotPassword-holder").hide(), $("#iframe-createaccount-holder").html(""), $("#Login-holder").show()) } function no() { "block" != $("#ForgotPassword-holder").css("display") ? ($("#tb_username_recovery").val(""), $("#lbl_passwordResetMessage").html(""), $("#UserNameRequired_recovery").css("visibility", "hidden"), $("#Login-holder").hide(), $("#ForgotPassword-holder").show()) : ($("#ForgotPassword-holder").hide(), $("#Login-holder").show()) } function io(e, o, t, n, i) { try { var a = !1; t && (a = !0); var p = openWSE.siteRoot() + "App_Themes/Standard"; $(e).attr("data-average", o), $(e).attr("data-id", "1"); var s = "big"; i || (s = "small"), $(e).jRating({ step: !0, type: s, showRateInfo: !1, canRateAgain: !0, nbRates: 100, bigStarsPath: p + "/Icons/star-rating-lrg.png", smallStarsPath: p + "/Icons/star-rating-sml.png", isDisabled: a, decimalLength: 2, length: 4, rateMax: 4, rateMin: 0, sendRequest: !0 }), i || $(e).find(".jStar").addClass("jStar-Small") } catch (r) { } } var ao = 0, po = 0, so = !1, ro = !1, lo = !1, co = !1; $(document.body).on("click", "#appremote-menu-overlay", function () { n() }), $(document.body).on("click", "#menu-s", function () { t() }), $(document.body).on("click", "#db-b", function () { appRemote.HideApp(), appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M() }), $(document.body).on("click", "#db-c", function () {
        $("#db-b").hide(), $("#db-c").hide(), $("#group-list").html(""), "block" == $("#notifications-viewtable").css("display") ? M() : "block" == $("#pnl_AccountInfo").css("display") ? M() : "adminPages" == appRemote_Config.categoryId ? ($("#pnl_adminPage_iframe").hide(), $("#pnl_adminPage_iframe").html(""), $("#pnl_adminPages").show(), appRemote_Config.categoryId = "adminPages", appRemote_Config.categoryName = "pageSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M()) : "chatClient" == appRemote_Config.categoryId ? ($(".iFrame-chat").each(function () {
            $(this).remove()
        }), appRemote_Config.categoryId = "chatClient", appRemote_Config.categoryName = "userSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M()) : ($("#pnl_options").find("#" + appRemote_Config.remoteId + "-loadedapp").remove(), $(".app-icon[data-appid='" + appRemote_Config.remoteId + "']").removeClass("active"), $(".app-icon[data-appid='" + appRemote_Config.remoteId + "']").find(".app-icon-font").removeClass("mobile-open"), $("#load-option-text").html("<b>" + appRemote_Config.remoteName + "</b> Options"), $("#pnl_options-minHeight").show(), $("#options-btn-device").show(), appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M())
    }), $(document.body).on("click", "#db-s", function () { if (n(), !ro) if ($("#loading-message-modal").html(""), "none" == $("#workspace-selector-overlay").css("display") || "none" == $("#workspace-selector-modal").css("display")) { ro = !0; var e = setTimeout(function () { W("Getting Current...") }, 1500); $.ajax({ url: "WebServices/AcctSettings.asmx/GetCurrentWorkspace_Remote", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (o) { ro = !1, clearTimeout(e), B(), "" != o.d && $("#dropdownSelector").val(o.d), $("#workspace-selector-overlay, #workspace-selector-modal").show() }, error: function () { $("#loading-message").html("<span style='color: Red;'>Error! Try again.</span>"), setTimeout(function () { B(), mo && (mo = !1, k()) }, appRemote_Config.closeTimeout), ro = !1 } }) } else $("#workspace-selector-overlay, #workspace-selector-modal").hide() }), $(document.body).on("click", "#cc-s", function () { appRemote_Config.categoryId = "chatClient", appRemote_Config.categoryName = "userSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M() }), $(document.body).on("click", "#wl-s", function () { appRemote_Config.categoryId = "", appRemote_Config.categoryName = "", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M() }), $(document.body).on("click", "#login-s", function () { n(), "block" != $("#pnl_login").css("display") && (-1 == window.location.href.indexOf("?") ? window.location += "?loginPnl=true" : window.location = m() + "loginPnl=true") }), $(document.body).on("click", "#ap-s", function () { appRemote_Config.categoryId = "adminPages", appRemote_Config.categoryName = "pageSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", M() }), $(document.body).on("click", "#lbl_UserName", function () { n(), "block" != $("#pnl_AccountInfo").css("display") && (-1 == window.location.href.indexOf("?") ? window.location += "?acctInfo=true" : window.location = m() + "acctInfo=true") }), $(document.body).on("click", "#workspace-selector-overlay", function () { ro || ("none" != $("#workspace-selector-overlay").css("display") || "none" != $("#workspace-selector-modal").css("display")) && ($("#loading-message-modal").html(""), $("#workspace-selector-overlay, #workspace-selector-modal").hide()) }), $(document.body).on("keydown", "#moveresize-top, #moveresize-left, #moveresize-width, #moveresize-height", function (e) { try { if (13 == e.which) return e.preventDefault(), F(), !1 } catch (o) { if (13 == e.keyCode) return e.preventDefault(), F(), !1; delete o } }), $(document.body).on("change", "#dropdownSelector", function () { H($(this).val()) }), $(document.body).on("click", "#Category-Back", function () { h(!0) }), $(document.body).on("click", "#notifications", function () { n(), "block" != $("#notifications-viewtable").css("display") && (-1 == window.location.href.indexOf("?") ? window.location += "?notiOn=true" : window.location = m() + "notiOn=true") }), $(document.body).on("click", "#tryconnect", function () { mo ? (mo = !1, k(), l()) : (W("Trying to Connect"), y()) }), $(document.body).on("click", "#group-btns-holder", function () { n(), "block" != $("#grouplogin-list").css("display") && (-1 == window.location.href.indexOf("?") ? window.location += "?groupLogin=true" : window.location = m() + "groupLogin=true") }), $(document.body).on("click", "#groupLogout", function () { n(), W("Please Wait"), $("#hf_LogoutOfGroup").val((new Date).toString()), __doPostBack("hf_LogoutOfGroup", "") }); var mo = !1, go = !1, ho = !1, fo = !1, uo = "<div class='ddLoadingMessage'><h3>Loading Notifications. Please Wait...</h3></div>"; return { AddBackgroundColorToLogo: f, MenuClick: t, OpenSidebarMenu_Swipe: i, CloseSidebarMenu_Swipe: a, InitializeSwipeEvent: s, CloseAllOpened: d, init: _, ConvertBitToBoolean: e, IsComplexWorkspaceMode: o, StartLoadingOverlay: W, CloseStartLoadingOverlay: B, AppsSortUnlocked: J, LoadOptions: O, LoadAdminPage: N, LoginAsGroup: v, SetAdminMode: b, SetDemoMode: C, Load: k, CategoryClick: g, OnWorkspaceClick: H, OpenApp: F, LoadApp: G, HideApp: D, CloseApp: q, RefreshNotifications: oo, CheckForNewNotifications: Q, NotiActionsClearAll: Z, ResetNoti: eo, UpdateURL: M, LoadCreateAccountHolder: to, LoadRecoveryPassword: no, RatingStyleInit: io, GroupLoginModal: u }
}(), openWSE = function () { function e(e, i, a) { if ($(a).length > 0) { for (var p = e.split("|"), s = new Array, r = 0; r < p.length; r++) "" != p[r] && s.push(p[r]); var l = o(a); -1 == l && s.length > 1 ? (n.push({ obj: null, loopIndex: 1, div: a, list: s }), l = n.length - 1) : -1 != l && (clearInterval(n[l].obj), n[l].obj = null, n[l].loopIndex = s.length - 1, n[l].list = s), n.length > 0 && null != n[l] && n[l].list.length > 1 && (n[l].obj = setInterval(function () { var e = n[l].list[n[l].loopIndex]; if (null == e || void 0 == e) { n[l].loopIndex = 0; var e = n[l].list[n[l].loopIndex] } null != e && void 0 != e && (e.length > 6 ? (-1 == e.toLowerCase().indexOf("http") && -1 == e.toLowerCase().indexOf("www.") && (e = t() + e), $(a).css("background", "#FFFFFF url('" + e + "') repeat right center"), $(a).css("background-size", "auto")) : $(a).css("background", "#" + e)), n[l].loopIndex++, n[l].loopIndex >= n[l].list.length && (n[l].loopIndex = 0) }, i)) } } function o(e) { for (var o = 0; o < n.length; o++) if (n[o].div == e) return o; return -1 } function t() { var e = ""; return "" != appRemote_Config.siteRootFolder && (e = appRemote_Config.siteRootFolder + "/"), window.location.protocol + "//" + window.location.host + "/" + e } var n = new Array; return { NotiActionsHideInd: function (e) { appRemote.StartLoadingOverlay("Deleting..."); var o = $(e).closest("tr"), t = o.attr("id"), n = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/DeleteNotifications"; $.ajax({ url: n, type: "POST", data: '{ "id": "' + t + '" }', contentType: "application/json; charset=utf-8", success: function (e) { if (appRemote.ConvertBitToBoolean(e.d)) if (o.hide(), appRemote.CloseStartLoadingOverlay(), o.remove(), "1" == $("#notifications").find("#total-noti").html()) appRemote.ResetNoti(); else { var t = parseInt($("#notifications").find("#total-noti").html()); t -= 1, $("#notifications").find("#total-noti").html(t) } } }) }, AcceptGroupNotification: function (e, o) { appRemote.StartLoadingOverlay("Accepting..."); var t = $(e).closest("tr"), n = t.attr("id"), i = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/AcceptInviteNotifications"; $.ajax({ url: i, type: "POST", data: '{ "id": "' + n + '", "groupId": "' + o + '" }', contentType: "application/json; charset=utf-8", success: function (e) { if (appRemote.ConvertBitToBoolean(e.d)) if (t.hide(), appRemote.CloseStartLoadingOverlay(), t.remove(), "1" == $("#notifications").find("#total-noti").html()) appRemote.ResetNoti(); else { var o = parseInt($("#notifications").find("#total-noti").html()); o -= 1, $("#notifications").find("#total-noti").html(o) } } }) }, siteRoot: function () { var e = ""; return "" != appRemote_Config.siteRootFolder && (e = appRemote_Config.siteRootFolder + "/"), window.location.protocol + "//" + window.location.host + "/" + e }, ExpandAdminLinks: function (e, o) { $(e).hasClass("img-expand-sml") ? ($(e).removeClass("img-expand-sml"), $(e).addClass("img-collapse-sml"), $(e).closest(".app-icon-links").parent().find("." + o).slideDown(appRemote_Config.animationSpeed)) : ($(e).removeClass("img-collapse-sml"), $(e).addClass("img-expand-sml"), $(e).closest(".app-icon-links").parent().find("." + o).slideUp(appRemote_Config.animationSpeed)) }, BackgroundLoop: e } }(); $(document).ready(function () { appRemote.init(); var e = window.location.href.split("#"); 1 == e.length && (window.location += "#"), appRemote.Load(), appRemote.InitializeSwipeEvent() }), $(function () { $(window).hashchange(function () { appRemote.Load() }) }), $(window).resize(function () { if ($("#pnl_adminPages, #pnl_AccountInfo, #pnl_adminPage_iframe, #pnl_chat_popup, #pnl_chat_users, #pnl_icons, #pnl_login, #pnl_options, #notifications-viewtable, #grouplogin-list").css({ top: $("#always-visible").outerHeight(), bottom: $("#container-footer").outerHeight() }), $(".iFrame-chat").length > 0) { var e = $(window).height(), o = $("#always-visible").height(), t = $("#container-footer").height(), n = e - (o + t); $(".iFrame-chat").height(n - 1) } var i = Math.abs($(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight())); $(".loaded-app-holder").each(function () { "hidden" != $(this).css("visibility") && $(this).css({ height: i, width: $(window).width(), position: "", top: "" }) }), "block" == $("#notifications-viewtable").css("display") && $(".alert-panel-description").each(function () { $(this).css("width", $(window).width() - 135) }) }), function (e, o, t) { function n(e) { return e } function i(e) { return decodeURIComponent(e.replace(a, " ")) } var a = /\+/g, p = e.cookie = function (a, s, r) { if (s !== t) { if (r = e.extend({}, p.defaults, r), null === s && (r.expires = -1), "number" == typeof r.expires) { var l = r.expires, c = r.expires = new Date; c.setDate(c.getDate() + l) } return s = p.json ? JSON.stringify(s) : String(s), o.cookie = [encodeURIComponent(a), "=", p.raw ? s : encodeURIComponent(s), r.expires ? "; expires=" + r.expires.toUTCString() : "", r.path ? "; path=" + r.path : "", r.domain ? "; domain=" + r.domain : "", r.secure ? "; secure" : ""].join("") } for (var d, m = p.raw ? n : i, g = o.cookie.split("; "), h = 0; d = g[h] && g[h].split("=") ; h++) if (m(d.shift()) === a) { var f = m(d.join("=")); return p.json ? JSON.parse(f) : f } return null }; p.defaults = {}, e.removeCookie = function (o, t) { return null !== e.cookie(o, t) ? (e.cookie(o, null, t), !0) : !1 } }(jQuery, document); var cookie = { set: function (e, o, t) { if (openWSE_Config.saveCookiesAsSessions) { var n = openWSE.siteRoot() + "WebServices/SaveControls.asmx/SetCookie"; $.ajax({ url: n, type: "POST", data: '{ "name": "' + e + '","value": "' + o + '" }', contentType: "application/json; charset=utf-8" }) } else { { cookie.get(e) } if (t) { var i = new Date; i.setTime(i.getTime() + 24 * t * 60 * 60 * 1e3); var a = "; expires=" + i.toGMTString() } else var a = ""; document.cookie = e + "=" + o + a + "; path=/" } }, get: function (e) { var o = null; if (openWSE_Config.saveCookiesAsSessions) { var t = openWSE.siteRoot() + "WebServices/SaveControls.asmx/GetCookie"; $.ajax({ url: t, type: "POST", async: !1, data: '{ "name": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (e) { e && (o = e.d) } }) } else for (var n = e + "=", i = document.cookie.split(";"), a = 0; a < i.length; a++) { for (var p = i[a]; " " == p.charAt(0) ;) p = p.substring(1, p.length); if (0 == p.indexOf(n)) return p.substring(n.length, p.length) } return o }, del: function (e) { if (openWSE_Config.saveCookiesAsSessions) { var o = openWSE.siteRoot() + "WebServices/SaveControls.asmx/DelCookie"; $.ajax({ url: o, type: "POST", data: '{ "name": "' + e + '" }', contentType: "application/json; charset=utf-8" }) } else this.set(e, "", -1) } };
