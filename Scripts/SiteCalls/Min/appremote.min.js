// -----------------------------------------------------------------------------------
//
//	appRemote v4.9
//	by John Donnelly
//	Last Modification: 3/10/2016
//
//	Licensed under the Creative Commons Attribution 2.5 License - http://creativecommons.org/licenses/by/2.5/
//  	- Free for use in both personal and commercial projects
//		- Attribution requires leaving author name, author link, and the license info intact.
//
//  Requirements:
//      jquery v1.11.0 - http://code.jquery.com/jquery-1.11.1.min.js
//      migrate.jquery.min.js - http://code.jquery.com/jquery-migrate-1.2.1.min.js
//
// -----------------------------------------------------------------------------------
var appRemote_Config = { animationSpeed: 150, closeTimeout: 2e3, remoteId: "", remoteName: "", categoryId: "", categoryName: "", currUrl: "", workspaceMode: "", notiInterval: 1e4, siteTheme: "Standard", siteRootFolder: "", forceGroupLogin: !1, autoSync: !1, scale: "0.95", foreColor: "#252525", useDarkColor: !0, needToSetColorMode: !1, showToolTips: !0, siteTipsOnPageLoad: !1, saveCookiesAsSessions: !1, backgroundTimerLoop: 30, ShowLoginModalOnDemoMode: !1 }, appRemote = function () {
    function e(e) { if (null != e && void 0 != e) { var o = $.trim(e.toString().toLowerCase()); if ("true" != o && "false" != o && "0" != o && "1" != o && "" != o) return !0; if ("1" == o || "true" == o || "" == o) return !0; if ("0" == o || "false" == o) return !1 } return !1 } function o() { return "complex" == appRemote_Config.workspaceMode.toLowerCase() || "" == appRemote_Config.workspaceMode ? !0 : !1 } function t() { $("#appremote-sidebar-menu").hasClass("showmenu") ? a() : i() } function n() { a() } function i() { var e = $("#appremote-sidebar-menu"); if (e.length > 0) { var o = !0; ("" == $("#main_body").css("background-image") || "none" == $("#main_body").css("background-image")) && (o = !1), "block" == $("#pnl_icons").css("display") && $("#Category-Back").length > 0 && m() && o ? ye = !0 : "block" == $("#pnl_icons").css("display") && ($(".app-icon.Icon_Only").length > 0 || $(".app-icon.Icon_And_Text_Only").length > 0 || $(".app-icon.Icon_And_Color_Only").length > 0 || $(".app-icon.Icon_Plus_Color_And_Text").length > 0) && m() && (ye = !0), $("#workspace-selector-overlay, #workspace-selector-modal").hide(), p(), e.hasClass("showmenu") || (e.addClass("showmenu"), r(), $("#appremote-menu-overlay").show(), e.css("width", $(window).width() - 25), ye ? (e.show(), e.find(".appremote-sidebar-innercontent").show()) : e.show("slide", { direction: "left" }, 150, function () { e.find(".appremote-sidebar-innercontent").show() })) } } function a() { var e = $("#appremote-sidebar-menu"); e.length > 0 && ($("#workspace-selector-overlay, #workspace-selector-modal").hide(), p(), e.hasClass("showmenu") && (e.removeClass("showmenu"), e.find(".appremote-sidebar-innercontent").hide(), ye ? (e.hide(), e.css("width", 0), $("#appremote-menu-overlay").hide()) : e.hide("slide", { direction: "left" }, 150, function () { e.css("width", 0), $("#appremote-menu-overlay").hide() })), ye = !1) } function p() { $("#appremote-sidebar-menu, #appremote-menu-overlay").css({ top: $("#always-visible").outerHeight(), bottom: $("#container-footer").outerHeight() }) } function s() { if ($("#menu-s").length > 0) try { $("#notifications-viewtable").length > 0 && document.id("notifications-viewtable").addEvent("swipe", l), $("#grouplogin-list").length > 0 && document.id("grouplogin-list").addEvent("swipe", l), $("#pnl_AccountInfo").length > 0 && document.id("pnl_AccountInfo").addEvent("swipe", l), $("#pnl_chat_users").length > 0 && document.id("pnl_chat_users").addEvent("swipe", l), $("#pnl_icons").length > 0 && document.id("pnl_icons").addEvent("swipe", l), $("#pnl_adminPages").length > 0 && document.id("pnl_adminPages").addEvent("swipe", l), $("#pnl_options-minHeight").length > 0 && document.id("pnl_options-minHeight").addEvent("swipe", l), $("#appremote-sidebar-menu").length > 0 && document.id("appremote-sidebar-menu").addEvent("swipe", l), $("#appremote-menu-overlay").length > 0 && document.id("appremote-menu-overlay").addEvent("swipe", l), $("#pnl_login").length > 0 && document.id("pnl_login").addEvent("swipe", l) } catch (e) { } } function l(e) { if (e) switch (e.direction) { case "left": appRemote.CloseSidebarMenu_Swipe(); break; case "right": appRemote.OpenSidebarMenu_Swipe() } } function r() { if ($("#appremote-sidebar-menu").hasClass("showmenu")) { var e = new Array; $("#opened_apps_header").hide(), $("#opened_apps_holder").html(""), $("#pnl_options").find(".loaded-app-holder").each(function () { var o = $(this).attr("id").replace("-loadedapp", ""), t = $(".app-icon[data-appid='" + o + "']"); if (t.length > 0 && !c(o, e)) { t = t.eq(0); var n = $.trim(t.html()), i = ""; (t.hasClass("Color_And_Description") || t.hasClass("Icon_And_Color_Only") || t.hasClass("Icon_Plus_Color_And_Text")) && (i = "style='background: " + t.css("background") + "'"); var a = t.attr("onclick"); $("#opened_apps_holder").append("<div data-appid='" + o + "' class='opened-app-icon' onclick=\"" + a + '" ' + i + ">" + n + "</div>"), e.push(o) } }), $("#pnl_icons").find(".app-icon").each(function () { var o = $(this).attr("data-appid"); if ($(this).hasClass("active") && !c(o, e)) { var t = $.trim($(this).html()), n = ""; ($(this).hasClass("Color_And_Description") || $(this).hasClass("Icon_And_Color_Only") || $(this).hasClass("Icon_Plus_Color_And_Text")) && (n = "style='background: " + $(this).css("background") + "'"); var i = $(this).attr("onclick"); $("#opened_apps_holder").append("<div data-appid='" + o + "' class='opened-app-icon' onclick=\"" + i + '" ' + n + ">" + t + "</div>"), e.push(o) } }), e.length > 0 && $("#opened_apps_header").show() } } function c(e, o) { for (var t = 0; t < o.length; t++) if (e == o[t]) return !0; return !1 } function d() { $("#pnl_options").find(".loaded-app-holder").each(function () { var e = $(this).attr("id").replace("-loadedapp", ""); $("#pnl_options").find("#" + e + "-loadedapp").remove(), $("#load-option-text").html("<b>" + $.trim($("#" + e).find(".app-icon-font").html()) + "</b> Options") }), $(".app-icon").removeClass("active"), $(".app-icon").find(".app-icon-font").removeClass("mobile-open"), $(".app-icon").find(".workspace-reminder").remove(), !we && Ae ? (we = !0, J("Closing Apps..."), $.ajax({ url: "WebServices/AcctSettings.asmx/CloseAllAppsFromAppRemote", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", complete: function (e) { we = !1, Q(), $("#pnl_options-minHeight").show(), $("#options-btn-device").show(), $("#opened_apps_header").hide(), $("#opened_apps_holder").html(""), appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G() } })) : Ae || (Q(), $("#pnl_options-minHeight").show(), $("#options-btn-device").show(), $("#opened_apps_header").hide(), $("#opened_apps_holder").html(""), appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G()) } function m() { return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? !0 : !1 } function g() { n(), "block" != $("#pnl_login").css("display") && (-1 == window.location.href.indexOf("?") ? -1 == window.location.href.indexOf("#") ? window.location += "#?loginPnl=true" : window.location += "?loginPnl=true" : window.location = h("loginPnl=true")) } function h(e) { var o = window.location.href.replace(window.location.href.substring(window.location.href.lastIndexOf("&" + e)), ""); return "" == o && (o = window.location.href.replace(window.location.href.substring(window.location.href.lastIndexOf("?" + e)), "")), "" == o && (o = window.location.href), -1 == o.indexOf("?") ? (-1 == o.indexOf("#") && (o += "#"), o += "?") : o += "&", o + e } function f(e, o, t) { appRemote_Config.categoryId = e, appRemote_Config.categoryName = o, $(".app-icon-category-list").hide(), $("#Category-Back").show(), $("." + appRemote_Config.categoryId).show(), $("#Category-Back-Name").html(appRemote_Config.categoryName), $("#Category-Back-Name-id").html(appRemote_Config.categoryId), appRemote_Config.autoSync && !Ae && (Pe = !0), t && G() } function u(e) { appRemote_Config.categoryId = "", appRemote_Config.categoryName = "", appRemote_Config.remoteId = "", appRemote_Config.remoteName = ""; var o = $("#Category-Back-Name-id").html(); $("#Category-Back").hide(), "" != o && void 0 != o && null != o ? $("." + o).length > 0 && ($("." + o).hide(), $(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html("")) : ("block" == $("#pnl_chat_users").css("display") && $("#pnl_chat_users").hide(), "block" == $("#pnl_options").css("display") && $("#pnl_options").hide(), "block" == $("#pnl_adminPages").css("display") && $("#pnl_adminPages").hide(), "none" == $("#pnl_icons").css("display") && $("#pnl_icons").show(), $(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html("")), e && G() } function _(e) { ("" == e || null == e) && (e = "0,0,0"), $("#img_icon_logo").length > 0 && ($("#img_icon_logo").addClass("logo-backgroundcolor"), $(".logo-backgroundcolor").css("background-color", "rgba(" + e + ",0.4)")) } function v() { "" == $.trim($("#group-list").html()) && (J("Please Wait"), $.ajax({ url: "WebServices/AcctSettings.asmx/GetUserGroups", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (e) { var o = ""; try { for (var t = 0; t < e.d[0].length; t++) { var n = e.d[0][t][0], i = e.d[0][t][1], a = e.d[0][t][2], p = e.d[0][t][3], s = e.d[0][t][4], l = "style=\"background: url('" + s + "'); background-size: cover;\""; o += "<div class='group-selection-entry' onclick='appRemote.LoginAsGroup(\"" + n + "\")' title='Click to login' " + l + ">", o += "<div class='overlay'></div>", o += "<div class='group-selection-info'>", o += "<div class='group-name-info'>", o += "<span class='group-name'>" + i + "</span><div class='clear-space-five'></div>", o += "<span class='group-info'><b class='pad-right-sml'>Owner:</b>" + p + "</span>", o += "</div>", o += "<img class='group-img' alt='Group Logo' src='" + a + "' />", o += "</div></div>" } appRemote.ConvertBitToBoolean(e.d[1]) && (o += "<div class='logingroupselector-logout' onclick='appRemote.LoginAsGroup(\"\")'>", o += "<div>Log Out of Group</div>", o += "</div>"), o += "<div class='clear-space'></div>" } catch (r) { } $("#group-list").html(o), Q() } })) } function w(e) { J("Please Wait"), $.ajax({ url: "WebServices/AcctSettings.asmx/LoginUnderGroup", type: "POST", data: '{ "id": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (o) { "true" == o.d ? window.location = "AppRemote.aspx" : window.location = "AppRemote.aspx?group=" + e }, error: function (e) { Q() } }) } function b() { C(), k(); var o = cookie.get("siteTipsOnPageLoad"); "" != o && null != o && void 0 != o && Ce && (appRemote_Config.siteTipsOnPageLoad = e(o)), S(), T(!appRemote_Config.showToolTips), $(".app-icon.Icon_Only").length > 0 ? $(".app-icon.Icon_Only").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") }) : $(".app-icon.Icon_And_Text_Only").length > 0 ? $(".app-icon.Icon_And_Text_Only").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") }) : $(".app-icon.Icon_And_Color_Only").length > 0 ? $(".app-icon.Icon_And_Color_Only").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") }) : $(".app-icon.Icon_Plus_Color_And_Text").length > 0 && $(".app-icon.Icon_Plus_Color_And_Text").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") }) } function C() { $("#pnl_adminPages").length > 0 && $("#pnl_adminPages").find(".app-icon-links, .app-icon-sub-links").each(function () { var e = $(this).attr("href"), o = !1; "_blank" == $(this).attr("target") && (o = !0); var t = e.split("#?"); e = t[0]; var n = ""; t.length > 1 && (n = "#?" + t[1]), e += e.indexOf("?") > 0 ? "&mobileMode=true" : "?mobileMode=true", o ? e += "&noHeader=true" : $(this).attr("onclick", "appRemote.StartLoadingOverlay('Loading');return true;"), e += n, $(this).attr("href", e) }) } function y() { $("#workspace_header_btn").remove(), be = !0, appRemote_Config.categoryId = "adminPages", appRemote_Config.categoryName = "pageSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G() } function R() { $("#workspace_header_btn").remove(), $("#notifications").remove(), $("#pnl_login").hide(), $("#app-load-options").remove(), Ce = !0, L() } function k() { var e = $("head"), o = e.find("style[type='text/css']"), t = ""; appRemote_Config.needToSetColorMode ? (appRemote_Config.useDarkColor ? (t += ".img-expand-sml{background-image:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/expand-sml.png') !important}\n", t += ".img-collapse-sml{background-image:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/collapse-sml.png') !important}\n", t += ".img-open{background:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/open-dark.png') no-repeat left center !important}\n", t += ".img-workspace{background:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/workspace-dark.png') no-repeat left center !important}\n", t += ".img-update{background:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/update.png') no-repeat left center !important}\n", t += ".img-close{background:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/close.png') no-repeat left center !important}\n", t += ".category-back-img{background-image:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/prevpage.png')!important}\n", t += ".app-category-nextpage{background-image:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/nextpage.png')!important}\n", $("a, a:link, a:visited").css("color", "#295ABE")) : (t += ".category-back-img{background-image:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/prevpage-alt.png')!important}\n", t += ".app-category-nextpage{background-image:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/nextpage-alt.png')!important}\n", $("a, a:link, a:visited").css("color", "#D8DFED")), t += "#pnl_adminPages .menu-title, #pnl_AccountInfo #lbl_UserEmail, .title-dd-name, #no-notifications-id, .cb-links, #span_currStatus, h1, h2, h3, h4, h5, h6, #last-updated, .option-buttons, .app-icon .app-icon-font, .app-icon-links .app-icon-font, .app-icon-sub-links .app-icon-font, .app-icon-category-list .app-icon-font, .app-icon-admin .app-icon-font, .app-icon .workspace-reminder, #rememberme-holder label, .app-icon.Name_And_Description .app-description, .alert-panel-description, #app-load-options, #statusDiv{color:" + appRemote_Config.foreColor + " !important}\n", t += "#pnl_chat_popup, #pnl_chat_users, #pnl_icons, #pnl_login, #pnl_options, #notifications-viewtable, #grouplogin-list, #pnl_AccountInfo, #pnl_adminPages, #pnl_adminPage_iframe{background:rgba(0, 0, 0, 0.0) !important}\n") : (t += ".category-back-img{background-image:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/prevpage-alt.png')!important}\n", t += ".app-category-nextpage{background-image:url('" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/nextpage-alt.png')!important}\n", $("a, a:link, a:visited").css("color", "#D8DFED")), o.length > 0 ? o.eq(o.length - 1).append(t) : e.append("<style type='text/css'>" + t + "</style>") } function T(e) { navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i) ? $(document).tooltip({ disabled: !0 }) : $(document).tooltip({ disabled: e }) } function S() { appRemote_Config.siteTipsOnPageLoad && $.ajax({ type: "GET", dataType: "xml", url: openWSE.siteRoot() + "SiteTips.xml", cache: !1, complete: function (e) { if (0 == xe.length && $(e.responseText).find("Hint").each(function () { var e = $.trim($(this).html()); "" != e && xe.push(e) }), xe.length > 0) { Ie = Math.round(Math.random() * (xe.length - 1)); var o = "<div id='SiteTip-element' class='Modal-element' style='display: block; visibility: visible; opacity: 0.0; filter: alpha(opacity=0);'>"; o += "<div class='Modal-overlay'>", o += "<div class='Modal-element-align'>", o += "<div class='Modal-element-modal' style='overflow:auto; min-width: " + ($(window).width() - 50) + "px; max-height: " + ($(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight() + 50)) + "px;'>"; var t = "<input class='input-buttons nextprev-button' type='button' value='Next Tip' onclick=\"appRemote.NextSiteTip();\" /><div class='clear-space-five'></div>", n = "<input class='input-buttons nextprev-button margin-bottom' type='button' value='Previous Tip' onclick=\"appRemote.PreviousSiteTip();\" />"; 1 == xe.length && (t = "", n = ""); var i = "<input class='input-buttons confirm-close-button float-left' type='button' value='Close' onclick=\"appRemote.CloseSiteTip();\" />", a = "<div class='dont-show-again'><input id='dont-show-again-cb' type='checkbox' checked='checked' /><label for='dont-show-again-cb'>Show Tips on Page Load</label></div>"; "" == appRemote_Config.siteTheme && (appRemote_Config.siteTheme = "Standard"); var p = "<img alt='light-bulb' src='" + openWSE.siteRoot() + "App_Themes/" + appRemote_Config.siteTheme + "/Icons/sitetip.png' />", s = xe[Ie]; o += "<div class='ModalPadContent'>" + p + "<span class='tip-title'>Did you know?</span><div class='clear'></div><div class='message-text'>" + s + "</div>", o += "<div class='button-holder'>" + a + "<div class='clear-space'></div><div class='clear-space'></div>" + n + t + i + "<div class='clear'></div></div></div>", o += "</div></div></div></div>", $("body").append(o), P(), $("#SiteTip-element").fadeTo(2 * appRemote_Config.animationSpeed, 1, function () { P() }), $("#SiteTip-element").find(".Modal-overlay").on("click", function (e) { "Modal-overlay" == e.target.className && appRemote.CloseSiteTip() }) } } }) } function I() { Ie++, Ie >= xe.length && (Ie = 0), $("#SiteTip-element").find(".message-text").html(xe[Ie]), P() } function x() { Ie--, 0 > Ie && (Ie = xe.length - 1), $("#SiteTip-element").find(".message-text").html(xe[Ie]), P() } function A() { $("#dont-show-again-cb").prop("checked") || (Ce ? cookie.set("siteTipsOnPageLoad", "false", "30") : $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/TurnOffSiteTipsOnPageLoad", data: "", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8" })), Ie = 0, xe = new Array, $("#SiteTip-element").remove() } function P() { $("#SiteTip-element").find(".Modal-element-align").css({ marginTop: -($("#SiteTip-element").find(".Modal-element-modal").height() / 2), marginLeft: -($("#SiteTip-element").find(".Modal-element-modal").width() / 2) }) } function N() { appRemote_Config.forceGroupLogin || (appRemote.IsComplexWorkspaceMode() ? Ce || be || $.ajax({ url: "WebServices/AcctSettings.asmx/CanConnectToWorkspace", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (e) { Ae = "simple" == e.d ? !1 : appRemote.ConvertBitToBoolean(e.d) ? !0 : !1, "none" == $("#pnl_options").css("display") && L(), Ae ? ke = setTimeout(function () { N() }, Te) : clearTimeout(ke) }, error: function () { Ae = !1, "none" == $("#pnl_options").css("display") && L() } }) : ($("#workspace_header_btn").remove(), Ae = !0)) } function O() { Ce || be || o() && (Ae ? ($("#tryconnect").html("<span class='connected-img'></span>Disconnect from Workspace"), $("#tryconnect").addClass("synced")) : ($("#tryconnect").html("<span class='disconnected-img'></span>Connect to Workspace"), $("#tryconnect").removeClass("synced"))), $("#pnl_adminPages, #pnl_AccountInfo, #pnl_adminPage_iframe, #pnl_chat_popup, #pnl_chat_users, #pnl_icons, #pnl_login, #pnl_options, #notifications-viewtable, #grouplogin-list").css({ top: $("#always-visible").outerHeight(), bottom: $("#container-footer").outerHeight() }); var e = Math.abs($(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight())); $(".pnl_overflowHolder").each(function () { $(this).parent().find(".pnl_toplogo_banner").length > 0 && $(this).css("height", e - $(this).parent().find(".pnl_toplogo_banner").outerHeight()) }), $(".pnl_overflowHolder").scroll(), $(".iFrame-chat").length > 0 && $(".iFrame-chat").height(e - 1), $(".loaded-app-holder").each(function () { "hidden" != $(this).css("visibility") && $(this).css({ height: e, width: $(window).width() }) }) } function L() { if (we) { if ("#" != currUrl && "" != currUrl && "1" != currUrl) { var e = window.location.href.split("#"); if (e.length > 0) { for (var o = 1; o < e.length; o++) if ("" != $.trim(e[o])) { currUrl = $.trim(e[o]); break } e = e[0] } window.location = e + "#" + currUrl } } else if (currUrl = window.location.hash, M(), !appRemote_Config.autoSync || Ae || Pe || N(), Pe = !1, $("#pnl_login").length > 0 && $("#login_header_btn").show(), appRemote_Config.forceGroupLogin) $("#grouplogin-list").show(), v(); else if ("" == currUrl) $("#pnl_login").length > 0 && 0 == $("#pnl_icons").length ? (F("#pnl_login"), $("#pnl_login").show()) : (F("#pnl_icons"), $("#pnl_icons").show(), te(), Y(), u(!1)); else if (-1 != currUrl.indexOf("acctInfo=true")) $("#pnl_login").length > 0 ? (F("#pnl_login"), $("#pnl_login").show(), $("#login_header_btn").hide()) : ($("#pnl_AccountInfo").show(), $("#db-c").show()), $("#pnl_icons").hide(); else if (-1 != currUrl.indexOf("loginPnl=true")) F("#pnl_login"), $("#pnl_login").show(), $("#pnl_icons").hide(), $("#login_header_btn").hide(); else if (-1 != currUrl.indexOf("notiOn=true")) $("#login_header_btn").hide(), $("#db-c").show(), $("#notifications").hide(), se(!0), $("#notifications-viewtable").show(); else if (-1 != currUrl.indexOf("groupLogin=true")) $("#login_header_btn").hide(), $("#db-c").show(), $("#notifications").hide(), v(), $("#grouplogin-list").show(); else if ($("#pnl_login").length > 0 && 0 == $("#pnl_icons").length) F("#pnl_login"), $("#pnl_login").show(); else { var t = q("id"), n = q("category"), i = q("appId"), a = q("name"); appRemote_Config.categoryId = t, appRemote_Config.categoryName = n, appRemote_Config.remoteId = i, appRemote_Config.remoteName = a, "chatClient" == t && $("#pnl_chat_users").length > 0 ? H(n, i, a) : "adminPages" == t && $("#pnl_adminPages").length > 0 ? W(t, n) : "adminPages" == t && 0 == $("#pnl_adminPages").length || "chatClient" == t && 0 == $("#pnl_chat_users").length ? (appRemote_Config.categoryId = "", appRemote_Config.categoryName = "", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G(), D("", "", "", "")) : D(t, n, i, a) } O() } function M() { Q(), $(".loaded-app-holder").each(function () { var e = $(this).attr("id"); null != e && void 0 != e && "" != e && $(this).css({ visibility: "hidden", height: 1, width: 1, position: "absolute", top: -($(window).height() + 1) }) }), $("#notifications-viewtable, #grouplogin-list").hide(), -1 == currUrl.indexOf("notiOn=true") && $("#NotificationHolder").html(""), -1 == currUrl.indexOf("groupLogin=true") && $("#group-list").html(""), $("#loading-message-modal").html(""), $(".loading-background-holder").remove(), "adminPages" == appRemote_Config.categoryId && "pageSelect" == appRemote_Config.categoryName || "adminPages" != appRemote_Config.categoryId ? ($("#pnl_adminPage_iframe").html(""), $("#pnl_adminPage_iframe").hide()) : $("#pnl_adminPage_iframe").css("visibility", "hidden"), $("#pnl_icons, #pnl_AccountInfo, #pnl_options, #pnl_chat_users, #pnl_chat_popup, #pnl_appMoveResize, #pnl_adminPages, #workspace-selector-overlay, #workspace-selector-modal").hide(), $("#rb_norm").prop("checked", !0), $("#ddl_appDropdownSelector").val("1"), $("#loading-message").html(""), $("#load-option-text").html(""), $("#login_header_btn").hide(), $("#db-b").hide(), $("#db-c").hide(), $("#notifications").show(), be && "adminPages" != appRemote_Config.categoryId && y(), $("#pnl_login").length > 0 && ($("#pnl_login").hide(), $("#login_header_btn").show()), Ae ? $("#workspace_header_btn").show() : $("#workspace_header_btn").hide() } function W(e, o) { $("#pnl_adminPages").length > 0 && (F("#pnl_adminPages"), "pageSelect" == o ? ($("#pnl_adminPage_iframe").hide(), $("#pnl_adminPage_iframe").html(""), $("#pnl_adminPages").show()) : (j(), "" == $.trim($("#pnl_adminPage_iframe").html()) ? E(o) : $("#pnl_adminPage_iframe").css("visibility", "visible"))) } function j() { $("#pnl_adminPages, #pnl_icons, #pnl_chat_users, #pnl_options, #pnl_chat_popup, #pnl_appMoveResize, #login_header_btn").hide(), $("#db-c").show() } function B(e) { (void 0 === window.event || !$(window.event.target).hasClass("img-expand-sml") && !$(window.event.target).hasClass("img-collapse-sml")) && (appRemote_Config.categoryId = "adminPages", appRemote_Config.categoryName = escape(e), appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G()) } function E(e) { var o = Math.abs($(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight())); $("#pnl_adminPage_iframe").html("<div class='loading-background-holder'></div><iframe src='" + unescape(e) + "' frameborder='0' class='loaded-app-holder' style='width: " + $(window).width() + "; height: " + o + "px;'></iframe>"), $("#pnl_adminPage_iframe").show(), $("#pnl_adminPage_iframe").css("visibility", "visible"), $(".loaded-app-holder").one("load", function () { $(".loading-background-holder").remove() }) } function H(e, o, t) { $("#pnl_chat_users").length > 0 && (F("#pnl_chat_users"), "" != o ? z(o, t) : "userSelect" == e && $("#pnl_chat_users").show()) } function z(e, o) { if ($("#pnl_chat_popup").length > 0) if (appRemote_Config.remoteId = e, appRemote_Config.remoteName = o, -1 == e.indexOf("app-")) { $("#pnl_chat_users").hide(); try { chatClient.BuildChatWindowMobile(e), $("#db-b").hide(), $("#db-c").show() } catch (t) { } } else $("#pnl_chat_users").show(), appRemote_Config.categoryId = "chatClient", appRemote_Config.categoryName = "userSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G() } function D(e, o, t, n) { F("#pnl_icons"), $("#pnl_icons").show(), te(), Y(), "" != e && "" != o ? f(e, o, !1) : "" == t && u(!1), "" != t && ($("#db-c").show(), X(t, n)) } function U(e, o, t) { ("chatClient" == appRemote_Config.categoryId || "adminPages" == appRemote_Config.categoryId) && (appRemote_Config.categoryId = "", appRemote_Config.categoryName = ""), appRemote_Config.autoSync && !Ae && (Pe = !0), appRemote_Config.remoteId = e, appRemote_Config.remoteName = o, t && G() } function F(e) { var o = $(e); o.length > 0 && $("#pnl_icon_toplogo_banner").length > 0 && 0 == o.find("#pnl_icon_toplogo_banner").length && (o.prepend($("#pnl_icon_toplogo_banner")), $("#pnl_icon_toplogo_banner").show()) } function G() { n(); var e = window.location.href.split("#?"); e.length > 0 && (e = e[0]), e.indexOf("#") != e.length - 1 && (e += "#"), "" != appRemote_Config.categoryId && "" != appRemote_Config.categoryName && (e += "?id=" + appRemote_Config.categoryId + "&category=" + appRemote_Config.categoryName), "" != appRemote_Config.remoteId && "" != appRemote_Config.remoteName && (e += "" != appRemote_Config.categoryId && "" != appRemote_Config.categoryName ? "&" : "?", e += "appId=" + appRemote_Config.remoteId + "&name=" + appRemote_Config.remoteName), window.location = e } function q(e) { e = e.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var o = "[\\?&]" + e + "=([^&#]*)", t = new RegExp(o), n = window.location.href.replace("#", ""), i = t.exec(n); return null == i ? "" : decodeURIComponent(i[1].replace(/\+/g, " ")) } function J(e) { -1 != e.indexOf("...") && (e = e.replace("...", "")), e += "<span class='progress inline-block'></span>", "block" == $("#loadoptions-selector-overlay").css("display") && ($("#loadoptions-selector-overlay, #loadoptions-selector-modal").hide(), $("#loading-message").html("")), $("#loading-message").html(e), V($("#loading-message").find(".progress")[0]); var o = $("#loadoptions-selector-modal"); try { var t = "#151515", n = document.getElementById("always-visible"); if (n) { var i = window.getComputedStyle(n); t = i.getPropertyValue("background"), (null == t || "" == t) && (t = i.getPropertyValue("background-color")) } (null == t || "" == t) && (t = "#151515"), o.css("background", t) } catch (a) { o.css("background", "#151515") } "none" != $("#always-visible").css("display") && o.css("top", $("#always-visible").outerHeight()); var p = -(o.outerWidth() / 2); o.css({ marginLeft: p }), $("#loadoptions-selector-overlay, #loadoptions-selector-modal").show() } function V(e) { Se = setInterval(function () { var o = ""; switch (Ne) { case 0: o = ".", Ne++; break; case 1: o = "..", Ne++; break; case 2: o = "...", Ne++; break; default: o = "", Ne = 0 } $(e).html(o) }, 400) } function Q() { Ne = 0, Se && null != Se && clearInterval(Se), $("#loadoptions-selector-overlay, #loadoptions-selector-modal").hide(), $("#loading-message").html("") } function K(e) { we || (we = !0, $("#loading-message-modal").html("Switching Workspaces..."), $.ajax({ url: "WebServices/AcctSettings.asmx/UpdateAppRemote", type: "POST", data: '{ "id": "workspace-selector","options": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (e) { appRemote.ConvertBitToBoolean(e.d) ? ($("#workspace-selector-overlay, #workspace-selector-modal").hide(), $("#loading-message-modal").html("")) : ($("#loading-message-modal").html("<span style='color: Red;'>Error! Try again.</span>"), Ae && (Ae = !1, L())), we = !1 }, error: function () { $("#loading-message-modal").html("<span style='color: Red;'>Error! Try again.</span>"), Ae && (Ae = !1, L()), we = !1 } })) } function X(e, o) { if (!we) { if ($(".app-icon[data-appid='" + e + "']").removeClass("active"), $(".app-icon[data-appid='" + e + "']").find(".app-icon-font").removeClass("mobile-open"), $("#" + e + "-loadedapp").length > 0) { $("#pnl_options-minHeight").hide(); var t = Math.abs($(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight())); return $("#" + appRemote_Config.remoteId + "-loadedapp").css({ visibility: "visible", position: "", top: "", height: t, width: $(window).width() }), $("#db-b").show(), $("#db-c").show(), $("#pnl_options").show(), $("#pnl_adminPages, #pnl_icons").hide(), $(".app-icon[data-appid='" + e + "']").addClass("active"), void $(".app-icon[data-appid='" + e + "']").find(".app-icon-font").addClass("mobile-open") } $("#pnl_options-minHeight").show(), $(".app-icon[data-appid='" + e + "']").removeClass("active"), $("#load-option-text").html("<b>" + appRemote_Config.remoteName + "</b> Options"), we = !0; var n = setTimeout(function () { J("Loading Options...") }, 1500); $.ajax({ url: "WebServices/AcctSettings.asmx/GetAppRemoteProps", type: "POST", data: '{ "appId": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (o) { if (clearTimeout(n), Q(), appRemote.IsComplexWorkspaceMode() && $("#options-btn-open").show(), $("#options-btn-update").hide(), $("#pnl_appMoveResize").hide(), o.d.length > 0 && 14 == o.d[0].length) { var t = o.d[0][0], i = o.d[0][1], a = o.d[0][2], p = o.d[0][3], s = o.d[0][4], l = o.d[0][5].replace("px", ""), r = o.d[0][6].replace("px", ""), c = o.d[0][7].replace("px", ""), d = o.d[0][8].replace("px", ""), m = o.d[0][9].replace("px", ""), g = o.d[0][10].replace("px", ""), h = o.d[0][11], f = o.d[0][12], u = o.d[0][13]; ("0" == c || "" == c) && (c = g), ("0" == d || "" == d) && (d = m), $("#app-load-options").length > 0 && ($e = g, _e = m, $("#moveresize-left").val(l), $("#moveresize-top").val(r), $("#moveresize-width").val(c), $("#moveresize-height").val(d), $("#moveresize-left").spinner({ min: 0 }), $("#moveresize-top").spinner({ min: 0 }), $("#moveresize-width").spinner({ min: parseInt(g) }), $("#moveresize-height").spinner({ min: parseInt(m) }), appRemote.IsComplexWorkspaceMode() ? (Ae ? $("#app-load-options").show() : $("#app-load-options").hide(), appRemote.ConvertBitToBoolean(t) ? $("#options-btn-close").hide() : ($("#options-btn-close").show(), $("#options-btn-open").hide(), $("#options-btn-update").show(), Ae && $(".app-icon[data-appid='" + e + "']").addClass("active"))) : ($("#options-btn-close").hide(), $("#options-btn-open").hide(), $("#options-btn-update").hide(), $("#app-load-options").hide()), "" != p ? $("#ddl_appDropdownSelector").val(Z(p)) : $("#ddl_appDropdownSelector").val(Z(o.d[1])), $("#rb_norm").prop("checked", !0), appRemote.ConvertBitToBoolean(t) ? ($("#rb_norm").prop("checked", !0), $("#pnl_appMoveResize").hide()) : ($("#pnl_appMoveResize").hide(), $("#resize-div").hide(), appRemote.ConvertBitToBoolean(f) || appRemote.ConvertBitToBoolean(u) ? appRemote.ConvertBitToBoolean(u) && ($("#pnl_appMoveResize").show(), $("#resize-div").show()) : $("#pnl_appMoveResize").show(), appRemote.ConvertBitToBoolean(a) && $("#rb_max").prop("checked", !0), appRemote.ConvertBitToBoolean(i) && $("#rb_min").prop("checked", !0)), "" != s && $("#last-updated").html("<b class='pad-right-sml'>Last Updated:</b>" + s), appRemote.ConvertBitToBoolean(f) ? $("#div_max_rb_holder").show() : $("#div_max_rb_holder").hide()), $("#no-options-available").hide(), $("#options-btn-device").hide(), "" != h && ($("#options-btn-device").attr("href", h), $("#options-btn-device").show()), !Ce && Ae && appRemote.IsComplexWorkspaceMode() || ($("#options-btn-close").hide(), $("#options-btn-open").hide(), $("#options-btn-update").hide(), "none" == $("#options-btn-device").css("display") && $("#no-options-available").show()) } else $("#no-options-available").hide(), $("#options-btn-device").hide(), $("#options-btn-close").hide(), $("#pnl_appMoveResize").hide(), $("#ddl_appDropdownSelector").val("1"), $("#rb_norm").prop("checked", !0), $("#last-updated").html(""); var _ = 0; $("#load-option-btn-holder").find(".option-buttons").each(function () { "none" != $(this).css("display") && _++ }), we = !1, 1 == _ && "block" == $("#options-btn-device").css("display") ? appRemote.LoadApp() : $("#load-option-text").next(".accordion-content").show(), T(!1), $("#pnl_adminPages").hide(), $("#pnl_icons").hide(), T(!appRemote_Config.showToolTips), $("#pnl_options").show() }, error: function () { alert("Error trying to access account. Please try again."), Ae && (Ae = !1, L()), we = !1 } }) } } function Y() {
        if ($(".app-icon").removeClass("active"), $("#pnl_options").find(".loaded-app-holder").each(function () { var e = $(this).attr("id").replace("-loadedapp", ""); $(".app-icon[data-appid='" + e + "']").addClass("active") }), appRemote.IsComplexWorkspaceMode()) {
            if ($(".workspace-reminder").each(function () { $(this).remove() }), Ae) {
                var e = setTimeout(function () { J("Loading Remote...") }, 1500); $.ajax({
                    url: "WebServices/AcctSettings.asmx/GetAllOpenedApps", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (o) {
                        if (clearTimeout(e), Q(), null != o.d) for (var t = 0; t < o.d.length; t++) {
                            var n = $(".app-icon[data-appid='" + o.d[t][0] + "']"); if (n.addClass("active"), "" != o.d[t][1]) {
                                var i = ""; if (n.find(".app-icon-font").length > 0 && (n.hasClass("Icon_And_Color_Only") || n.hasClass("Color_And_Description") || n.hasClass("Icon_Plus_Color_And_Text"))) {
                                    var a = n.find(".app-icon-font").css("color"); i = " style='color:" + a + "!important;'"
                                } var p = "<span class='workspace-reminder font-no-bold'" + i + ">" + Z(o.d[t][1]) + "</span>"; n.append(p)
                            }
                        } r()
                    }
                })
            }
        } else clearTimeout(e), Q()
    } function Z(e) { return e.replace("workspace_", "") } function ee() { if (!we) { we = !0; var e = "", o = !1; e += $("#ddl_appDropdownSelector").val() + ";", $("#rb_max").is(":checked") ? (e += "maximize;", o = !0) : e += $("#rb_min").is(":checked") ? "minimize;" : "normal;"; var t = parseInt($("#moveresize-top").val()), n = parseInt($("#moveresize-left").val()); (0 > t || null == t || "NaN" == t.toString() && null != t) && (t = 0), (0 > n || null == n || "NaN" == n.toString() && null != n) && (n = 0); var i = parseInt($("#moveresize-width").val()), a = parseInt($("#moveresize-height").val()); ($e > i || null == i || "NaN" == i.toString() && null != i) && (i = $e), (_e > a || null == a || "NaN" == a.toString() && null != a) && (a = _e), e += t + ";" + n + ";" + i + ";" + a + ";", J("block" == $("#options-btn-update").css("display") ? "Refreshing App..." : "Loading App..."), $.ajax({ url: "WebServices/AcctSettings.asmx/UpdateAppRemote", type: "POST", data: '{ "id": "' + appRemote_Config.remoteId + '","options": "' + escape(e) + '" }', contentType: "application/json; charset=utf-8", success: function (e) { we = !1, appRemote.ConvertBitToBoolean(e.d) ? setTimeout(function () { Q(), X(appRemote_Config.remoteId, appRemote_Config.remoteName) }, appRemote_Config.closeTimeout) : ($("#loading-message").html("<span style='color: Red;'>Could not load!</span>"), setTimeout(function () { Q(), Ae && (Ae = !1, L()) }, appRemote_Config.closeTimeout)) }, error: function () { $("#loading-message").html("<span style='color: Red;'>Could not load!</span>"), setTimeout(function () { Q(), Ae && (Ae = !1, L()) }, appRemote_Config.closeTimeout), we = !1 } }) } } function oe() { var e = $("#" + appRemote_Config.remoteId + "-loadedapp"); e.length > 0 && e.remove(), $("#pnl_options-minHeight").hide(); var o = $("#options-btn-device").attr("href"); o.toLowerCase().indexOf("externalappholder.aspx?appid") > 0 && (o += "&hidetoolbar=true"); var t = Math.abs($(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight())); $("#db-b").show(), $("#db-c").show(), $(".app-icon[data-appid='" + appRemote_Config.remoteId + "']").addClass("active"), $(".app-icon[data-appid='" + appRemote_Config.remoteId + "']").find(".app-icon-font").addClass("mobile-open"), ae($("#pnl_options")), $("#pnl_options").append("<iframe id='" + appRemote_Config.remoteId + "-loadedapp' src='" + o + "' frameborder='0' class='loaded-app-holder' style='width: " + $(window).width() + "; height: " + t + "px;'></iframe>"), $(".loaded-app-holder").one("load", function () { $(".loading-background-holder").remove() }) } function te() { var e = -(2 * $("#" + appRemote_Config.remoteId + "-loadedapp").outerHeight()); $("#" + appRemote_Config.remoteId + "-loadedapp").css({ visibility: "hidden", position: "absolute", top: e }), $("#db-b").hide(), $("#db-c").hide() } function ne() { we || (we = !0, J("Closing App..."), $.ajax({ url: "WebServices/AcctSettings.asmx/UpdateAppRemote", type: "POST", data: '{ "id": "' + appRemote_Config.remoteId + '","options": "close" }', contentType: "application/json; charset=utf-8", success: function (e) { we = !1, appRemote.ConvertBitToBoolean(e.d) ? setTimeout(function () { Q(), X(appRemote_Config.remoteId, appRemote_Config.remoteName) }, appRemote_Config.closeTimeout) : ($("#loading-message").html("<span style='color: Red;'>Error! Try again.</span>"), setTimeout(function () { Q(), Ae && (Ae = !1, L()) }, appRemote_Config.closeTimeout)) }, error: function () { $("#loading-message").html("<span style='color: Red;'>Error! Try again.</span>"), setTimeout(function () { Q(), Ae && (Ae = !1, L()) }, appRemote_Config.closeTimeout), we = !1 } })) } function ie(e) { e && (ve = !0), $("#updatePnl_AppList").sortable({ cancel: ".app-icon-category-list, #Category-Back", containment: "#updatePnl_AppList", opacity: .6, scrollSensitivity: 40, scrollSpeed: 40, start: function (e, o) { T(!1) }, stop: function (e, o) { var t = ""; $(".app-icon").each(function () { var e = $(this).attr("data-appid"); "" != e && -1 == t.indexOf(e) && (t += e + ",") }), ve && $.ajax({ url: "WebServices/SaveControls.asmx/App_UpdateIcons", type: "POST", data: '{ "appList": "' + escape(t) + '" }', contentType: "application/json; charset=utf-8" }), T(!appRemote_Config.showToolTips) } }), 0 == $(".app-icon.Icon_Only").length && 0 == $(".app-icon.Icon_And_Text_Only").length && 0 == $(".app-icon.Icon_And_Color_Only").length && 0 == $(".app-icon.Icon_Plus_Color_And_Text").length && $("#updatePnl_AppList").sortable("option", "axis", "y"), $("#updatePnl_AppList").disableSelection() } function ae(e) { $(e).append("<div class='loading-background-holder'></div>"); var o = $(".app-icon[data-appid='" + appRemote_Config.remoteId + "']"); o.length > 0 && o.find("img").length > 0 && "none" != o.find("img").css("display") && !o.find("img").hasClass("display-none") && ($(e).find(".loading-background-holder").css("background-image", "url('" + o.find("img").attr("src") + "')"), o.attr("data-appbgcolor") && $(e).find(".loading-background-holder").css("background-color", o.attr("data-appbgcolor"))) } function pe() { Oe || (Oe = !0, $.ajax({ url: "WebServices/NotificationRetrieve.asmx/CheckForNewNotifications", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (e) { var o = parseInt(e.d); $("#notifications").find("#total-noti").html(o), 0 == o ? $("#notifications").find(".notification-icon").removeClass("notifications-new").addClass("notifications-none") : $("#notifications").find(".notification-icon").removeClass("notifications-none").addClass("notifications-new"), Oe = !1, $(window).resize(), setTimeout(function () { pe() }, appRemote_Config.notiInterval) }, error: function () { Oe = !1, setTimeout(function () { pe() }, appRemote_Config.notiInterval) } })) } function se(e) { if (!Le && "" == $.trim($("#NotificationHolder").html())) { Le = !0, 0 == $(".ddLoadingMessage").length && e && $(".table-notiMessages-div").prepend(We); var o = new Array; $("#table_NotiMessages tr").each(function (e) { o[e] = $(this).attr("id") }); var t = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/LoadUserNotifications"; $.ajax({ url: t, type: "POST", data: '{ "_currIds": "' + o + '","siteTheme": "' + appRemote_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $(".ddLoadingMessage").remove(), null != e.d && "" != e.d ? ($("#NotificationHolder").html($.trim(e.d)), $("#no-notifications-id").length > 0 ? $("#lb_clearNoti").hide() : $("#lb_clearNoti").show()) : $("#lb_clearNoti").hide(), Le = !1, ce(), re(), $(window).resize() }, error: function () { $(".ddLoadingMessage").remove(), ce(), $("#NotificationHolder").html("<h3 class='pad-top-big pad-bottom-big' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), $("#lb_clearNoti").hide(), Le = !1 } }) } } function le() { if (!Me && !Le) { Me = !0; var e = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/LoadMoreUserNotifications", o = new Array; $("#table_NotiMessages tr").each(function (e) { o[e] = $(this).attr("id") }), $.ajax({ url: e, type: "POST", data: '{ "_currIds": "' + o + '","_currCount": "' + parseInt($("#table_NotiMessages tr").length) + '","siteTheme": "' + appRemote_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $(".ddLoadingMessage").remove(), null != e.d && "" != e.d && $("#table_NotiMessages").append($.trim(e.d)), ce(), Me = !1, re(), $(window).resize() }, error: function () { $(".ddLoadingMessage").remove(), ce(), $("#NotificationHolder").append("<h3 class='pad-bottom-big' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), Me = !1 } }) } } function re() { var e = document.getElementById("notifications-viewtable"); if (null != e) { var o = $("#notifications-viewtable").innerHeight(), t = $("#notifications-viewtable").outerHeight(); if (o >= e.scrollHeight || e.scrollHeight < t) { var n = parseInt($("#notifications").find("#total-noti").html()), i = parseInt($("#table_NotiMessages tr").length); n > i && ($(".ddLoadingMessage").remove(), $("#NotificationHolder").append(We), le()) } } } function ce() { $("#notifications-viewtable").scroll(function () { var e = document.getElementById("notifications-viewtable"); if (null != e) { var o = $("#notifications-viewtable"), t = o.scrollTop(); if (t > 0 && t + o.height() >= e.scrollHeight) { var n = parseInt($("#notifications").find("#total-noti").html()), i = parseInt($("#table_NotiMessages tr").length); n > i && ($(".ddLoadingMessage").remove(), $("#NotificationHolder").append(We), le()) } } }) } function de() { J("Clearing..."); var e = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/DeleteNotifications"; $.ajax({ url: e, type: "POST", data: '{ "id": "ClearAll" }', contentType: "application/json; charset=utf-8", success: function (e) { appRemote.ConvertBitToBoolean(e.d) && (Q(), me(), $("#db-b").hide(), $("#db-c").hide(), G()) } }) } function me() { $("#notifications").find("#total-noti").html("0"), $("#notifications").find(".notification-icon").removeClass("notifications-new").addClass("notifications-none"); var e = window.location.href.split("#?"); e.length > 0 && (e = e[0]), e.indexOf("#") != e.length - 1 && (e += "#"), "" != appRemote_Config.categoryId && "" != appRemote_Config.categoryName && (e += "?id=" + appRemote_Config.categoryId + "&category=" + appRemote_Config.categoryName), "" != appRemote_Config.remoteId && "" != appRemote_Config.remoteName && (e += "" != appRemote_Config.categoryId && "" != appRemote_Config.categoryName ? "&" : "?", e += "appId=" + appRemote_Config.remoteId + "&name=" + appRemote_Config.remoteName), window.location = e } function ge() { $("#NotificationHolder").html(""), Le = !1, se(!0) } function he() { if ("none" != $("#Login-holder").css("display")) { $("#Login-holder").hide(); var e = GetSiteRoot() + "SiteTools/iframes/CreateAccount.aspx"; ("/Scripts/SiteCalls/Full/" == GetSiteRoot() || "/Scripts/SiteCalls/Min/" == GetSiteRoot()) && (e = "/SiteTools/iframes/CreateAccount.aspx"), $("#iframe-createaccount-holder").html("<iframe id='iframe-demo' src='" + e + "' frameborder='0' width='100%' style='visibility: hidden;'></iframe>"), $("#iframe-createaccount-holder").append("<div style='text-align: center;'><h3 id='loadingControls'>Loading Controls. Please Wait...</h3></div>"), $("#CreateAccount-holder").show(), $("#iframe-demo").load(function () { $("#loadingControls").remove(), $("#iframe-demo").css({ height: "475px", visibility: "visible" }) }) } else $("#CreateAccount-holder, #ForgotPassword-holder").hide(), $("#iframe-createaccount-holder").html(""), $("#Login-holder").show() } function fe() { "block" != $("#ForgotPassword-holder").css("display") ? ($("#tb_username_recovery").val(""), $("#lbl_passwordResetMessage").html(""), $("#UserNameRequired_recovery").css("visibility", "hidden"), $("#Login-holder").hide(), $("#ForgotPassword-holder").show()) : ($("#ForgotPassword-holder").hide(), $("#Login-holder").show()) } function ue(e, o, t, n, i) { try { var a = !1; t && (a = !0); var p = openWSE.siteRoot() + "App_Themes/Standard"; $(e).attr("data-average", o), $(e).attr("data-id", "1"); var s = "big"; i || (s = "small"), $(e).jRating({ step: !0, type: s, showRateInfo: !1, canRateAgain: !0, nbRates: 100, bigStarsPath: p + "/Icons/star-rating-lrg.png", smallStarsPath: p + "/Icons/star-rating-sml.png", isDisabled: a, decimalLength: 2, length: 4, rateMax: 4, rateMin: 0, sendRequest: !0 }), i || $(e).find(".jStar").addClass("jStar-Small") } catch (l) { } } var $e = 0, _e = 0, ve = !1, we = !1, be = !1, Ce = !1, ye = !1; $(document.body).on("click", "#appremote-menu-overlay", function () { n() }), $(document.body).on("click", "#menu-s", function () { t() }), $(document.body).on("click", "#db-b", function () { appRemote.HideApp(), appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G() }), $(document.body).on("click", "#db-c", function () { $("#db-b").hide(), $("#db-c").hide(), $("#group-list").html(""), "block" == $("#notifications-viewtable").css("display") ? G() : "block" == $("#pnl_AccountInfo").css("display") ? G() : "adminPages" == appRemote_Config.categoryId ? ($("#pnl_adminPage_iframe").hide(), $("#pnl_adminPage_iframe").html(""), $("#pnl_adminPages").show(), appRemote_Config.categoryId = "adminPages", appRemote_Config.categoryName = "pageSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G()) : "chatClient" == appRemote_Config.categoryId ? ($(".iFrame-chat").each(function () { $(this).remove() }), appRemote_Config.categoryId = "chatClient", appRemote_Config.categoryName = "userSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G()) : ($("#pnl_options").find("#" + appRemote_Config.remoteId + "-loadedapp").remove(), $(".app-icon[data-appid='" + appRemote_Config.remoteId + "']").removeClass("active"), $(".app-icon[data-appid='" + appRemote_Config.remoteId + "']").find(".app-icon-font").removeClass("mobile-open"), $("#load-option-text").html("<b>" + appRemote_Config.remoteName + "</b> Options"), $("#pnl_options-minHeight").show(), $("#options-btn-device").show(), appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G()) }), $(document.body).on("click", "#db-s", function () { if (n(), !we) if ($("#loading-message-modal").html(""), "none" == $("#workspace-selector-overlay").css("display") || "none" == $("#workspace-selector-modal").css("display")) { we = !0; var e = setTimeout(function () { J("Getting Current...") }, 1500); $.ajax({ url: "WebServices/AcctSettings.asmx/GetCurrentWorkspace_Remote", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (o) { we = !1, clearTimeout(e), Q(), "" != o.d && $("#dropdownSelector").val(o.d), $("#workspace-selector-overlay, #workspace-selector-modal").show() }, error: function () { $("#loading-message").html("<span style='color: Red;'>Error! Try again.</span>"), setTimeout(function () { Q(), Ae && (Ae = !1, L()) }, appRemote_Config.closeTimeout), we = !1 } }) } else $("#workspace-selector-overlay, #workspace-selector-modal").hide() }), $(document.body).on("click", "#cc-s", function () { appRemote_Config.categoryId = "chatClient", appRemote_Config.categoryName = "userSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G() }), $(document.body).on("click", "#wl-s", function (e) { "sidebar-edit-btn" != e.target.className ? (appRemote_Config.categoryId = "", appRemote_Config.categoryName = "", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G()) : n() }), $(document.body).on("click", "#login-s", function () { g() }), $(document.body).on("click", "#ap-s", function () { appRemote_Config.categoryId = "adminPages", appRemote_Config.categoryName = "pageSelect", appRemote_Config.remoteId = "", appRemote_Config.remoteName = "", G() }), $(document.body).on("click", "#lbl_UserName", function () { if (n(), "block" != $("#pnl_AccountInfo").css("display")) { if (-1 != window.location.href.indexOf("?group=")) return !1; -1 == window.location.href.indexOf("?") ? -1 == window.location.href.indexOf("#") ? window.location += "#?acctInfo=true" : window.location += "?acctInfo=true" : window.location = h("acctInfo=true") } }), $(document.body).on("click", "#workspace-selector-overlay", function () { we || ("none" != $("#workspace-selector-overlay").css("display") || "none" != $("#workspace-selector-modal").css("display")) && ($("#loading-message-modal").html(""), $("#workspace-selector-overlay, #workspace-selector-modal").hide()) }), $(document.body).on("keydown", "#moveresize-top, #moveresize-left, #moveresize-width, #moveresize-height", function (e) { try { if (13 == e.which) return e.preventDefault(), ee(), !1 } catch (o) { if (13 == e.keyCode) return e.preventDefault(), ee(), !1; delete o } }), $(document.body).on("change", "#ddl_appDropdownSelector, #rb_norm, #rb_max, #rb_min", function (e) { ee() }); var Re = ""; $(document.body).on("focus", "#moveresize-top, #moveresize-left, #moveresize-width, #moveresize-height", function (e) { this.select(), Re = $.trim($(this).val()) }), $(document.body).on("blur", "#moveresize-top, #moveresize-left, #moveresize-width, #moveresize-height", function (e) { Re != $.trim($(this).val()) && ee(), Re = "" }), $(document.body).on("change", "#dropdownSelector", function () { K($(this).val()) }), $(document.body).on("click", "#Category-Back", function () { u(!0) }); var ke, Te = 1e4; $(document.body).on("click", "#notifications", function () { n(), "block" != $("#notifications-viewtable").css("display") && (-1 == window.location.href.indexOf("?") ? window.location += "?notiOn=true" : window.location = h("notiOn=true")) }), $(document.body).on("click", "#tryconnect", function () { Ae ? (Pe = !0, Ae = !1, clearTimeout(ke), L(), r()) : (J("Trying to Connect"), N()) }), $(document.body).on("click", "#group-btns-holder", function () { n(), "block" != $("#grouplogin-list").css("display") && (-1 == window.location.href.indexOf("?") ? window.location += "?groupLogin=true" : window.location = h("groupLogin=true")) }), $(document.body).on("click", "#groupLogout", function () { n(), J("Please Wait"), $("#hf_LogoutOfGroup").val((new Date).toString()), __doPostBack("hf_LogoutOfGroup", "") }); var Se, Ie = 0, xe = new Array, Ae = !1, Pe = !1, Ne = 0, Oe = !1, Le = !1, Me = !1, We = "<div class='ddLoadingMessage'><h3>Loading Notifications. Please Wait...</h3></div>"; return { AddBackgroundColorToLogo: _, MenuClick: t, OpenSidebarMenu_Swipe: i, CloseSidebarMenu_Swipe: a, InitializeSwipeEvent: s, CloseAllOpened: d, init: b, NextSiteTip: I, PreviousSiteTip: x, CloseSiteTip: A, AdjustSiteTipModal: P, ConvertBitToBoolean: e, IsComplexWorkspaceMode: o, StartLoadingOverlay: J, CloseStartLoadingOverlay: Q, AppsSortUnlocked: ie, LoadLoginPanel: g, LoadOptions: U, LoadAdminPage: B, LoginAsGroup: w, SetAdminMode: y, SetDemoMode: R, Load: L, CategoryClick: f, OnWorkspaceClick: K, OpenApp: ee, LoadApp: oe, HideApp: te, CloseApp: ne, RefreshNotifications: ge, CheckForNewNotifications: pe, NotiActionsClearAll: de, ResetNoti: me, UpdateURL: G, LoadCreateAccountHolder: he, LoadRecoveryPassword: fe, RatingStyleInit: ue, GroupLoginModal: v }
}(), openWSE = function () { function e(e, n) { if ($(n).length > 0) { var i = parseInt(appRemote_Config.backgroundTimerLoop); (isNaN(i) || 0 === i) && (i = 30), 1e3 > i && (i = 1e3 * i); for (var p = e.split("|"), s = new Array, l = 0; l < p.length; l++) "" != p[l] && s.push(p[l]); var r = o(n); -1 == r && s.length > 1 ? (a.push({ obj: null, loopIndex: 1, div: n, list: s }), r = a.length - 1) : -1 != r && (clearInterval(a[r].obj), a[r].obj = null, a[r].loopIndex = s.length - 1, a[r].list = s), a.length > 0 && null != a[r] && a[r].list.length > 1 && (a[r].obj = setInterval(function () { var e = a[r].list[a[r].loopIndex]; if (null == e || void 0 == e) { a[r].loopIndex = 0; var e = a[r].list[a[r].loopIndex] } null != e && void 0 != e && (e.length > 6 ? (-1 == e.toLowerCase().indexOf("http") && -1 == e.toLowerCase().indexOf("www.") && (e = t() + e), $(n).css("background", "#FFFFFF url('" + e + "') repeat right center"), $(n).css("background-size", "auto")) : $(n).css("background", "#" + e)), a[r].loopIndex++, a[r].loopIndex >= a[r].list.length && (a[r].loopIndex = 0) }, i)) } } function o(e) { for (var o = 0; o < a.length; o++) if (a[o].div == e) return o; return -1 } function t() { var e = ""; return "" != appRemote_Config.siteRootFolder && (e = appRemote_Config.siteRootFolder + "/"), window.location.protocol + "//" + window.location.host + "/" + e } function n() { $(".clear-applist").remove(), $(".app-icon.Icon_Only").length > 0 ? ($("#updatePnl_AppList").append("<div class='clear-applist'></div>"), $("#pnl_icons").find(".pnl_overflowHolder").css("text-align", "center"), $(".app-category-div").length > 0 && $(".app-icon.Icon_Only").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") })) : $(".app-icon.Icon_And_Text_Only").length > 0 ? ($("#updatePnl_AppList").append("<div class='clear-applist'></div>"), $("#pnl_icons").find(".pnl_overflowHolder").css("text-align", "center"), $(".app-category-div").length > 0 && $(".app-icon.Icon_And_Text_Only").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") })) : $(".app-icon.Icon_And_Color_Only").length > 0 ? ($("#updatePnl_AppList").append("<div class='clear-applist'></div>"), $("#pnl_icons").find(".pnl_overflowHolder").css("text-align", "center"), $(".app-category-div").length > 0 && $(".app-icon.Icon_And_Color_Only").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") })) : $(".app-icon.Icon_Plus_Color_And_Text").length > 0 && ($("#updatePnl_AppList").append("<div class='clear-applist'></div>"), $("#pnl_icons").find(".pnl_overflowHolder").css("text-align", "center"), $(".app-category-div").length > 0 && $(".app-icon.Icon_Plus_Color_And_Text").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") })) } function i(e, o) { if (e && 0 == $("head").find("script[src='" + e + "']").length) { var t = document.createElement("script"); t.type = "text/javascript", o && "function" == typeof o && (t.onload = o), t.src = e, document.getElementsByTagName("head")[0].appendChild(t) } else if (o && "function" == typeof o) try { o() } catch (n) { openWSE.AlertWindow(n.message, e) } } var a = new Array; return { NotiActionsHideInd: function (e) { appRemote.StartLoadingOverlay("Deleting..."); var o = $(e).closest("tr"), t = o.attr("id"), n = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/DeleteNotifications"; $.ajax({ url: n, type: "POST", data: '{ "id": "' + t + '" }', contentType: "application/json; charset=utf-8", success: function (e) { if (appRemote.ConvertBitToBoolean(e.d)) if (o.hide(), appRemote.CloseStartLoadingOverlay(), o.remove(), "1" == $("#notifications").find("#total-noti").html()) appRemote.ResetNoti(); else { var t = parseInt($("#notifications").find("#total-noti").html()); t -= 1, $("#notifications").find("#total-noti").html(t) } } }) }, AcceptGroupNotification: function (e, o) { appRemote.StartLoadingOverlay("Accepting..."); var t = $(e).closest("tr"), n = t.attr("id"), i = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/AcceptInviteNotifications"; $.ajax({ url: i, type: "POST", data: '{ "id": "' + n + '", "groupId": "' + o + '" }', contentType: "application/json; charset=utf-8", success: function (e) { if (appRemote.ConvertBitToBoolean(e.d)) if (t.hide(), appRemote.CloseStartLoadingOverlay(), t.remove(), "1" == $("#notifications").find("#total-noti").html()) appRemote.ResetNoti(); else { var o = parseInt($("#notifications").find("#total-noti").html()); o -= 1, $("#notifications").find("#total-noti").html(o) } } }) }, siteRoot: function () { var e = ""; return "" != appRemote_Config.siteRootFolder && (e = appRemote_Config.siteRootFolder + "/"), window.location.protocol + "//" + window.location.host + "/" + e }, ExpandAdminLinks: function (e, o) { $(e).hasClass("img-expand-sml") ? ($(e).removeClass("img-expand-sml"), $(e).addClass("img-collapse-sml"), $(e).closest(".app-icon-links").parent().find("." + o).slideDown(appRemote_Config.animationSpeed)) : ($(e).removeClass("img-collapse-sml"), $(e).addClass("img-expand-sml"), $(e).closest(".app-icon-links").parent().find("." + o).slideUp(appRemote_Config.animationSpeed)), setTimeout(function () { appRemote.CloseStartLoadingOverlay() }, 150) }, BackgroundLoop: e, UpdateAppSelector: n, GetScriptFunction: i } }(); $(document).ready(function () { console.log(appRemote_Config), appRemote.init(); var e = window.location.href.split("#"); 1 == e.length && (window.location += "#"), appRemote.Load(), appRemote.InitializeSwipeEvent(), $(".pnl_overflowHolder").scroll(function () { 0 == $(this).scrollTop() ? $(this).parent().find(".pnl_toplogo_banner").removeClass("scroll-shadow-remote") : $(this).parent().find(".pnl_toplogo_banner").addClass("scroll-shadow-remote") }) }), $(window).load(function () { $("#pnl_login").length > 0 && $("#pnl_icons").length > 0 && appRemote_Config.ShowLoginModalOnDemoMode && appRemote.LoadLoginPanel() }), $(function () { $(window).hashchange(function () { appRemote.Load() }) }), $(window).resize(function () { if ($("#pnl_adminPages, #pnl_AccountInfo, #pnl_adminPage_iframe, #pnl_chat_popup, #pnl_chat_users, #pnl_icons, #pnl_login, #pnl_options, #notifications-viewtable, #grouplogin-list").css({ top: $("#always-visible").outerHeight(), bottom: $("#container-footer").outerHeight() }), $(".iFrame-chat").length > 0) { var e = $(window).height(), o = $("#always-visible").height(), t = $("#container-footer").height(), n = e - (o + t); $(".iFrame-chat").height(n - 1) } var i = Math.abs($(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight())); $(".pnl_overflowHolder").each(function () { $(this).parent().find(".pnl_toplogo_banner").length > 0 && $(this).css("height", i - $(this).parent().find(".pnl_toplogo_banner").outerHeight()) }), $(".loaded-app-holder").each(function () { "hidden" != $(this).css("visibility") && $(this).css({ height: i, width: $(window).width(), position: "", top: "" }) }), "block" == $("#notifications-viewtable").css("display") && $(".alert-panel-description").each(function () { $(this).css("width", $(window).width() - 135) }), $("#SiteTip-element").length > 0 && ($("#SiteTip-element").find(".Modal-element-modal").css("min-width", $(window).width() - 50), $("#SiteTip-element").find(".Modal-element-modal").css("max-height", $(window).height() - ($("#always-visible").outerHeight() + $("#container-footer").outerHeight() + 50)), appRemote.AdjustSiteTipModal()) }), function (e, o, t) { function n(e) { return e } function i(e) { return decodeURIComponent(e.replace(a, " ")) } var a = /\+/g, p = e.cookie = function (a, s, l) { if (s !== t) { if (l = e.extend({}, p.defaults, l), null === s && (l.expires = -1), "number" == typeof l.expires) { var r = l.expires, c = l.expires = new Date; c.setDate(c.getDate() + r) } return s = p.json ? JSON.stringify(s) : String(s), o.cookie = [encodeURIComponent(a), "=", p.raw ? s : encodeURIComponent(s), l.expires ? "; expires=" + l.expires.toUTCString() : "", l.path ? "; path=" + l.path : "", l.domain ? "; domain=" + l.domain : "", l.secure ? "; secure" : ""].join("") } for (var d, m = p.raw ? n : i, g = o.cookie.split("; "), h = 0; d = g[h] && g[h].split("=") ; h++) if (m(d.shift()) === a) { var f = m(d.join("=")); return p.json ? JSON.parse(f) : f } return null }; p.defaults = {}, e.removeCookie = function (o, t) { return null !== e.cookie(o, t) ? (e.cookie(o, null, t), !0) : !1 } }(jQuery, document); var cookie = { set: function (e, o, t) { if (appRemote_Config.saveCookiesAsSessions) { var n = openWSE.siteRoot() + "WebServices/SaveControls.asmx/SetCookie"; $.ajax({ url: n, type: "POST", data: '{ "name": "' + e + '","value": "' + o + '" }', contentType: "application/json; charset=utf-8" }) } else { cookie.get(e); if (t) { var i = new Date; i.setTime(i.getTime() + 24 * t * 60 * 60 * 1e3); var a = "; expires=" + i.toGMTString() } else var a = ""; document.cookie = e + "=" + o + a + "; path=/" } }, get: function (e) { var o = null; if (appRemote_Config.saveCookiesAsSessions) { var t = openWSE.siteRoot() + "WebServices/SaveControls.asmx/GetCookie"; $.ajax({ url: t, type: "POST", async: !1, data: '{ "name": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (e) { e && (o = e.d) } }) } else for (var n = e + "=", i = document.cookie.split(";"), a = 0; a < i.length; a++) { for (var p = i[a]; " " == p.charAt(0) ;) p = p.substring(1, p.length); if (0 == p.indexOf(n)) return p.substring(n.length, p.length) } return o }, del: function (e) { if (appRemote_Config.saveCookiesAsSessions) { var o = openWSE.siteRoot() + "WebServices/SaveControls.asmx/DelCookie"; $.ajax({ url: o, type: "POST", data: '{ "name": "' + e + '" }', contentType: "application/json; charset=utf-8" }) } else this.set(e, "", -1) } };
