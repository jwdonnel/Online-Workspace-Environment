// -----------------------------------------------------------------------------------
//
//	openWSE v5.6
//	by John Donnelly
//	Last Modification: 3/10/2016
//
//	Licensed under the Creative Commons Attribution 2.5 License - http://creativecommons.org/licenses/by/2.5/
//  	- Free for use in both personal and commercial projects
//		- Attribution requires leaving author name, author link, and the license info intact.
//
//  Requirements:
//      jquery v1.11.1 - http://code.jquery.com/jquery-1.11.1.min.js
//      migrate.jquery.min.js - http://code.jquery.com/jquery-migrate-1.2.1.min.js
//
// -----------------------------------------------------------------------------------
var openWSE_Config = { siteName: "", demoMode: !1, siteTheme: "Standard", animationSpeed: 200, hoverPreviewWorkspace: !1, taskBarShowAll: !0, ShowWorkspaceNumApp: !0, desktopCSS: "site_desktop.css", mobileCSS: "site_mobile.css", winMinWidth: 800, minPasswordLength: 6, workspaceMode: "", overlayPanelId: "pnl_OverlaysAll", reportAlert: !0, reportOnError: !1, siteRootFolder: "", displayLoadingOnRedirect: !0, saveCookiesAsSessions: !1, defaultBackgroundColor: "#FFFFFF", defaultBackgroundPosition: "right center", defaultBackgroundSize: "auto", defaultBackgroundRepeat: "repeat", appSnapHelper: !1, appStyle: "Style_1", onlyAllowOneAccordionOpen: !1, sidebarAccordionOn: !0, showToolTips: !0, siteTipsOnPageLoad: !1, ShowLoginModalOnDemoMode: !1, showShadowOnScroll: !0, disableF5KeyOnModals: !0, multipleBackgrounds: !1, backgroundTimerLoop: 30, showLeftSahdowOnScroll: !1, appendTimestampOnScripts: !0, timestampQuery: "vertimestamp=" }, openWSE = function () {
    function e() { console.log(openWSE_Config), Po = openWSE.siteRoot() + "WebServices/SaveControls.asmx"; var e = cookie.get("siteTipsOnPageLoad"); "" != e && null != e && void 0 != e && openWSE_Config.demoMode && (openWSE_Config.siteTipsOnPageLoad = m(e)), zt(), Dt(), Xt(), r(), $(document).tooltip({ disabled: !openWSE_Config.showToolTips }), openWSE_Config.sidebarAccordionOn ? $("#accordian-sidebar").AccordianTab({ allowCloseAll: !0, oneOpen: openWSE_Config.onlyAllowOneAccordionOpen, startCollapsed: !0, animationSpeed: openWSE_Config.animationSpeed, createCookie: !0 }) : ($("#accordian-sidebar").addClass("accordion-off"), $("#accordian-sidebar").find(".menu-title").each(function () { $(this).attr("title", "") })), openWSE.CheckIfWorkspaceLinkAvailable() || $("#lnk_BackToWorkspace").length > 0 && $("#lnk_BackToWorkspace").remove(), openWSE_Config.ShowLoginModalOnDemoMode && t(), openWSE_Config.showShadowOnScroll && ($("#maincontent_overflow").length > 0 && $("#maincontent_overflow").scroll(function () { if ($("#maincontent_overflow").scrollTop() > 0 && (0 == $(".maincontent_overflow-shadow").length || 0 == $(".maincontent_overflow-shadow-left").length && openWSE_Config.showLeftSahdowOnScroll && $("#sidebar_menulinks").length > 0)) { var e = $("#always-visible").outerHeight(); (0 == $("#always-visible").length || "none" == $("#always-visible").css("display")) && (e = 0), $("#app_title_bg").length > 0 && "none" != $("#app_title_bg").css("display") && (e += $("#app_title_bg").outerHeight()); var a = $("#sidebar_menulinks").outerWidth(); (0 == $("#sidebar_menulinks").length || "none" == $("#sidebar_menulinks").css("display")) && (a = 0), $(".maincontent_overflow-shadow").length > 0 && $(".maincontent_overflow-shadow").remove(), $(".maincontent_overflow-shadow-left").length > 0 && $(".maincontent_overflow-shadow-left").remove(), openWSE_Config.showLeftSahdowOnScroll && $("#sidebar_menulinks").length > 0 ? $("#maincontent_overflow").prepend("<div class='maincontent_overflow-shadow' style='top: " + e + "px;'></div><div class='maincontent_overflow-shadow-left' style='top: " + e + "px; left: " + a + "px;'></div>") : $("#maincontent_overflow").prepend("<div class='maincontent_overflow-shadow' style='top: " + e + "px; left: " + a + "px;'></div>") } else 0 == $("#maincontent_overflow").scrollTop() && ($(".maincontent_overflow-shadow").length > 0 || $(".maincontent_overflow-shadow-left").length > 0) && ($(".maincontent_overflow-shadow").remove(), $(".maincontent_overflow-shadow-left").remove()) }), $("#accordian-sidebar").length > 0 && "none" != $("#sidebar_menulinks").css("display") && $("#accordian-sidebar").scroll(function () { if (!$("#accordian-sidebar").hasClass("sidebar-alt-view") && $("#accordian-sidebar").scrollTop() > 0 && 0 == $(".accordian-sidebar-shadow").length) { var e = $("#always-visible").outerHeight(); "none" == $("#always-visible").css("display") && (e = 0), $("#accordian-sidebar").prepend("<div class='accordian-sidebar-shadow' style='top: " + e + "px; width: " + $("#sidebar_menulinks").outerWidth() + "px;'></div>") } else 0 == $("#accordian-sidebar").scrollTop() && $(".accordian-sidebar-shadow").length > 0 && $(".accordian-sidebar-shadow").remove() })), W() } function a() { $(".clear-applist").remove(), $(".app-icon.Icon_Only").length > 0 ? ($("#updatePnl_AppList").append("<div class='clear-applist'></div>"), $(".app-category-div").length > 0 && $(".app-icon.Icon_Only").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") })) : $(".app-icon.Icon_And_Text_Only").length > 0 ? ($("#updatePnl_AppList").append("<div class='clear-applist'></div>"), $(".app-category-div").length > 0 && $(".app-icon.Icon_And_Text_Only").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") })) : $(".app-icon.Icon_And_Color_Only").length > 0 ? ($("#updatePnl_AppList").append("<div class='clear-applist'></div>"), $(".app-category-div").length > 0 && $(".app-icon.Icon_And_Color_Only").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") })) : $(".app-icon.Icon_Plus_Color_And_Text").length > 0 && ($("#updatePnl_AppList").append("<div class='clear-applist'></div>"), $(".app-category-div").length > 0 && $(".app-icon.Icon_Plus_Color_And_Text").each(function () { $(this).parent().hasClass("app-category-div") && $(this).parent().addClass("inline-block") })) } function t() { if ($("#pnl_Login_NonAuth").length > 0) { var e = "<div id='LoginModalPopup-element' class='Modal-element' style='display: none;'>"; e += "<div class='Modal-overlay'>", e += "<div class='Modal-element-align'>", e += "<div class='Modal-element-modal'>", e += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>", e += "<a href='#' onclick=\"openWSE.CloseLoginModalWindow();return false;\" class='ModalExitButton'></a>", e += "</div><span class='Modal-title'></span></div></div>", e += "<div class='ModalScrollContent'><div class='ModalPadContent'></div></div>", e += "</div></div></div></div>", $("body").find("form[id='ct101']").append(e), $("#pnl_Login_NonAuth, .bgchange-icon").hide(), $("#LoginModalPopup-element").find(".ModalPadContent").append($("#login-modal-div")), Z(!0, "LoginModalPopup-element", $.trim($("#span_signinText").html())), $("#LoginModalPopup-element").find(".Modal-overlay").on("click", function (e) { "Modal-overlay" == e.target.className && openWSE.CloseLoginModalWindow() }), $(window).resize() } } function o() { Z(!1, "LoginModalPopup-element", ""), $("#pnl_Login_NonAuth").length > 0 && $("#pnl_Login_NonAuth").find(".b").append($("#login-modal-div")), $("#LoginModalPopup-element").remove(), $("#pnl_Login_NonAuth, .bgchange-icon").show() } function n(e, a) { var t = openWSE.siteRoot() + "WebServices/AppLog_Errors.asmx/AddError"; $.ajax({ url: t, type: "POST", data: '{ "message": "' + escape(e) + '","url": "' + escape(a) + '" }', contentType: "application/json; charset=utf-8" }) } function i() { if ($("#container_logo").length > 0) { var e = $("#container_logo").height(), a = $("#container_logo").width(), t = -(e / 2), o = -(a / 2); $("#container_logo").css({ marginLeft: o, marginTop: t }) } } function s(e) { Go = $("#always-visible").outerHeight(), Vo = $("#container-footer").outerHeight(), "none" == $("#always-visible").css("display") && (Go = 0), "none" == $("#container-footer").css("display") && (Vo = 0), $("#container, #iframe-container-helper").css("top", Go), $("#container, #iframe-container-helper, .administrator-workspace-note").css("bottom", Vo), i(), e && ($("#iframe-content-src").length > 0 && ($("#iframe-content-src").css("height", $(window).height() - ($("#always-visible").height() + $("#container-footer").height())), $("#iframe-content-src").css("width", $(window).width())), openWSE.SetNoticiationsMaxHeight(), openWSE.SetMaxHeightGroupLogin(), openWSE.SetDropDownMaxHeight()) } function l() { $(".Modal-element").each(function () { if ($(this).removeClass("modal-fixed-position"), $(this).find(".Modal-overlay").css("top", ""), $(this).find(".Modal-overlay").css("bottom", ""), $(this).find(".Modal-overlay").css("left", ""), $(this).find(".Modal-overlay").css("right", ""), $(this).find(".Modal-overlay").css("width", ""), $(this).find(".Modal-element-modal").css("height", ""), "block" == $(this).css("display")) { var e = $(window).height(), a = $(window).width(), t = $(this).attr("data-containment"); t && (e = $(t).outerHeight(), a = $(t).outerWidth()); var o = $(this).find(".Modal-element-modal"); if (o.length > 0 && o.outerHeight() > e || o.outerWidth() > a) { $(this).addClass("modal-fixed-position"), $(this).find(".Modal-overlay").css("width", "auto"), $(this).find(".Modal-overlay").css("right", "0px"), $(this).find(".ModalScrollContent").css("max-height", ""); var n = 0; $("#always-visible").length > 0 && "none" != $("#always-visible").css("display") && (n += $("#always-visible").outerHeight()), $("#app_title_bg").length > 0 && "none" != $("#app_title_bg").css("display") && (n += $("#app_title_bg").outerHeight()), n > 0 && $(this).find(".Modal-overlay").css("top", n), $("#container-footer").length > 0 && "none" != $("#container-footer").css("display") && $(this).find(".Modal-overlay").css("bottom", $("#container-footer").outerHeight()), "overlayEdit-element" != $(this).attr("id") && $("#sidebar_menulinks").length > 0 && "none" != $("#sidebar_menulinks").css("display") && $(this).find(".Modal-overlay").css("left", $("#sidebar_menulinks").outerWidth()) } } }) } function r() { openWSE_Config.siteTipsOnPageLoad && $.ajax({ type: "GET", dataType: "xml", url: openWSE.siteRoot() + "SiteTips.xml", cache: !1, complete: function (e) { if (0 == en.length && $(e.responseText).find("Hint").each(function () { var e = $.trim($(this).html()); "" != e && en.push(e) }), en.length > 0) { Zo = Math.round(Math.random() * (en.length - 1)); var a = "<div id='SiteTip-element-modal'>", t = "<input class='input-buttons nextprev-button' type='button' value='Next Tip' onclick=\"openWSE.NextSiteTip();\" />", o = "<input class='input-buttons nextprev-button' type='button' value='Previous Tip' onclick=\"openWSE.PreviousSiteTip();\" />"; 1 == en.length && (t = "", o = ""); var n = "<input class='input-buttons confirm-close-button' type='button' value='Close' onclick=\"openWSE.CloseSiteTip();\" />", i = "<div class='dont-show-again'><input id='dont-show-again-cb' type='checkbox' checked='checked' /><label for='dont-show-again-cb'>Show Tips on Page Load</label></div>"; "" == openWSE_Config.siteTheme && (openWSE_Config.siteTheme = "Standard"); var s = "<img alt='confirm' src='" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Icons/sitetip.png' />", l = en[Zo]; a += "<div class='tip-content-padding'>" + s + "<span class='tip-title'>Did you know?</span><div class='clear'></div><div class='message-text'>" + l + "</div>", a += "<div class='button-holder'>" + i + "<div class='clear-space'></div><div class='clear-space'></div>" + o + t + n + "<div class='clear'></div></div></div>", a += "</div>", $("body").append(a), $("#SiteTip-element-modal").fadeIn(2 * openWSE_Config.animationSpeed) } } }) } function d() { Zo++, Zo >= en.length && (Zo = 0), $("#SiteTip-element-modal").find(".message-text").html(en[Zo]) } function c() { Zo--, 0 > Zo && (Zo = en.length - 1), $("#SiteTip-element-modal").find(".message-text").html(en[Zo]) } function u() { $("#dont-show-again-cb").prop("checked") || (openWSE_Config.demoMode ? cookie.set("siteTipsOnPageLoad", "false", "30") : $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/TurnOffSiteTipsOnPageLoad", data: "", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8" })), Zo = 0, en = new Array, $("#SiteTip-element-modal").remove() } function h(e) { if (fa("1"), "" != e && 0 != $(".app-icon[data-appid='" + e + "']").length) { Ko = !0; var a = $($(".app-icon[data-appid='" + e + "']")[0]); $(".app-main-holder[data-appid='" + e + "']").addClass("auto-full-page"), $(".app-main-holder[data-appid='" + e + "']").find(".app-head, .app-head-button-holder").hide(), a.trigger("click") } } function f() { $(".container-main-bg-simple").length > 0 && $(".addOverlay-bg").length > 0 && ($("#" + openWSE_Config.overlayPanelId).append($(".addOverlay-bg")), $("#" + openWSE_Config.overlayPanelId).append($("#overlayEdit-element")), $(".addOverlay-bg").css({ bottom: $("#container-footer").outerHeight(), left: $("#sidebar_menulinks").outerWidth() })) } function g() { return "complex" == openWSE_Config.workspaceMode.toLowerCase() || "" == openWSE_Config.workspaceMode ? !0 : !1 } function m(e) { if (null != e && void 0 != e) { var a = $.trim(e.toString().toLowerCase()); if ("true" != a && "false" != a && "0" != a && "1" != a && "" != a) return !0; if ("1" == a || "true" == a || "" == a) return !0; if ("0" == a || "false" == a) return !1 } return !1 } function v() { var e = openWSE.siteRoot() + "AppRemote.aspx"; if (location.href.indexOf("SiteTools/") > 0) { var a = ""; e = location.href, -1 != e.indexOf("#?") && (a = e.split("#?")[1], e = e.replace("#?" + a, "")), e += "" == location.search ? "?mobileMode=true" : "&mobileMode=true", "" != a && (e += "#?" + a) } return window.open(e, "_blank", "toolbar=no, scrollbars=yes, resizable=yes, width=340, height=550"), !1 } function b(e) { ("" == e || null == e) && (e = "0,0,0"), $("#pnl_groupHolder").length > 0 ? ($("#pnl_groupHolder").find("img").addClass("logo-backgroundcolor"), $(".logo-backgroundcolor").css("background-color", "rgba(" + e + ",0.4)")) : $("#container_logo").length > 0 && ($("#container_logo").addClass("logo-backgroundcolor"), $(".logo-backgroundcolor").css("background-color", "rgba(" + e + ",0.4)")) } function y() { $("#pnl_groupHolder").length > 0 ? ($("#pnl_groupHolder").find("img").removeClass("logo-backgroundcolor"), $("#pnl_groupHolder").find("img").css("background-color", "")) : $("#container_logo").length > 0 && ($("#container_logo").removeClass("logo-backgroundcolor"), $("#container_logo").css("background-color", "")) } function w() { $(".no-overlays-found").length > 0 && $(".no-overlays-found").remove(); var e = "You have no overlays being shown. Click the add button at the bottom to add overlays."; openWSE_Config.demoMode && (e = "You have no overlays being shown."), Xo && (e = "Select an app to run in the left panel"), ("" == getParameterByName("AppPage") || null == getParameterByName("AppPage")) && 0 == $(".workspace-overlay-selector").length && $("#" + openWSE_Config.overlayPanelId).append("<h3 class='pad-all-big no-overlays-found'>" + e + "</h3>") } function k() { Xo = !0, $(".addOverlay-bg").remove() } function C(e, a, t) { "" == $o && "" != e && ($o = e), "" == yo && "" != a && (yo = a), "" == wo && "" != t && (wo = t), "" != $o && "" != yo && "" != wo && 0 == Co && ($.ajax({ url: a, data: '{ "_appId": "' + escape(wo) + '" }', contentType: "application/json; charset=utf-8", dataType: "json", type: "POST", success: function (e) { var a = e.d[0]; if ("TURNOFF" == a) return void (Co = 1); if ("refresh" == a) Co = 0, document.getElementById($o).value = "refresh", __doPostBack($o, ""); else if ("workspace-check" == a) Co = 0, C($o, yo, wo); else if ("false" != a && "" != a) try { openWSE.ConvertBitToBoolean(e.d[1]) ? (Co = 0, T("Receiving Request..."), at(a, $o, yo, wo)) : (Co = 0, document.getElementById($o).value = a, __doPostBack($o, "")) } catch (t) { Co = 0, C($o, yo, wo) } else Co = 0, C($o, yo, wo) }, error: function (e) { console.log("Error on auto update system!"), Co = 0, C($o, yo, wo) } }), Co = 1) } function _() { 0 == $(".pnl-section").length && $(".table-settings-box").length > 0 ? $(".table-settings-box").eq($(".table-settings-box").length - 1).addClass("no-border") : $(".pnl-section").length > 0 && $(".table-settings-box").length > 0 && $(".pnl-section").each(function () { var e = $(this).find(".table-settings-box").length; $(this).find(".table-settings-box").eq(e - 1).addClass("no-border") }) } function S() { var e = $("#maincontent_overflow"); 0 === e.length && (e = $("body")), cookie.set("currScrollTop", e.scrollTop(), "30") } function W() { setTimeout(function () { var e = $("#maincontent_overflow"); 0 === e.length && (e = $("body")); var a = cookie.get("currScrollTop"); a && (e.scrollTop(a), cookie.del("currScrollTop")) }, 150) } function x() { $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), openWSE.RemoveWorkspaceSelectorActive(), Le(), Lt(), cookie.del("top_menu") } function E(e) { var a = $.trim(e.d); "" == a && (a = "No information available"); var t = "<div id='AdminOnlineInformation-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='325'>", t += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>", t += "<a href='#' onclick=\"openWSE.CloseAdminOnlineInformationWindow();return false;\" class='ModalExitButton'></a>", t += "</div><span class='Modal-title'></span></div></div>"; var o = "<input class='input-buttons no-margin' type='button' value='Close' onclick=\"openWSE.CloseAdminOnlineInformationWindow();\" />"; t += "<div class='ModalPadContent'><div class='pad-bottom-big'>" + a + "</div><div align='right' class='button-holder'>" + o + "</div></div>", t += "</div></div></div></div>", $("body").append(t), Z(!0, "AdminOnlineInformation-element", "Site Information") } function M() { $("#AdminOnlineInformation-element").length > 0 && $("#AdminOnlineInformation-element").remove() } function T(e) { O(), z(), -1 != e.indexOf("...") && (e = e.replace("...", "")), e += "<span class='progress inline-block'></span>"; var a = "<div id='update-element'><div class='update-element-overlay'><div class='update-element-align'>"; a += "<div class='update-element-modal'><h3 class='inline-block'>" + e + "</h3></div></div></div></div>", $("body").append(a), $("#update-element").find(".progress").length > 0 && A($("#update-element").find(".progress")[0]); var t = $("#update-element").find(".update-element-modal"); try { var o = "#151515", n = document.getElementById("always-visible"); if (n) { var i = window.getComputedStyle(n); o = i.getPropertyValue("background"), (null == o || "" == o) && (o = i.getPropertyValue("background-color")) } (null == o || "" == o) && (o = "#151515"), t.css("background", o) } catch (s) { t.css("background", "#151515") } "none" != $("#always-visible").css("display") && t.css("top", $("#always-visible").outerHeight()), $("#update-element").show(); var l = -(t.outerWidth() / 2); t.css({ marginLeft: l }) } function A(e) { tn = setInterval(function () { var a = ""; switch (on) { case 0: a = ".", on++; break; case 1: a = "..", on++; break; case 2: a = "...", on++; break; default: a = "", on = 0 } $(e).html(a) }, 400) } function O() { on = 0, tn && null != tn && clearInterval(tn), $("#update-element").remove(), j() } function B(e, a) { ("" == e || null == e) && (e = "An error has occured that was not specified."); var t = "<div id='AlertWindow-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='370'>", t += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>", t += "<a href='#' onclick=\"openWSE.CloseAlertWindow();return false;\" class='ModalExitButton'></a>", t += "</div><span class='Modal-title'></span></div></div>"; var o = "<input class='input-buttons confirm-ok-button' type='button' value='Ok' onclick=\"openWSE.CloseAlertWindow();\" style='width: 50px;' />", n = ""; openWSE_Config.reportAlert && (n = "<input class='input-buttons no-margin confirm-report-button' type='button' value='Report' onclick=\"openWSE.ReportAlert('" + escape(e) + "','" + escape(a) + "');\" style='margin-left: 16px!important;' />"), "" == openWSE_Config.siteTheme && (openWSE_Config.siteTheme = "Standard"); var i = "<img alt='confirm' src='" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Icons/alert.png' />"; t += "<div class='ModalPadContent'><div class='message-text'>" + i + e + "</div><div class='button-holder'>" + o + n + "</div></div>", t += "</div></div></div></div>", $("body").append(t), Z(!0, "AlertWindow-element", "Message"), setTimeout(function () { $("#AlertWindow-element").find(".confirm-ok-button").focus(), O(), z() }, 250) } function I() { $("#AlertWindow-element").length > 0 && ($("#AlertWindow-element").hide(), $("#AlertWindow-element").remove()), j() } function P(e, a) { ("" == a || null == a) && (a = window.location.href), n(unescape(e), unescape(a)), I() } function L(e, a, t) { ("" == e || null == e) && (e = "Are you sure you want to continue?"); var o = "<div id='ConfirmWindow-element' class='Modal-element' style='display: none;'>"; o += "<div class='Modal-overlay'>", o += "<div class='Modal-element-align'>", o += "<div class='Modal-element-modal' data-setwidth='370'>", o += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>", o += "<a href='#' onclick=\"openWSE.CloseConfirmWindow();return false;\" class='ModalExitButton confirm-cancel-button-header'></a>", o += "</div><span class='Modal-title'></span></div></div>"; var n = "<input class='input-buttons confirm-ok-button' type='button' value='Ok' style='width: 60px;' />", i = "<input class='input-buttons confirm-cancel-button' type='button' value='Cancel' />"; "" == openWSE_Config.siteTheme && (openWSE_Config.siteTheme = "Standard"); var s = "<img alt='confirm' src='" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Icons/confirm.png' />"; o += "<div class='ModalPadContent'><div class='message-text'>" + s + e + "</div><div class='button-holder'>" + n + i + "</div></div></div>", o += "</div></div></div></div>", $("body").append(o), $("#ConfirmWindow-element").find(".confirm-ok-button").one("click", function () { openWSE.CloseConfirmWindow(), null != a && a() }), $("#ConfirmWindow-element").find(".confirm-cancel-button, .confirm-cancel-button-header").one("click", function () { openWSE.CloseConfirmWindow(), null != t && t() }), Z(!0, "ConfirmWindow-element", "Confirmation"), setTimeout(function () { $("#ConfirmWindow-element").find(".confirm-ok-button").focus(), O(), z() }, 250) } function R(e, a, t) { ("" == e || null == e) && (e = "Are you sure you want to continue?"); var o = "<div id='ConfirmWindow-element' class='Modal-element' style='display: none;'>"; o += "<div class='Modal-overlay'>", o += "<div class='Modal-element-align'>", o += "<div class='Modal-element-modal' data-setwidth='370'>", o += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>", o += "<a href='#' onclick=\"openWSE.CloseConfirmWindow();return false;\" class='ModalExitButton confirm-cancel-button-header'></a>", o += "</div><span class='Modal-title'></span></div></div>"; var n = "<input class='input-buttons confirm-ok-button' type='button' value='Yes' style='width: 60px;' />", i = "<input class='input-buttons confirm-cancel-button' type='button' value='No' />"; "" == openWSE_Config.siteTheme && (openWSE_Config.siteTheme = "Standard"); var s = "<img alt='confirm' src='" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Icons/confirm.png' />"; o += "<div class='ModalPadContent'><div class='message-text'>" + s + e + "</div><div class='button-holder'>" + n + i + "</div></div></div>", o += "</div></div></div></div>", $("body").append(o), $("#ConfirmWindow-element").find(".confirm-ok-button").one("click", function () { openWSE.CloseConfirmWindow(), null != a && a() }), $("#ConfirmWindow-element").find(".confirm-cancel-button, .confirm-cancel-button-header").one("click", function () { openWSE.CloseConfirmWindow(), null != t && t() }), Z(!0, "ConfirmWindow-element", "Confirmation"), setTimeout(function () { $("#ConfirmWindow-element").find(".confirm-ok-button").focus(), O() }, 250) } function N() { $("#ConfirmWindow-element").length > 0 && ($("#ConfirmWindow-element").hide(), $("#ConfirmWindow-element").remove()), j() } function z() { openWSE_Config.disableF5KeyOnModals && $(document).on("keydown", openWSE.disableF5) } function j() { openWSE_Config.disableF5KeyOnModals && $(document).off("keydown", openWSE.disableF5) } function U() { $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/OnBrowserClose", data: "", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e } }) } function H() { var e = !1; return $("#pnl_Login_NonAuth").length > 0 ? e = !0 : $(".site-tools-tablist").each(function (a) { $(".site-tools-tablist").eq(a).find(".app-icon-links").each(function () { var a = $(this).find(".app-icon-font"); "workspace" == a.attr("data-pagetitle").toLowerCase() && (e = !0) }) }), e } function F() { $(".switch").each(function () { var e = $(this); if (0 == e.find(".RadioButton-Toggle-Overlay").length) { var a = $(this).find(".cb-enable"), t = $(this).find(".cb-disable"); if (0 == e.find(".switch-slider").length) { e.append("<div class='switch-slider'><table class='switch-slider-table' cellpadding='0' cellspacing='0'><tbody><tr><td class='td-enable'></td><td class='td-switch' title='Click or Drag'></td><td class='td-disable'></td></tr></tbody></table></div>"), e.find(".td-enable").append(a), e.find(".td-switch").html("<span class='RadioButton-Toggle-Overlay'></span>"), e.find(".td-disable").append(t), a.removeClass("RandomActionBtns"), t.removeClass("RandomActionBtns"); var o = e.find(".cb-enable").outerWidth(); 0 == o && (o = e.find(".cb-enable").find("label").outerWidth()); var n = o + e.find(".RadioButton-Toggle-Overlay").outerWidth(); e.width(n - 2); var i = e.outerWidth() - e.find(".RadioButton-Toggle-Overlay").outerWidth() + 2, s = a.find("input"), l = t.find("input"); D(s) && s.prop("checked") || a.hasClass("selected") ? (a.addClass("selected"), t.removeClass("selected"), s.prop("checked", !0), l.prop("checked", !1), e.find(".switch-slider").css("left", 0)) : (t.addClass("selected"), a.removeClass("selected"), l.prop("checked", !0), s.prop("checked", !1), e.find(".switch-slider").css("left", -i)) } else e.find(".td-switch").html("<span class='RadioButton-Toggle-Overlay'></span>"); e.find(".switch-slider").draggable({ cancel: ".cb-enable, .cb-disable", axis: "x", drag: function (e, a) { var t = $(this).parent().outerWidth() - $(this).find(".RadioButton-Toggle-Overlay").outerWidth() + 2; return a.position.left < -t ? ($(this).css("left", -t), !1) : a.position.left >= 0 ? ($(this).css("left", 0), !1) : void 0 }, stop: function (a, t) { var o = $(this).parent().outerWidth() - $(this).find(".RadioButton-Toggle-Overlay").outerWidth() + 2, n = o / 2, i = !1, s = !0; e.find(".cb-disable").each(function () { var e = $(this).find("input"); e.attr("checked"); $(this).hasClass("selected") && (s = !1) }), t.position.left > -n ? (i = !0, $(this).animate({ left: 0 }, openWSE_Config.animationSpeed)) : $(this).animate({ left: -(2 * n) }, openWSE_Config.animationSpeed), s && !i ? (nn = !0, e.find(".cb-disable").find("input").trigger("click")) : !s && i && (nn = !0, e.find(".cb-enable").find("input").trigger("click")) } }) } }) } function D(e) { var a = $(e)[0].attributes.checked; return "undefined" != typeof a && a !== !1 ? !0 : !1 } function q(e, a, t, o, n) { try { var i = !1; t && (i = !0); var s = openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme; $(e).attr("data-average", a), $(e).attr("data-id", "1"); var l = "big"; n || (l = "small"), $(e).jRating({ step: !0, type: l, showRateInfo: !1, canRateAgain: !0, nbRates: 100, bigStarsPath: s + "/Icons/star-rating-lrg.png", smallStarsPath: s + "/Icons/star-rating-sml.png", isDisabled: i, decimalLength: 2, length: 4, rateMax: 4, rateMin: 0, phpPath: "", sendRequest: !0, onClick: function (i, s) { $("#AppRating-element").remove(); var l = "<div id='AppRating-element' class='Modal-element'><div class='Modal-overlay'><div class='Modal-element-align'><div class='Modal-element-modal' style='min-width: 350px;'>"; l += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'></div><span class='Modal-title'></span></div></div>", l += "<div class='ModalScrollContent'><div class='ModalPadContent'></div></div></div></div></div></div>", $("#aboutApp-element").find(".ModalPadContent").append(l); var r = "<div class='pad-bottom'>Add a comment to your rating or just press Submit.</div>"; r += "<textarea id='app-rating-comment' rows='4' cols='40' style='width: 96%; font-family: arial; font-size: 14px; padding: 5px; border: 1px solid #DDD;'></textarea>", r += "<div class='clear-space'></div>", r += "<input class='float-right no-margin input-buttons' type='button' value='Cancel' onclick='openWSE.ResetRating(\"" + e + '", "' + a + '", ' + t + ', "' + o + '", ' + n + ');$("#AppRating-element").remove();\' />', r += "<input class='float-left no-margin input-buttons' type='button' value='Submit' onclick='openWSE.UpdateAppRating(\"" + e + '", "' + s + '", ' + t + ', "' + o + '", ' + n + ");' />", r += "<div class='clear-space-five'></div>", $("#AppRating-element").find(".ModalPadContent").html(r), Z(!0, "AppRating-element", "Rating Comment") } }), n || $(e).find(".jStar").addClass("jStar-Small") } catch (r) { } } function G(e, a, t, o, n) { T("Updating rating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/SaveControls.asmx/UpdateAppRating", type: "POST", data: '{ "rating": "' + a + '","appId": "' + o + '","description": "' + $("#app-rating-comment").val() + '" }', contentType: "application/json; charset=utf-8", success: function (i) { $("#AppRating-element").remove(), openWSE.RemoveUpdateModal(), openWSE.ResetRating(e, a, t, o, n) } }) } function V(e, a, t, o, n) { $(e).html(""), q(e, a, t, o, n) } function Y(e) { if (x(), openWSE.IsComplexWorkspaceMode()) if ($("#workspace_holder").length > 0) { if ("none" == $(".app-main-holder[data-appid='" + e + "']").css("display")) { No = 1; var a = ga(); _a($(".app-main-holder[data-appid='" + e + "']"), a) } } else X($(".app-icon[data-appid='" + e + "']")); else window.location.href = openWSE.siteRoot() + "Workspace.aspx?AppPage=" + _id } function K() { var e = $.trim($("#searchbox-app-search").val()); "" != e && (T("Searching. Please Wait..."), document.getElementById("hf_SearchSite").value = e, x(), $("#searchbox-app-search").val(""), __doPostBack("hf_SearchSite", "")) } function Q() { "workspace-selector" == $("#searchbox-app-search").parent().parent().attr("id") ? $("#searchbox-app-search").val("Search") : $("#searchbox-app-search").val("") } function J(e) { x(), window.open("http://google.com/search?q=" + e) } function X(e) { var a = $(e), t = "<div id='ConfirmApp-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' style='width: 400px; min-width: 400px;'>", t += "<div class='ModalHeader'><div><span class='Modal-title'></span></div></div>"; var o = a.find(".app-icon-font").text(); "" == o && (o = a.find(".app-title").eq(0).text(), "" == o && (o = a.find("span").text())); var n = a.attr("data-appid"), i = ""; if ("" != a.attr("popoutloc") && void 0 != a.attr("popoutloc") && null != a.attr("popoutloc")) { var s = a.attr("popoutloc"); i = "<a href='#' class='float-right' onclick='openWSE.PopOutFrameFromSiteTools(\"" + o + '", "' + s + "\");return false;'>Open in new window</a>" } var l = "1"; "" != a.attr("currentworkspace") && void 0 != a.attr("currentworkspace") && null != a.attr("currentworkspace") && (l = a.attr("currentworkspace")); var r = "<input type='button' class='input-buttons' value='Yes' style='width: 50px;' onclick='openWSE.LoadAppFromSiteTools(\"" + n + '", "' + o + '", "workspace_' + l + "\");' />", d = "<input type='button' class='input-buttons no-margin' value='No' style='width: 50px; margin-left: 10px!important;' onclick=\"$('#ConfirmApp-element').remove();return false;\" />", p = "You must be on the workspace to load this app. Would you like to go back to your workspace?"; if (!openWSE.CheckIfWorkspaceLinkAvailable()) { r = ""; var d = "<input type='button' class='input-buttons no-margin' value='Close' onclick=\"$('#ConfirmApp-element').remove();return false;\" />"; p = "You are not authorized to use the workspace. ", "" != i && (p += "However, you can open this app in a seperate window.") } t += "<div class='ModalScrollContent'><div class='ModalPadContent'>", t += p + "<div class='clear' style='height: 20px;'></div>" + r + d + i, t += "<div class='clear-space'></div></div></div>", t += "</div></div></div></div>", $("body").append(t), openWSE.LoadModalWindow(!0, "ConfirmApp-element", "Open " + o) } function Z(e, a, t) {
        0 != a.indexOf("#") && (a = "#" + a); var o = $(a); if (e) { o.show(); var n = o.find(".Modal-element-modal"); "Style_2" == openWSE_Config.appStyle ? (o.addClass("modal-style2"), o.find(".ModalExitButton").html("<span></span>"), n.append(o.find(".ModalHeader"))) : "Style_3" == openWSE_Config.appStyle ? o.addClass("modal-style3") : o.addClass("modal-style1"); var i = "#container"; (0 == $("#container").length || o.hasClass("outside-main-app-div") && $(".workspace-holder").length > 0) && (i = $("#maincontent_overflow").length > 0 ? "#maincontent_overflow" : "body"); parseInt(n.attr("data-setwidth")); null != n.attr("data-setwidth") && "" != n.attr("data-setwidth") ? (null != n.attr("data-setmaxheight") && "" != n.attr("data-setmaxheight") ? n.find(".ModalScrollContent").css("max-height", parseInt(n.attr("data-setmaxheight"))) : n.find(".ModalScrollContent").css("max-height", Math.round(parseInt(n.attr("data-setwidth")) / 1.7)), n.css({ width: parseInt(n.attr("data-setwidth")), minWidth: parseInt(n.attr("data-setwidth")) })) : ($(i).width() > 100 && n.css("max-width", $(i).width() - 100), $(i).height() > 100 && n.find(".ModalScrollContent").css("max-height", $(i).height() - 100)), o.attr("data-containment", i), n.draggable({ containment: i, cancel: ".ModalScrollContent, .ModalPadContent, .ModalExitButton, .ModalButtonHolder", drag: function (e, a) { var t = $(this); if (t.css("opacity", "0.6"), t.css("filter", "alpha(opacity=60)"), t.find("iframe").length > 0) { var o = t.find(".ModalScrollContent"); $wo = o.find(".app-overlay-fix"), 0 == $wo.length && 1 == o.length && o.append("<div class='app-overlay-fix'></div>") } }, stop: function (e, a) { var t = $(this); t.css("opacity", "1.0"), t.css("filter", "alpha(opacity=100)"), $wo = $(this).find(".app-overlay-fix"), 1 == $wo.length && $wo.remove() } }), "" != t && o.find(".Modal-title").html(t), te(a) } else o.hide(), o.css("visibility", "hidden"), o.find(".Modal-title").html(""), setTimeout(function () {
            if (o.hasClass("outside-main-app-div")) for (var e = Yt(o[0]), a = 0; a < e.length; a++) if (e[a].indexOf(Qo) > 0) {
                var t = e[a].replace(Qo, ""); Qa($(".app-main-holder[data-appid='" + t + "']"));
                break
            }
        }, 25)
    } function ee(e) { try { var a = e.get_postBackElement(); null != a && ("hf_UpdateAll" == a.id || "MainContent_hf_UpdateAll" == a.id) && 0 == Mo.length && (Mo = new Array, $(".Modal-element").each(function () { var e = $(this); if ("block" == e.css("display") && 0 == e.find("iframe").length) { var a = escape($.trim(e.find(".ModalScrollContent").html())); if ("" != a && "undefined" != a && null != a) { var t = new Array; if ("" != e.attr("id")) { t[0] = e.attr("id"), t[1] = a; var o = new Array; e.find(".ModalScrollContent").find("input[type='text']").each(function () { o.push($(this).val()) }), t[2] = o; var n = new Array; e.find(".ModalScrollContent").find("textarea").each(function () { n.push($(this).val()) }), t[3] = n, Mo.push(t) } } } })) } catch (t) { } if ("none" != $(".Modal-element").css("display")) { var o = $(".Modal-element").find(".ModalScrollContent"); o.length > 0 && (Wo = o.scrollTop()) } } function ae() { if (Mo.length > 0 && ($(".Modal-element").each(function () { var e = $(this); if ("block" == e.css("display") && 0 == e.find("iframe").length) for (var a = 0; a < Mo.length; a++) if (Mo[a][0] == e.attr("id")) { var t = unescape(Mo[a][1]); e.find(".ModalScrollContent").html(t), e.find(".ModalScrollContent").find("input[type='text']").each(function (e) { Mo[a][2][e] && $(this).val(Mo[a][2][e]) }), e.find(".ModalScrollContent").find("textarea").each(function (e) { Mo[a][3][e] && $(this).val(Mo[a][3][e]) }); break } }), Mo = new Array), "block" == $(".Modal-element").css("display")) { var e = $(".Modal-element").find(".ModalScrollContent"); e.length > 0 && (e.scrollTop(Wo), Wo = 0) } } function te(e) { if (null != e) { var a = $(e); a.find(".Modal-element-align").css({ marginTop: -(a.find(".Modal-element-modal").height() / 2), marginLeft: -(a.find(".Modal-element-modal").width() / 2) }), a.css("visibility", "visible"), l() } } function oe() { var e = cookie.get("top_menu"); "" != e && null != e && void 0 != e && $(".top-options li.b").each(function (a) { if (a == e) { $(this).show(); var t = $(this).prev(); 1 == t.length && t.addClass("active"), ne() } }) } function ne() { $(".top-options li.b").each(function () { if ($(this).is(":visible")) { var e = $(window).height() - 98; $(this).find(".li-pnl-tab").css("max-height", e) } }) } function ie(e) { "none" == $("#help_main_holder").css("display") ? ($("#iframe-container-helper").length > 0 && Qe(), rn = e, setTimeout(function () { var e = "", a = window.location.hash; e = -1 == a.indexOf("#") && "#" != window.location.href.charAt(window.location.href.length - 1) ? "#?" : "" != a ? "&" : "?", -1 == a.indexOf("help") ? e += "help" : e = "", window.location += e }, openWSE_Config.animationSpeed)) : ve() } function se() { var e = Po + "/GetTotalHelpPages"; rn || -1 == document.location.href.toLowerCase().indexOf("workspace.aspx") ? $.ajax({ url: e, type: "POST", data: '{ "currentPage": "' + document.location.href + '" }', contentType: "application/json; charset=utf-8", success: function (e) { var a = parseInt(e.d); a > 0 ? (Oo = a, le(0, rn), $("#help_main_holder").fadeIn(openWSE_Config.animationSpeed)) : rn ? (de(), $("#help_main_holder").fadeIn(openWSE_Config.animationSpeed)) : (openWSE.AlertWindow("There are no help pages available for this webpage."), ve()) }, error: function () { rn ? (de(), $("#help_main_holder").fadeIn(openWSE_Config.animationSpeed)) : (openWSE.AlertWindow("There was an error retrieving the help pages. Please try again."), ve()) } }) : (re(), $("#help_main_holder").fadeIn(openWSE_Config.animationSpeed)) } function le(e, a) { var t = "<span class='pad-left'>Welecome to " + openWSE_Config.siteName + "</span>"; a || (t = "<span class='pad-left'>" + openWSE_Config.siteName + " Help Pages</span>"); var o = ""; a || (o += "<input type='button' class='input-buttons-create float-right' onclick='openWSE.HelpOverlay(false, " + pn + ")' value='Close' />"), Oo > e + 1 ? o += "<input type='button' class='input-buttons-create float-right margin-left' onclick='openWSE.HelpMenuPageLoad(" + (e + 1).toString() + "," + a + ")' value='Next' />" : e + 1 == Oo && a && (o += "<input type='button' class='input-buttons-create float-right margin-left' onclick='openWSE.NewUserPageLoad()' value='Next' />"), e > 0 && (o += "<input type='button' class='input-buttons-create float-right margin-left' onclick='openWSE.HelpMenuPageLoad(" + (e - 1).toString() + "," + a + ")' value='Back' />"), $("#helpmenu_title").html("<div class='help-Title-Top'>" + t + o + "</div>"), e += 1; var n = document.location.href; n = n.substring(n.lastIndexOf("/") + 1), n = n.replace(n.substring(n.indexOf(".")), ""), T("Loading..."), $("#helpdiv_pageholder").load(openWSE.siteRoot() + "HelpPages/" + n + "/HelpPage" + e + ".html", function () { O(), $(".help-images-workspace-img").each(function () { if (!$(this).hasClass("ignoreSrc")) { var e = $(this).attr("src"); $(this).attr("src", openWSE.siteRoot() + "HelpPages/" + n + "/images/" + e) } }) }) } function re() { var e = "<span class='pad-left'>" + openWSE_Config.siteName + " Help Pages</span>", a = "<input type='button' class='input-buttons-create float-right' onclick='openWSE.HelpOverlay(false, " + pn + ")' value='Close' />"; $("#helpmenu_title").html("<div class='help-Title-Top'>" + e + a + "</div>"), $("#helpdiv_pageholder").html(be()) } function de() { var e = "<span class='pad-left'>Welecome to " + openWSE_Config.siteName + "</span>", a = ""; a += "<input id='btnFinish' type='button' class='input-buttons-create float-right display-none' onclick='openWSE.NewUserfinsh()' value='Finish' />", Oo > 0 && (a += "<input type='button' class='input-buttons-create float-right margin-left' onclick='openWSE.HelpMenuPageLoad(" + (Oo - 1).toString() + ",true)' value='Back' />"), $("#helpmenu_title").html("<div class='help-Title-Top'>" + e + a + "</div>"), $("#helpdiv_pageholder").html("<div style='position: absolute; top: 50%; left: 50%; margin-left: -95px; margin-top: -45px; padding: 20px;'><div class='loading-icon-lrg margin-top-sml'></div><h3 style='color: #FFF; float: left; font-weight: bold;'>Loading Step....</h3></div>"), T("Loading..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/CheckForEmailAddress", data: "", type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { dn = openWSE.ConvertBitToBoolean(e.d[0]), pn = openWSE.ConvertBitToBoolean(e.d[1]); var a = ""; a = dn || pn ? ue() : ge(), $("#helpdiv_pageholder").html(a), setTimeout(function () { sn ? $("#tb_emailaddress_update").focus() : ln && $("#tb_newpassword_update").focus() }, 500), O() } }) } function pe() { var e = $.trim($("#tb_emailaddress_update").val()); "" != e && (T("Updating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/AddEmailAddress", data: '{"email": "' + escape(e) + '"}', type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && (dn = !1, $("#update-email-helpdiv").remove()), 0 == $("#update-password-helpdiv").length && de(), O() } })) } function ce() { var e = $.trim($("#tb_newpassword_update").val()), a = $.trim($("#tb_confirmnewpassword_update").val()); $("#span_passwordmismatch").html(""), "" == e ? $("#span_newpassword_update").show() : $("#span_newpassword_update").hide(), "" == a ? $("#span_confirmnewpassword_update").show() : $("#span_confirmnewpassword_update").hide(), e == a && "" != e && "" != a ? e.length < openWSE_Config.minPasswordLength ? $("#span_passwordmismatch").html("Password does not meet requirements.") : (T("Updating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/UpdateAdminPassword", data: '{"password1": "' + escape(e) + '"}', type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && (pn = !1, $("#update-password-helpdiv").remove()), 0 == $("#update-email-helpdiv").length && de(), O() } })) : "" != e && "" != a && $("#span_passwordmismatch").html("Passwords do not match.") } function ue() { var e = ""; return dn ? (sn = !0, ln = !1, e += "<div id='update-email-helpdiv' class='pad-all' align='center'>", e += "<h3>Before you can continue, you must provide a valid email address.<br />This email address will be used for notifications and password recovery.<br />If you fail to provide a valid email address, you will not be able to use the password recovery feature on the login page.</h3>", e += "<div class='clear-space'></div>", e += "<div class='clear-space'></div>", e += "<h3>Please provide a valid email address</h3>", e += "<div class='clear-space'></div>", e += "<span class='pad-right font-bold'>Email Address</span><input type='text' id='tb_emailaddress_update' onkeypress='openWSE.OnEmailUpdate_KeyPress(event)' class='textEntry margin-right' style='width: 200px;' />", e += "<input type='button' class='input-buttons' onclick='openWSE.UpdateEmail()' value='Update' />", e += "<div class='clear-space'></div>", e += "<div class='clear-space'></div>", e += "<div class='clear-space'></div>", e += "</div>") : pn && (sn = !1, ln = !0, e += "<div id='update-password-helpdiv' class='pad-all' align='center'>", e += "<h3>You are currently signed in as Administrator. Create a new password for your Administrator account.</h3>", e += "<div class='clear-space-two'></div><small><b class='pad-right-sml'>Note:</b>Password must be at least " + openWSE_Config.minPasswordLength + " characters long.</small>", e += "<div class='clear-space'></div><table border='0' cellpadding='0' cellspacing='0'>", e += "<tr><td align='right'><span class='pad-right font-bold'>New Password:</span></td>", e += "<td align='left'><input type='password' id='tb_newpassword_update' onkeypress='openWSE.OnPasswordUpdate_KeyPress(event)' class='textEntry margin-right' style='width: 200px;' /><span id='span_newpassword_update' style='display: none; color: Red;'>*</span></td></tr>", e += "<tr><td></td><td><div class='clear-space'></div></td></tr>", e += "<tr><td align='right'><span class='pad-right font-bold'>Confirm New Password:</span></td>", e += "<td align='left'><input type='password' id='tb_confirmnewpassword_update' onkeypress='openWSE.OnPasswordUpdate_KeyPress(event)' class='textEntry margin-right' style='width: 200px;' /><span id='span_confirmnewpassword_update' style='display: none; color: Red;'>*</span></td></tr></table>", e += "<div class='clear-space'></div>", e += "<input type='button' class='input-buttons no-margin' onclick='openWSE.UpdateAdminPassword()' value='Change Password' />", e += "<div class='clear-space'></div>", e += "<span id='span_passwordmismatch' style='color: Red;'></div>", e += "</div>"), e } function he(e) { (13 == e.which || 13 == e.keyCode) && (openWSE.UpdateEmail(), e.preventDefault()) } function fe(e) { (13 == e.which || 13 == e.keyCode) && (openWSE.UpdateAdminPassword(), e.preventDefault()) } function ge() { var e = ""; return cn ? e = be() : (e = "<div class='pad-all' align='center'>", e += "<h3>You are now setup. Please click finish to load your workspace. You can change your email address within your 'Account Settings' page. If you need help in the future, click on the help icon at the bottom left hand corner of the workspace.</h3>", e += "<h3>By using this site you agree that OpenWSE can save cookies to your device. These cookies contain no information regarding your personal information.</h3>", e += "<div class='clear-space'></div>", e += "<a href='#' onclick='openWSE.HelpIntroRestart();return false;'>Go back to the Intro Pages</a>", e += "<div class='clear-space'></div>", e += "</div>", $("#btnFinish").removeClass("display-none")), e } function me() { $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/UpdateAcctNewMember", data: "", type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { var a = e.d; openWSE.ConvertBitToBoolean(a) && (window.location = openWSE.siteRoot() + "Workspace.aspx") } }) } function ve() { rn = !1, pn = !1, "block" == $("#help_main_holder").css("display") && $("#help_main_holder").fadeOut(openWSE_Config.animationSpeed, function () { $("#helpmenu_title, #helpdiv_1, #helpdiv_2").html("") }); try { var e = window.location.href; if (-1 != e.indexOf("?help")) { var a = e.split("?help"); if (a.length > 1) { var t = "?help" + a[1]; e = e.replace(t, ""), window.location = e } else e = e.replace("?help", ""); window.location = e } else if (-1 != e.indexOf("&help")) { var a = e.split("&help"); if (a.length > 1) { var t = "&help" + a[1]; e = e.replace(t, "") } else e = e.replace("&help", ""); window.location = e } } catch (o) { } } function be() { var e = ""; switch (rn ? (e += "<input type='button' class='input-buttons float-right' value='Next' onclick='openWSE.HelpIntroNext();' style='margin-top:-20px; margin-right: 7%;' />", e += un > 0 ? "<input type='button' class='input-buttons float-left' value='Back' onclick='openWSE.HelpIntroBack();' style='margin-top:-20px; margin-left: 7%;' />" : "<input type='button' class='input-buttons float-left' value='Back' onclick='openWSE.HelpIntroBack();' style='margin-top:-20px; margin-left: 7%; visibility: hidden;' />") : (e += un > 3 ? "<input type='button' class='input-buttons float-right' value='Next' onclick='openWSE.HelpIntroNext();' style='margin-top:-20px; margin-right: 7%; visibility: hidden;' />" : "<input type='button' class='input-buttons float-right' value='Next' onclick='openWSE.HelpIntroNext();' style='margin-top:-20px; margin-right: 7%;' />", e += un > 0 ? "<input type='button' class='input-buttons float-left' value='Back' onclick='openWSE.HelpIntroBack();' style='margin-top:-20px; margin-left: 7%;' />" : "<input type='button' class='input-buttons float-left' value='Back' onclick='openWSE.HelpIntroBack();' style='margin-top:-20px; margin-left: 7%; visibility: hidden;' />"), un) { case 0: e += "<span class='intro-title'>Workspace App List</span>", e += "<div class='clear-space'></div>", e += "<div class='workspace-intro'>", e += "<img alt='workspace' src='" + Vt() + "Standard_Images/NewUserIntro/Workspace/workspace.jpg' />", e += "<div class='help-intro-overlay'>", e += "<div class='help-intro-circle' style='top: 7%; left: 0px; height: 68%; width: 10%; background-image: url(\"" + Vt() + "Standard_Images/NewUserIntro/Workspace/app-selector.png\");'></div>", e += "<div class='help-intro-text' style='top: 10%; left: 15%;'><ul>", e += "<li>All your available apps will open in the workspace portion of the page (where your custom background appears).</li>", e += "<li>You can load as many apps as you want and move them anywhere you like. The site will record the position and save it to the database where it can retrieve it on page loads.</li>", e += "<li>If you are logged into a group, you only see the apps availble to that group. Once you log out of that group, all your apps will appear again.</li>", e += "<li>If you have more than 1 total workspaces, When hovering over an app, you will see a box to the right that you can select. This will bring up a dropdown that will allow you to pick which workspace to load that app on.</li>", e += "</ul></div>", e += "</div>", e += "</div>"; break; case 1: e += "<span class='intro-title'>Workspace Controls</span>", e += "<div class='clear-space'></div>", e += "<div class='workspace-intro'>", e += "<img alt='workspace' src='" + Vt() + "Standard_Images/NewUserIntro/Workspace/workspace.jpg' />", e += "<div class='help-intro-overlay'>", e += "<div class='help-intro-circle' style='top: 0%; left: 0px; height: 24%; width: 6%; background-image: url(\"" + Vt() + "Standard_Images/NewUserIntro/Workspace/workspace-selector.png\");'></div>", e += "<div class='help-intro-circle' style='top: 0%; right: 0px; height: 51%; width: 27.5%; background-image: url(\"" + Vt() + "Standard_Images/NewUserIntro/Workspace/top-right-btns.png\");'></div>", e += "<div class='help-intro-text' style='top: 5%; left: 14%; width: 25%;'>You can select the workspace you want to work on. Apps can be placed in each workspace anyway you want.</div>", e += "<div class='help-intro-text' style='top: 5%; right: 30%; width: 15%;'>The top buttons to the left will show you different features such as:<br /><ul class='pad-left-big'><li>Group Login</li><li>Login/Logout</li><li>Overlay View</li><li>Notifications</li><li>Search</li></ul></div>", e += "</div>", e += "</div>"; break; case 2: e += "<span class='intro-title'>Workspace Opened App</span>", e += "<div class='clear-space'></div>", e += "<div class='workspace-intro'>", e += "<img alt='workspace' src='" + Vt() + "Standard_Images/NewUserIntro/Workspace/workspace.jpg' />", e += "<div class='help-intro-overlay'>", e += "<div class='help-intro-circle' style='top: 7%; left: 0px; height: 68%; width: 10%; background-image: url(\"" + Vt() + "Standard_Images/NewUserIntro/Workspace/app-selector-with-openapp.png\");'></div>", e += "<div class='help-intro-circle' style='top: 7%; left: 15%; height: 63%; width: 51%; background-image: url(\"" + Vt() + "Standard_Images/NewUserIntro/Workspace/app.png\");'></div>", e += "<div class='help-intro-text' style='bottom: 5%; left: 15%;'><ul>", e += "<li>All apps are configurable to your liking. Each app will also come with option buttons, which can be found at the top right of the app header (If App Style is Style 2)</li>", e += "<li>Moving, resizing, minimizing, maximizing, and closing will be saved to your profile. This way each time you login, these settings will be applied to make it look and feel like you never left.</li>", e += "</ul></div>", e += "</div>", e += "</div>"; break; case 3: e += "<span class='intro-title'>App Options</span>", e += "<div class='clear-space'></div>", e += "<div class='workspace-intro'>", e += "<img alt='workspace' src='" + Vt() + "Standard_Images/NewUserIntro/Workspace/workspace.jpg' />", e += "<div class='help-intro-overlay'>", e += "<div class='help-intro-no-circle' style='top: 7%; left: 0px; height: 62%; width: 9%; background-image: url(\"" + Vt() + "Standard_Images/NewUserIntro/Workspace/app-selector-with-openapp.png\");'><div class='help-intro-overlay'></div></div>", e += "<div class='help-intro-no-circle' style='top: 7%; left: 15%; height: 63%; width: 51%; background-image: url(\"" + Vt() + "Standard_Images/NewUserIntro/Workspace/app.png\");'><div class='help-intro-overlay'></div></div>", e += "<div class='help-intro-circle' style='top: 6%; left: 46%; height: 19%; width: 20%; background-image: url(\"" + Vt() + "Standard_Images/NewUserIntro/Workspace/app-options.png\");'></div>", e += "<div class='help-intro-text' style='bottom: 5%; left: 15%;'><ul>", e += "<li>Each app will have the options menu at the top right of app header bar.</li>", e += "<li>You will have up to 4 options to choose from: Refresh, Pop app out, About, and Move to Workspace Number.</li>", e += "</ul></div>", e += "</div>", e += "</div>"; break; case 4: e += "<span class='intro-title'>Minimized App</span>", e += "<div class='clear-space'></div>", e += "<div class='workspace-intro'>", e += "<img alt='workspace' src='" + Vt() + "Standard_Images/NewUserIntro/Workspace/workspace.jpg' />", e += "<div class='help-intro-overlay'>", e += "<div class='help-intro-no-circle' style='top: 7%; left: 0px; height: 62%; width: 9%; background-image: url(\"" + Vt() + "Standard_Images/NewUserIntro/Workspace/app-selector-with-openapp.png\");'><div class='help-intro-overlay'></div></div>", e += "<div class='help-intro-circle' style='top: 0; left: 7%; height: 1.5%; width: 6%; background-image: url(\"" + Vt() + "Standard_Images/NewUserIntro/Workspace/app-minimized.png\");'></div>", e += "<div class='help-intro-text' style='top: 10%; left: 15%;'><ul>", e += "<li>When apps are minimized, they will be moved completely off the screen.</li>", e += "<li>If you hover over the minimized app, a preview will be shown with the exact place the app was before being minimized. (Only if option is on in settings)</li>", e += "<li>You can close out of the app by clicking on the 'x' to the right of the minimized button.</li>", e += "<li>To restore the app, simply click on the minimized button at the top. You can also click on the app icon under your Available Apps.</li>", e += "</ul></div>", e += "</div>", e += "</div>"; break; default: rn && (cn = !1, de()) } return e } function $e() { un = 0, cn = !0, de() } function ye() { un++, rn ? de() : $("#helpdiv_pageholder").html(be()) } function we() { un--, 0 > un && (un = 0), rn ? de() : $("#helpdiv_pageholder").html(be()) } function ke(e) { $(window).load(function () { var a = unescape(e), t = "<div id='OpenWSEUpdates-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='550'>", t += "<div class='ModalHeader'><div><span class='Modal-title'></span></div></div>", t += "<div class='ModalScrollContent'><div class='ModalPadContent'>" + a + "</div></div>", t += "</div></div></div></div></div>", $("body").append(t), openWSE.LoadModalWindow(!0, "OpenWSEUpdates-element", "Site Updates") }) } function Ce(e) { $(window).load(function () { var a = unescape(e), t = "<div id='Activation-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='500'>", t += "<div class='ModalHeader'><div><span class='Modal-title'></span></div></div>"; var o = "<img alt='' class='float-left pad-right-sml' src='" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/App/approve.png' style='height: 17px;' />", n = "<span style='font-size: 15px'>Got it</span>", i = "<a href='" + openWSE.siteRoot() + "Workspace.aspx' class='input-buttons no-margin' style='text-decoration: none!important;'>" + o + " " + n + "</a>"; t += "<div class='ModalScrollContent'><div class='ModalPadContent'>" + a + "<div class='clear-space'></div><div align='center'>" + i + "</div>", t += "</div></div></div></div></div></div></div>", $("body").append(t), openWSE.LoadModalWindow(!0, "Activation-element", "Activation") }) } function _e() { $("#OpenWSEUpdates-element").remove() } function Se(e) { T("Closing Overlay..."); var a = $(e).closest(".workspace-overlay-selector"); 0 == a.length && (a = $("." + e)), a.remove(), $.ajax({ url: Po + "/Overlay_Disable", type: "POST", data: '{ "classes": "' + a.attr("class") + '" }', contentType: "application/json; charset=utf-8", success: function (e) { xe(e.d), O() }, error: function (e) { O() } }), w() } function We(e) { for (var a = e.split(","), t = "#" + openWSE_Config.overlayPanelId, o = 0; o < a.length; o++) "" != a[o] && ($(t).find("." + a[o]).length > 0 && $(t).find("." + a[o]).remove(), $(t).hide().prepend($(".move-holder").find("." + a[o])).show()); "" != e && Ae() } function xe(e) { var a = $("." + e); a.length > 0 && a.remove(), Ia(e), Ae(), w() } function Ee() { T("Loading..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/GetUserOverlays", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (e) { var a = ""; if (null != e.d) { a += "<div class='add-rss-list-header'>Available Overlays</div>"; for (var t = 0; t < e.d.length; t++) { var o = "Add Overlay", n = ""; openWSE.ConvertBitToBoolean(e.d[t][3]) && (o = "Remove Overlay", n = "add-rss-list-item-hasitem"); var i = "<table width='100%'><tr><td style='width: 170px;'><div class='pad-right-big'>" + e.d[t][0] + "</div></td><td align='left'>" + e.d[t][2] + "</td></tr></table>"; a += "<div class='add-rss-list-item " + n + "' title='" + o + "' onclick=\"openWSE.AddRemoveOverlayClick('" + e.d[t][1] + "', this);\">" + i + "</div>" } 0 == e.d.length && (a += "<div class='emptyGridView'>No overlays available</div>") } $("#overlayEdit-element").find("#overlay-edit-list").html(a), O(), Z(!0, "overlayEdit-element", "Add/Remove Overlay") }, error: function () { O(), openWSE.AlertWindow("There was an error retrieving your overlays. Please try again.") } }) } function Me(e, a) { $(a).hasClass("add-rss-list-item-hasitem") ? (Se(e), $(a).removeClass("add-rss-list-item-hasitem")) : (T("Adding Overlay..."), $(a).addClass("add-rss-list-item-hasitem"), $("#hf_loadOverlay1").val(e), __doPostBack("hf_loadOverlay1", "")) } function Te() { $(".overlay-table").length > 0 && $(".overlay-table").remove(); var e = $("#" + openWSE_Config.overlayPanelId); if (e.length > 0) { var a = 0; $(".workspace-overlay-selector").each(function (t) { t % hn == 0 && (a++, e.append("<table id='overlay-table-id-" + a + "' class='overlay-table' cellpadding='0' cellspacing='0'></table>"), $("#overlay-table-id-" + a).append("<tr></tr>")); var o = $("#overlay-table-id-" + a).find("tr").eq(0); o.append("<td class='overlay-cell-" + t + "'></td>"), $("#overlay-table-id-" + a).find(".overlay-cell-" + t).append($(this)), Ba($(".workspace-overlay-selector").attr("data-overlayid")) }), "pnl_OverlaysAll" != openWSE_Config.overlayPanelId && 0 != $("#MainContent_pnl_adminnote").length && (e.prepend($("#MainContent_pnl_adminnote")), $("#MainContent_pnl_adminnote").removeClass("administrator-workspace-note").addClass("workspace-overlays administrator-workspace-note-overlay")) } } function Ae() { $(".workspace-overlay-selector").each(function () { $("#" + openWSE_Config.overlayPanelId).append($(this)) }), Te() } function Oe(e) { if (!openWSE_Config.demoMode && $("#notification-tab-b").is(":visible") && !xo) { xo = !0, 0 == $(".ddLoadingMessage").length && e && $(".table-notiMessages-div").prepend(To); var a = new Array; $("#table_NotiMessages tr").each(function (e) { a[e] = $(this).attr("id") }); var t = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/LoadUserNotifications"; $.ajax({ url: t, type: "POST", data: '{ "_currIds": "' + a + '","siteTheme": "' + openWSE_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $(".ddLoadingMessage").remove(), null != e.d && "" != e.d ? ($("#NotificationHolder").html($.trim(e.d)), $("#no-notifications-id").length > 0 ? $("#lb_clearNoti").hide() : $("#lb_clearNoti").show()) : $("#lb_clearNoti").hide(), xo = !1, je(), Ue(), Be() }, error: function () { $(".ddLoadingMessage").remove(), Ue(), $("#NotificationHolder").html("<h3 class='pad-top-big pad-bottom' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), $("#lb_clearNoti").hide(), xo = !1 } }) } } function Be() { var e = document.getElementById("table-notiMessages-div-id"); if (null != e) { var a = $("#table-notiMessages-div-id").innerHeight(), t = parseInt($("#table-notiMessages-div-id").css("max-height")); if (a >= e.scrollHeight || e.scrollHeight < t) { var o = parseInt($("#lbl_notifications").find("span").html()), n = parseInt($("#table_NotiMessages tr").length); o > n && ($(".ddLoadingMessage").remove(), $("#NotificationHolder").append(To), Ie()) } } } function Ie() { if (!openWSE_Config.demoMode && $("#notification-tab-b").is(":visible") && !Eo && !xo) { Eo = !0; var e = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/LoadMoreUserNotifications", a = new Array; $("#table_NotiMessages tr").each(function (e) { a[e] = $(this).attr("id") }), $.ajax({ url: e, type: "POST", data: '{ "_currIds": "' + a + '","_currCount": "' + parseInt($("#table_NotiMessages tr").length) + '","siteTheme": "' + openWSE_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $(".ddLoadingMessage").remove(), null != e.d && "" != e.d && $("#table_NotiMessages").append($.trim(e.d)), je(), Ue(), Eo = !1, Be() }, error: function () { $(".ddLoadingMessage").remove(), Ue(), $("#NotificationHolder").append("<h3 class='pad-bottom-big' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), Eo = !1 } }) } } function Pe() { if (!openWSE_Config.demoMode && $("#notification-tab-b").is(":visible") && !Eo) { Eo = !0; var e = new Array; $("#table_NotiMessages tr").each(function (a) { e[a] = $(this).attr("id") }); var a = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/RefreshUserNotifications"; $.ajax({ url: a, type: "POST", data: '{ "_currIds": "' + e + '","siteTheme": "' + openWSE_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { if ($(".ddLoadingMessage").remove(), null != e.d[0] && "" != e.d[0]) if ($("#table_NotiMessages").length > 0) $("#table_NotiMessages").prepend($.trim(e.d[0])); else { var a = "<table ID='table_NotiMessages' class='table-notiMessages' cellpadding='5' cellspacing='5'>"; a += $.trim(e.d[0]) + "</table>", $("#NotificationHolder").html(a) } if (null != e.d[1]) for (var t = 0; t < e.d[1].length; t++) { var o = e.d[1][t]; $("#" + o).fadeOut(openWSE_Config.animationSpeed, function () { $("#" + o).remove() }) } "0" == $("#lbl_notifications").find("span").html() && ($("#NotificationHolder").html("<h3 id='no-notifications-id'>No notifications available.</h3>"), $("#lb_clearNoti").hide()), je(), Ue(), Eo = !1 }, error: function () { $(".ddLoadingMessage").remove(), Ue(), $("#NotificationHolder").html("<h3 class='pad-top-big pad-bottom-big' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), Eo = !1 } }) } } function Le() { $(".ddLoadingMessage").remove(), $("#NotificationHolder").html(""), $("#lb_clearNoti").hide(), xo = !1 } function Re() { $(".ddLoadingMessage").remove(), $("#lbl_notifications").removeClass("notifications-new"), $("#lbl_notifications").addClass("notifications-none"), $("#lbl_notifications").html("<span>0</span>"), $("#NotificationHolder").html("<h3 id='no-notifications-id'>No notifications available.</h3>"), $("#lb_clearNoti").hide() } function Ne() { if (!openWSE_Config.demoMode) { T("Clearing Notifications..."); var e = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/DeleteNotifications"; $.ajax({ url: e, type: "POST", data: '{ "id": "ClearAll" }', contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && (O(), Re(), x()) } }) } } function ze(e) { if (!openWSE_Config.demoMode) { T("Deleting. Please Wait..."); var a = $(e).closest("tr"), t = a.attr("id"), o = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/DeleteNotifications"; $.ajax({ url: o, type: "POST", data: '{ "id": "' + t + '" }', contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && a.fadeOut(openWSE_Config.animationSpeed, function () { if (O(), a.remove(), "1" == $("#lbl_notifications").find("span").html()) Re(); else { var e = parseInt($("#lbl_notifications").find("span").html()); e -= 1, $("#lbl_notifications").html("<span>" + e + "</span>") } }) } }) } } function je() { if ($("#notification-tab-b").is(":visible")) { var e = 65, a = $(window).height() - (e + Go), t = 7, o = $(window).width() - t; $(".table-notiMessages-div").css({ maxHeight: a, maxWidth: o }), Be() } } function Ue() { $(".table-notiMessages-div").scroll(function () { var e = document.getElementById("table-notiMessages-div-id"); if (null != e) { var a = $(".table-notiMessages-div"), t = a.scrollTop(), o = a.innerHeight(); if (t > 0 && t + o >= e.scrollHeight) { var n = parseInt($("#lbl_notifications").find("span").html()), i = parseInt($("#table_NotiMessages tr").length); n > i && ($(".ddLoadingMessage").remove(), $("#NotificationHolder").append(To), Ie()) } } }) } function He() { try { var e = document.getElementById("hf_noti_update_hiddenField").value; "" == e && (e = "0"), openWSE.ConvertBitToBoolean(e) && ($("#noti-update-element").show(), setTimeout(function () { $("#noti-update-element").fadeOut(openWSE_Config.animationSpeed, function () { $("#hf_noti_update_hiddenField").val("false") }) }, 2500)) } catch (a) { } } function Fe() { if ("none" != $("#Login-holder").css("display")) { $("#Login-holder").hide(); var e = Vt() + "SiteTools/iframes/CreateAccount.aspx"; ("/Scripts/SiteCalls/Full/" == Vt() || "/Scripts/SiteCalls/Min/" == Vt()) && (e = "/SiteTools/iframes/CreateAccount.aspx"), $("#iframe-createaccount-holder").html("<iframe id='iframe-demo' src='" + e + "' frameborder='0' width='315px' style='visibility: hidden;'></iframe>"), $("#iframe-createaccount-holder").append("<div style='text-align: center;'><h3 id='loadingControls'>Loading Controls. Please Wait...</h3></div>"), $("#CreateAccount-holder").fadeIn(openWSE_Config.animationSpeed), $("#iframe-demo").load(function () { $("#loadingControls").remove(), $("#register_password_cancel").show(), $("#iframe-demo").css({ height: "500px", visibility: "visible" }), qe() }) } else $("#CreateAccount-holder, #ForgotPassword-holder, #register_password_cancel").hide(), $("#iframe-createaccount-holder").html(""), $("#Login-holder").fadeIn(openWSE_Config.animationSpeed); qe() } function De() { $("#tb_username_recovery").val(""), $("#lbl_passwordResetMessage").html(""), $("#UserNameRequired_recovery").css("visibility", "hidden"), $("#Login-holder").hide(), $("#register_password_cancel").show(), $("#ForgotPassword-holder").fadeIn(openWSE_Config.animationSpeed), qe() } function qe() { if ($("#LoginModalPopup-element").length > 0 && "block" == $("#LoginModalPopup-element").css("display")) { var e = $("#LoginModalPopup-element").find(".Modal-element-modal").css("top"); "auto" == e && $("#LoginModalPopup-element").find(".Modal-element-align").css({ marginTop: -($("#LoginModalPopup-element").find(".Modal-element-modal").height() / 2), marginLeft: -($("#LoginModalPopup-element").find(".Modal-element-modal").width() / 2) }) } } function Ge() { var e = $.trim($("#tb_weather_postalCode").val()); "" != e && (cookie.set("weather_postal", e, "30"), Ve(openWSE_Config.siteTheme)) } function Ve(e) {
        var a = "66212", t = cookie.get("weather_postal"); "" == $.trim(t) || null == t || void 0 == t ? (a = $.trim($("#tb_weather_postalCode").val()), cookie.set("weather_postal", a, "30")) : a = t, "" == a && (a = "66212"), "" != e && (openWSE_Config.siteTheme = e); var o = "//builder.zoomradar.net/weather_builder/widget.page.php?s=250x250&z=" + a + "&i=1&c=5&ft=Current%20Weather", n = '<iframe src="' + o + '" width="250" height="250" style="border: 0; opacity: 0.85; filter:alpha(opacity=85);" frameborder="0"></iframe>', a = "<span>Postal Code:</span><input id='tb_weather_postalCode' type='text' class='textEntry margin-left margin-right' maxlength='10' value='" + a + "' style='width: 60px;' />", i = "<a href='#' onclick='openWSE.SetPostalCode();return false;' class='img-refresh-alt pad-all-sml margin-right-big margin-bottom-sml float-right' title='Refresh weather'></a>";
        $("#Weather_Overlay_Position").html(n + "<div class='clear-space-two'></div><div id='weather-button-holder' class='overlay-header' style='height: 25px;'>" + i + a + "</div>")
    } function Ye(e, a) { if ($("#iframe-container-helper").length > 0) Qe(), setTimeout(function () { Ye(e, a) }, openWSE_Config.animationSpeed); else { var t = "", o = window.location.hash; t = -1 == o.indexOf("#") && "#" != window.location.href.charAt(window.location.href.length - 1) ? "#?" : "" != o ? "&" : "?", t += "iframecontent=" + escape(e), window.location += t } } function Ke(e, a) { if ($("#iframe-container-helper").length > 0) Qe(), setTimeout(function () { Ke(e, a) }, openWSE_Config.animationSpeed); else { e = unescape(e); var t = $(window).height() - ($("#always-visible").height() + $("#container-footer").height()); Je(e) || (e = openWSE.siteRoot() + e); var o = "<iframe id='iframe-content-src' src='" + e + "' width='100%' frameborder='0' style='height: " + t + "px;'></iframe>", n = "<div id='iframe-container-helper'>" + o + "<div class='loading-background-holder'></div></div>", i = "<div id='iframe-container-close-btn'><a href='#' onclick='openWSE.CloseIFrameContent();return false;'>Close " + a + "</a></div>"; $("#workspace-selector").hide(), $("#top-main-bar-top").append(i), $("body").append(n), $("#container").hide(), $("#minimized-app-bar").hide(), $("#iframe-container-helper").fadeIn(openWSE_Config.animationSpeed), document.getElementById("iframe-content-src").onload = function () { $(document).ready(function () { setTimeout(function () { $("#iframe-container-helper").find(".loading-background-holder").remove() }, 150) }) }, x(), "none" == $("#always-visible").css("display") && $("#always-visible").show(), fn = !1, $("#always-visible").hasClass("transparency-enabled") && ($("#always-visible").removeClass("transparency-enabled"), fn = !0), $("#alwaysvisible_backgroundblur").length > 0 && $("#alwaysvisible_backgroundblur").hide(), s(!0) } } function Qe() { "none" == $("#always-visible").find(".top-options").css("display") && $("#always-visible").hide(), fn && ($("#always-visible").addClass("transparency-enabled"), fn = !1), $("#alwaysvisible_backgroundblur").length > 0 && $("#alwaysvisible_backgroundblur").show(), $("#container").show(), $("#iframe-container-helper").html(""), $("#iframe-container-helper").fadeOut(openWSE_Config.animationSpeed, function () { $("#iframe-container-helper").remove(), $("#iframe-container-close-btn").remove(), $("#workspace-selector").show(), $("#minimized-app-bar").show(), s(!0) }); try { var e = window.location.href; if (-1 != e.indexOf("?iframecontent=")) { var a = e.split("?iframecontent="); if (a.length > 1) { var t = "?iframecontent=" + a[1]; e = e.replace(t, ""), window.location = e } } else if (-1 != e.indexOf("&iframecontent=")) { var a = e.split("&iframecontent="); if (a.length > 1) { var t = "&iframecontent=" + a[1]; e = e.replace(t, ""), window.location = e } } } catch (o) { } $(window).resize() } function Je(e) { var a = e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/); return "string" == typeof a[1] && a[1].length > 0 && a[1].toLowerCase() !== location.protocol ? !0 : "string" == typeof a[2] && a[2].length > 0 && a[2].replace(new RegExp(":(" + { "http:": 80, "https:": 443 }[location.protocol] + ")?$"), "") !== location.host ? !0 : !1 } function Xe() { try { $("#background_selector_overlay").length > 0 && $("#background_selector_overlay").remove(), gn || ($("body").append("<script type='text/javascript' src='" + openWSE.siteRoot() + "WebControls/jscolor/jscolor.js'></script>"), gn = !0), T("Loading Backgrounds"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/GetServerImageList", type: "POST", data: '{ "_workspace": "' + ga().replace("workspace_", "") + '", "folder": "' + mn + '" }', contentType: "application/json; charset=utf-8", success: function (e) { if (6 == e.d.length) { $("#background-selector-holder").html(""); var a = "<div id='background-settings-div'>", t = "<div id='background-view-div' align='center' style='display: none;'>"; t += "<a href='#' class='float-left' onclick=\"openWSE.ViewBackgroundList();return false;\"><span class='pg-prev-btn float-left' style='padding: 0px; margin-right: 5px; margin-top: -1px;'></span>Go Back</a>", t += "<div class='clear-space'></div>", "" != e.d[0] && (a += "<a href='" + Vt() + "SiteTools/UserMaintenance/AcctSettings.aspx#?tab=pnl_BackgroundEditor' class='float-right'>More Background Settings<span class='pg-next-btn float-right' style='padding: 0px; margin-left: 3px;'></span></a>", a += "<div class='clear-space-two'></div>"), a += "<div class='table-settings-box' style='margin-top: 0px !important;'>", a += "<div class='td-settings-title'>Workspace Background</div>", a += "<div class='title-line'></div>", a += "<div class='td-settings-ctrl'>", a += "<input id='tb_solidColorBg' type='text' class='textEntry float-left margin-right color' style='width: 75px;' />", a += "<input id='btn_urlbgcolor' type='button' value='Add Color' class='input-buttons float-left' onclick='openWSE.updateBackgroundColor()' />", a += "<div class='clear' style='height: 20px;'></div>", a += "<input id='tb_imageurl' type='text' value='Link to image' class='textEntry' onfocus=\"if(this.value=='Link to image')this.value=''\" onblur=\"if(this.value=='')this.value='Link to image'\" value='Link to image' style='width:355px;'>", a += "<input id='btn_urlupdate' type='button' value='Add Url' class='input-buttons margin-left' onclick='openWSE.updateBackgroundURL()' />", a += "<div class='pad-top pad-bottom'><small>Copy and paste any link that contains an image.</small></div>", "" != e.d[0] ? (a += "<div class='clear' style='height: 20px;'></div>", a += "<iframe src='" + e.d[0] + "' frameborder='0' style='width: 100%; height: 80px; overflow: hidden;'></iframe>", t += "<small class='float-right'>Click on the background that you would like to apply to your workspace.</small>", t += "<div class='float-left'><span class='font-bold pad-right'>Folder</span><select id='dd_userimagefolder' onchange='openWSE.ChangeImageFolder();'><option value='user'>User Uploads</options><option value='public'>Public</option></select></div>", t += "<div class='clear-space'></div>") : mn = "public", a += "<div class='clear' style='height: 20px;'></div>", a += "<a href='#' onclick=\"openWSE.ViewBackgroundList();return false;\" class='input-buttons' style='padding-right: 15px!important;'><span class='img-background float-left pad-right'></span>Select a Background</a>", a += "<a href='#' class='float-right' onclick='openWSE.ClearBackground();return false;'>Clear Backgrounds</a>", a += "</div>", a += "<div class='td-settings-desc'>Your connection speed will slow down with the larger images. Each image has the size details when you hover over them. Solid color backgrounds will be the quickest if you have a slower internet connection.</div>", a += "</div>", t += "<div class='img-list-selector'>" + e.d[1] + "</div></div>", "" != e.d[2] && (a += "<div class='table-settings-box'>", a += "<div class='td-settings-title'>Background Position</div>", a += "<div class='title-line'></div>", a += "<div class='td-settings-ctrl'>", a += "<select class='background-setting-select' onchange=\"openWSE.UpdateBackgroundSetting(this);\" data-name='backgroundposition'>", a += "<option value='left top'>Left Top</option>", a += "<option value='left center'>Left Center</option>", a += "<option value='left bottom'>Left Bottom</option>", a += "<option value='right top'>Right Top</option>", a += "<option value='right center'>Right Center</option>", a += "<option value='right bottom'>Right Bottom</option>", a += "<option value='center top'>Center Top</option>", a += "<option value='center center'>Center Center</option>", a += "<option value='center bottom'>Center Bottom</option>", a += "</select>", a += "</div>", a += "<div class='td-settings-desc'>Select the position of the background. Applys for all workspaces and background images.</div>", a += "</div>"), "" != e.d[3] && (a += "<div class='table-settings-box'>", a += "<div class='td-settings-title'>Background Size</div>", a += "<div class='title-line'></div>", a += "<div class='td-settings-ctrl'>", a += "<select class='background-setting-select' onchange=\"openWSE.UpdateBackgroundSetting(this);\" data-name='backgroundsize'>", a += "<option value='auto'>Normal</option>", a += "<option value='100% 100%'>Stretch</option>", a += "<option value='cover'>Cover</option>", a += "<option value='contain'>Contain</option>", a += "</select>", a += "</div>", a += "<div class='td-settings-desc'>Select the size of the background. Applys for all workspaces and background images.</div>", a += "</div>"), "" != e.d[4] && (a += "<div class='table-settings-box'>", a += "<div class='td-settings-title'>Repeat Background</div>", a += "<div class='title-line'></div>", a += "<div class='td-settings-ctrl'>", a += "<select class='background-setting-select' onchange=\"openWSE.UpdateBackgroundSetting(this);\" data-name='backgroundrepeat'>", a += "<option value='1'>Yes</option>", a += "<option value='0'>No</option>", a += "</select>", a += "</div>", a += "<div class='td-settings-desc'>Turn on/off repeating the background image. Applys for all workspaces and background images.</div>", a += "</div>"), "" != e.d[5] && (a += "<div class='table-settings-box'>", a += "<div class='td-settings-title'>Default Background Color</div>", a += "<div class='title-line'></div>", a += "<div class='td-settings-ctrl'>", a += "<div class='float-left'><input id='tb_defaultbackgroundcolor' type='text' class='textEntry float-left margin-right color' style='width: 75px;' /></div>", a += "<input id='btn_defaultbackgroundcolor' type='button' value='Update' class='input-buttons float-left background-setting-color' onclick='openWSE.UpdateBackgroundSetting(this)' data-name='backgroundcolor' />", a += "<div class='clear'></div>", a += "</div>", a += "<div class='td-settings-desc'>Set the default background color. Applys for all workspaces and background images.</div>", a += "</div>"), a += "</div>", $("#background-selector-holder").html(a + t), "" != e.d[0] && $("#background-selector-holder").find("#dd_userimagefolder").val(mn), "" != e.d[2] && $(".background-setting-select[data-name='backgroundposition']").val(e.d[2]), "" != e.d[3] && $(".background-setting-select[data-name='backgroundsize']").val(e.d[3]), "" != e.d[4] && ("true" == e.d[4] || "1" == e.d[4] ? $(".background-setting-select[data-name='backgroundrepeat']").val("1") : $(".background-setting-select[data-name='backgroundrepeat']").val("0")), "" != e.d[5] && $("#tb_defaultbackgroundcolor").val(e.d[5]), vn && ($("#background-settings-div").hide(), $("#background-view-div").show(), vn = !1); try { jscolor.init() } catch (o) { } Z(!0, "BackgroundSelector-element", "Select a new background") } else B("There was an error pulling the backgrounds down from the server. Please try again.", window.location.href); O() } }) } catch (e) { O() } } function Ze() { T("Updating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + ga() + '","_img": "","folder": "' + mn + '" }', contentType: "application/json; charset=utf-8", success: function (e) { var a = "#site_mainbody"; openWSE_Config.multipleBackgrounds && g() && $("#MainContent_" + ga()).attr("data-backgroundimg", openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Body/default-bg.jpg"), $(a).css("background-image", "url('" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Body/default-bg.jpg')"), $(a).css("background-color", openWSE_Config.defaultBackgroundColor), $(a).css("background-position", openWSE_Config.defaultBackgroundPosition), $(a).css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $(a).css("background-size", openWSE_Config.defaultBackgroundSize), $("#sidebar_backgroundblur").length > 0 && ($("#sidebar_backgroundblur").css("background-image", "url('" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Body/default-bg.jpg')"), $("#sidebar_backgroundblur").css("background-color", openWSE_Config.defaultBackgroundColor), $("#sidebar_backgroundblur").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#sidebar_backgroundblur").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#sidebar_backgroundblur").css("background-size", openWSE_Config.defaultBackgroundSize)), $("#alwaysvisible_backgroundblur").length > 0 && ($("#alwaysvisible_backgroundblur").css("background-image", "url('" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Body/default-bg.jpg')"), $("#alwaysvisible_backgroundblur").css("background-color", openWSE_Config.defaultBackgroundColor), $("#alwaysvisible_backgroundblur").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#alwaysvisible_backgroundblur").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#alwaysvisible_backgroundblur").css("background-size", openWSE_Config.defaultBackgroundSize)), $("#tb_imageurl").val("Link to image"), $("#tb_solidColorBg").val("FFFFFF"), $("#tb_solidColorBg").attr("style", "width: 75px;"), 3 == e.d.length && 6 == e.d[2].length && $("#BackgroundSelector-element").find(".img-list-selector").html(e.d[2][1]); var t = to(a); -1 != t && clearInterval(En[t].obj), openWSE.RemoveUpdateModal(), sa() } }) } function ea() { $("#background_selector_overlay").fadeOut(openWSE_Config.animationSpeed, function () { $("#background_selector_overlay").remove() }) } function aa() { var e = $.trim($("#background-selector-holder").find("#tb_imageurl").val()); e && "link to image" != e.toLowerCase() && R("Do you want to remove the previous selected background(s)? Click No to add the new background to the existing list.", function () { T("Updating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + ga() + '","_img": "","folder": "' + mn + '" }', contentType: "application/json; charset=utf-8", success: function (a) { $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + ga() + '","_img": "","folder": "' + mn + '" }', contentType: "application/json; charset=utf-8", success: function (a) { var t = "#site_mainbody", o = to(t); -1 != o && clearInterval(En[o].obj), openWSE.RemoveUpdateModal(), oa(e) } }) } }) }, function () { oa(e) }) } function ta() { var e = $("#background-selector-holder").find("#tb_solidColorBg").val(); 6 == e.length && oa(e) } function oa(e) { openWSE_Config.demoMode ? na(e) : (T("Saving Background"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + ga().replace("workspace_", "") + '","_img": "' + e + '","folder": "' + mn + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $("#background-selector-holder").find("#tb_imageurl").val("Link to image"), $("#background-selector-holder").find("#tb_solidColorBg").val("FFFFFF"), 3 == e.d.length && (openWSE_Config.backgroundTimerLoop = e.d[1], na(e.d[0]), 6 == e.d[2].length && $("#BackgroundSelector-element").find(".img-list-selector").html(e.d[2][1])), openWSE.RemoveUpdateModal(), sa() } })) } function na(e) { for (var a = "#site_mainbody", t = e, o = e.split("|"), n = new Array, i = 0; i < o.length; i++) "" != o[i] && n.push(o[i]); n.length > 0 && (e = n[n.length - 1]), e.length > 6 && -1 == e.indexOf("http") && -1 == e.indexOf("www.") && (e = Vt() + e), openWSE_Config.multipleBackgrounds && g() && $("#MainContent_" + ga()).attr("data-backgroundimg", t), e.length > 6 ? ($(a).css("background-image", "url('" + e + "')"), $(a).css("background-color", openWSE_Config.defaultBackgroundColor), $(a).css("background-position", openWSE_Config.defaultBackgroundPosition), $(a).css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $(a).css("background-size", openWSE_Config.defaultBackgroundSize)) : ($(a).css("background-image", ""), $(a).css("background-color", "#" + e)), e.length > 6 ? ($("#sidebar_backgroundblur").length > 0 && ($("#sidebar_backgroundblur").css("background-image", "url('" + e + "')"), $("#sidebar_backgroundblur").css("background-color", openWSE_Config.defaultBackgroundColor), $("#sidebar_backgroundblur").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#sidebar_backgroundblur").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#sidebar_backgroundblur").css("background-size", openWSE_Config.defaultBackgroundSize)), $("#alwaysvisible_backgroundblur").length > 0 && ($("#alwaysvisible_backgroundblur").css("background-image", "url('" + e + "')"), $("#alwaysvisible_backgroundblur").css("background-color", openWSE_Config.defaultBackgroundColor), $("#alwaysvisible_backgroundblur").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#alwaysvisible_backgroundblur").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#alwaysvisible_backgroundblur").css("background-size", openWSE_Config.defaultBackgroundSize))) : ($("#sidebar_backgroundblur").length > 0 && ($("#sidebar_backgroundblur").css("background-image", ""), $("#sidebar_backgroundblur").css("background-color", "#" + e)), $("#alwaysvisible_backgroundblur").length > 0 && ($("#alwaysvisible_backgroundblur").css("background-image", ""), $("#alwaysvisible_backgroundblur").css("background-color", "#" + e))), openWSE.BackgroundLoop(t, a) } function ia() { mn = $("#background-selector-holder").find("#dd_userimagefolder").val(), vn = !0, Xe() } function sa() { $("#hf_refreshbackgroundList").length > 0 && !openWSE_Config.demoMode && (T("Updating..."), $("#hf_refreshbackgroundList").val((new Date).toString()), __doPostBack("hf_refreshbackgroundList", "")) } function la() { "none" == $("#background-view-div").css("display") ? ($("#background-settings-div").hide(), $("#background-view-div").show()) : ($("#background-view-div").hide(), $("#background-settings-div").show()) } function ra(e) { if ($(e).length > 0) { var a = $(e).attr("data-name"), t = $(e).val(); switch ($(e).hasClass("background-setting-color") && (t = $.trim($("#tb_defaultbackgroundcolor").val()), openWSE_Config.defaultBackgroundColor = "#" + t), a) { case "backgroundposition": openWSE_Config.defaultBackgroundPosition = t; break; case "backgroundsize": openWSE_Config.defaultBackgroundSize = t; break; case "backgroundrepeat": "1" == t ? openWSE_Config.defaultBackgroundRepeat = "repeat" : openWSE_Config.defaultBackgroundRepeat = "no-repeat" } da(), openWSE_Config.demoMode || $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveBackgroundSetting", type: "POST", data: '{ "name": "' + a + '","value": "' + t + '" }', contentType: "application/json; charset=utf-8", success: function (e) { sa() } }) } } function da() { $("#site_mainbody").css("background-color", openWSE_Config.defaultBackgroundColor), $("#site_mainbody").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#site_mainbody").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#site_mainbody").css("background-size", openWSE_Config.defaultBackgroundSize), $("#sidebar_backgroundblur").length > 0 && ($("#sidebar_backgroundblur").css("background-color", openWSE_Config.defaultBackgroundColor), $("#sidebar_backgroundblur").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#sidebar_backgroundblur").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#sidebar_backgroundblur").css("background-size", openWSE_Config.defaultBackgroundSize)), $("#alwaysvisible_backgroundblur").length > 0 && ($("#alwaysvisible_backgroundblur").css("background-color", openWSE_Config.defaultBackgroundColor), $("#alwaysvisible_backgroundblur").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#alwaysvisible_backgroundblur").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#alwaysvisible_backgroundblur").css("background-size", openWSE_Config.defaultBackgroundSize)) } function pa(e) { var a = $(e), t = ""; t = a.find(".color-bg-div").length > 0 ? a.find(".color-bg-div").attr("data-color") : a.find("img").attr("data-imgsrc"), openWSE_Config.demoMode ? na(t) : (T("Saving Background"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + ga().replace("workspace_", "") + '","_img": "' + t + '","folder": "' + mn + '" }', contentType: "application/json; charset=utf-8", success: function (e) { 3 == e.d.length && (openWSE_Config.backgroundTimerLoop = e.d[1], na(e.d[0]), 6 == e.d[2].length && $("#BackgroundSelector-element").find(".img-list-selector").html(e.d[2][1])), openWSE.RemoveUpdateModal(), sa() } })) } function ca() { var e = $("#site_mainbody").css("background-image"); if (openWSE_Config.multipleBackgrounds ? (e = $("#MainContent_" + ga()).attr("data-backgroundimg"), e || (e = openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Body/default-bg.jpg")) : e = e ? e.replace('url("', "").replace("url('", "").replace('")', "").replace("')", "") : $("#site_mainbody").css("background-color"), e) { for (var a = e, t = e.split("|"), o = new Array, n = 0; n < t.length; n++) "" != t[n] && o.push(t[n]); o.length > 0 && (e = o[0]), e.length > 6 ? ($("#site_mainbody").css("background-image", "url('" + e + "')"), $("#sidebar_backgroundblur").length > 0 && $("#sidebar_backgroundblur").css("background-image", "url('" + e + "')"), $("#alwaysvisible_backgroundblur").length > 0 && $("#alwaysvisible_backgroundblur").css("background-image", "url('" + e + "')")) : ($("#site_mainbody").css("background-image", ""), $("#site_mainbody").css("background-color", "#" + e), $("#sidebar_backgroundblur").length > 0 && ($("#sidebar_backgroundblur").css("background-image", ""), $("#sidebar_backgroundblur").css("background-color", "#" + e)), $("#alwaysvisible_backgroundblur").length > 0 && ($("#alwaysvisible_backgroundblur").css("background-image", ""), $("#alwaysvisible_backgroundblur").css("background-color", "#" + e))), da(), openWSE.BackgroundLoop(a, "#site_mainbody") } } function ua(e) { $(e).find(".app-main-holder").each(function (e) { var a = $(this).attr("data-appid"); 0 != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + a + "']").length && "none" != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + a + "']").css("display") && $("#minimized-app-bar").find(".app-min-bar[data-appid='" + a + "']").hide() }) } function ha(e) { $(e).find(".app-main-holder").each(function (e) { var a = $(this).attr("data-appid"); 0 != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + a + "']").length && "none" == $("#minimized-app-bar").find(".app-min-bar[data-appid='" + a + "']").css("display") && $("#minimized-app-bar").find(".app-min-bar[data-appid='" + a + "']").show() }), $("#minimized-app-bar").fadeIn(openWSE_Config.animationSpeed) } function fa(e) { va(e), id = "#MainContent_workspace_" + e, za($(id)), $(id).css({ visibility: "visible", opacity: 1, filter: "alpha(opacity=100)" }), $("#workspace_holder .workspace-holder").each(function (e) { "visible" != $(this).css("visibility") && Fa(this) }), ca() } function ga() { for (var e = $("#workspace_holder").find(".workspace-holder"), a = e.length, t = 0; a > t; t++) if ("visible" == e.eq(t).css("visibility")) { var o = e.eq(t).attr("id"); return "workspace_" + o.substring(o.lastIndexOf("_") + 1) } return "workspace_1" } function ma(e, a) { Fa($(e)), Da($(a)), openWSE_Config.taskBarShowAll || (ua($(e)), ha($(a))), $(e).css({ opacity: 0, filter: "alpha(opacity=0)" }), openWSE_Config.animationSpeed > 0 ? $(a).fadeTo(openWSE_Config.animationSpeed, 1) : $(a).css({ opacity: 1, filter: "alpha(opacity=100)" }), ca(), za($(a)) } function va(e) { $("#ddl_WorkspaceSelector").find(".selected-workspace").html("Workspace " + e) } function ba() { $("#ddl_WorkspaceSelector").removeClass("active"), $("#ddl_WorkspaceSelector").parent().removeClass("active"), $("#ddl_WorkspaceSelector").find(".dropdown-db-selector").hide() } function $a(e, a, t, o) { setTimeout(function () { a == t ? a = 1 : a++; var n = "#MainContent_workspace_" + a; va(a); var i = !1, s = !1; $("#workspace_holder .workspace-holder").each(function () { "visible" == $(this).css("visibility") && (openWSE_Config.taskBarShowAll || $("#minimized-app-bar").fadeOut(openWSE_Config.animationSpeed), $(this).fadeTo(openWSE_Config.animationSpeed, 0, function () { return i ? void 0 : (i = !0, Fa(this), Da($(n)), openWSE_Config.taskBarShowAll || (ua(this), ha($(n))), $(n).find(".app-main-holder").each(function (e) { o && ya(this) }), ca(), za($(n)), $(n).fadeTo(openWSE_Config.animationSpeed, 1, function () { s || (s = !0) }), !1) })) }), $a(e, a, t, o) }, 1e3 * e) } function ya(e) { var a = ($(e).find(".app-title").eq(0).text(), $(e)), t = a.attr("data-appid"); if ("block" == a.css("display")) if (ja($(".app-main-holder[data-appid='" + t + "']")), $(".app-main-holder").css("z-index", "1000"), a.css("z-index", "3000"), a.find(".iFrame-apps").length > 0) { var o = a.find(".iFrame-apps"); o && null != o && null != o.src && (o.src = o.src) } else $("#hf_ReloadApp").val(t), __doPostBack("hf_ReloadApp", "") } function wa(e) { Bo = !0, e && (qo = !0, Io = !0), $("#updatePnl_AppList").sortable({ cancel: ".app-icon-category-list, #Category-Back, .app-popup", containment: "#updatePnl_AppList", opacity: .6, scrollSensitivity: 40, scrollSpeed: 40, start: function (e, a) { $(document).tooltip({ disabled: !0 }) }, stop: function (e, a) { var t = ""; $(".app-icon").each(function () { var e = $(this).attr("data-appid"); "" != e && -1 == t.indexOf(e) && (t += e + ",") }), qo && $.ajax({ url: Po + "/App_UpdateIcons", type: "POST", data: '{ "appList": "' + escape(t) + '" }', contentType: "application/json; charset=utf-8" }), openWSE_Config.showToolTips && $(document).tooltip({ disabled: !1 }) } }), 0 == $(".app-icon.Icon_Only").length && 0 == $(".app-icon.Icon_And_Text_Only").length && 0 == $(".app-icon.Icon_And_Color_Only").length && 0 == $(".app-icon.Icon_Plus_Color_And_Text").length && $("#updatePnl_AppList").sortable("option", "axis", "y"), $("#updatePnl_AppList").disableSelection() } function ka(e, a, t, o, n, i, s, l, r) { var d = $(".app-main-holder[data-appid='" + e + "']"); if (Wa(d), null != t && "" != t) { t = unescape(t), d.find(".app-title").text(a), openWSE.ConvertBitToBoolean(r) && (d.addClass("app-maximized"), d.find(".maximize-button-app").addClass("active")), "" != i && d.css("width", i), "" != s && d.css("height", s), openWSE.ConvertBitToBoolean(l) ? (Ca(d, a, o, n), Fa(d)) : (d.css({ visibility: "visible", display: "block", zIndex: 3e3 }), openWSE.ConvertBitToBoolean(r) || (d.removeClass("app-maximized"), d.find(".maximize-button-app").removeClass("active"), parseInt(n) < 0 && (n = "0"), parseInt(o) < 0 && (o = "0"), d.css({ left: o, top: n }))), Ra(t) ? Ba(d.attr("data-appid")) : -1 != t.indexOf("ChatClient/ChatWindow.html") ? (d.find(".app-body").html("<iframe class='iFrame-apps' src='" + openWSE.siteRoot() + t + "' width='100%' frameborder='0'></iframe>"), ja(d), d.find("iframe").one("load", function () { ja(d), d.find(".loading-background-holder").each(function () { $(this).remove() }) })) : La(t) || Na(t) ? (d.find(".app-body").html("<iframe class='iFrame-apps' src='" + t + "' width='100%' frameborder='0'></iframe>"), ja(d), d.find("iframe").one("load", function () { ja(d), d.find(".loading-background-holder").each(function () { $(this).remove() }) })) : d.find(".app-body").load(t, function () { Ba(d.attr("data-appid")), d.find(".app-body").find("iframe").length > 0 && (d.find(".app-body").find(".loading-background-holder").length <= 0 && _t(d.find(".app-body")), ja(d), d.find(".app-body").find("iframe").one("load", function () { ja(d), d.find(".app-body").find(".loading-background-holder").each(function () { $(this).remove() }) })) }), it(d); var p = d.parent().attr("id"); void 0 != p && null != p && "" != p && st(p, e) } } function Ca(e, a, t, o) { var n = $(e); if (n.length > 0) { var i = n.attr("data-appid"), s = n.find(".app-header-icon"), l = n.find(".app-title").eq(0), r = !1, d = !1, p = "", c = "app-min-bar"; -1 != i.replace(/#/gi, "").indexOf("app-ChatClient-") && (c = "app-min-bar chat-modal", p = " chat-username='" + n.attr("chat-username") + "'"); var u = "<div data-appid='" + i + "' class='" + c + "'" + p + " data-x='" + t + "' data-y='" + o + "'>"; if (s.hasClass("display-none") || 0 == s.length || l.hasClass("display-none")) if ((s.hasClass("display-none") || 0 == s.length) && l.hasClass("display-none")) u += "<span class='app-title pad-right'>" + a + "</span>", u += "<a href='#" + i + "' class='exit-button-app-min'></a></div>"; else { var h = !1, f = !0; s.hasClass("display-none") || (u += s.outerHTML(), h = !0, "none" == s.css("display") && (r = !0)), l.hasClass("display-none") ? (u += "<span class='app-title pad-right display-none'>" + a + "</span>", d = !0, f = !1) : u += "<span class='app-title pad-right'>" + a + "</span>"; var g = ""; h && !f && (g = " style='margin-left: 5px;'"), u += "<a href='#" + i + "' class='exit-button-app-min'" + g + "></a></div>" } else u += s.outerHTML(), "none" == s.css("display") && (r = !0), u += "<span class='app-title pad-right'>" + a + "</span>", u += "<a href='#" + i + "' class='exit-button-app-min'></a></div>"; 0 == $(".app-min-bar[data-appid='" + i + "']").length && $("#minimized-app-bar").append(u), r && $(".app-min-bar[data-appid='" + i + "']").find(".app-header-icon").show(), d && $(".app-min-bar[data-appid='" + i + "']").attr("title", a); var m = $(".app-icon[data-appid='" + i + "']"); if (m.length > 0 && (m.hasClass("Color_And_Description") || m.hasClass("Icon_And_Color_Only") || m.hasClass("Icon_Plus_Color_And_Text"))) { var v = $(".app-icon[data-appid='" + i + "']").css("background"); $(".app-min-bar[data-appid='" + i + "']").css("background", v); var b = $(".app-min-bar[data-appid='" + i + "']").find(".app-title").eq(0); if (b.length > 0) { var y = m.find(".app-icon-font").css("color"); b.css("color", y) } } n.css({ visibility: "hidden", display: "block" }) } } function _a(e, a) { var t = $(e).find(".app-icon-font").text(); "" == t && (t = $(e).find(".app-title").eq(0).text(), "" == t && (t = $(e).find("span").text())); var o = $(e).attr("data-appid"); if (void 0 != o && null != o && "" != o) { var n = $(".app-main-holder[data-appid='" + o + "']"); Wa(n); var i = n.attr("data-content"); "" == i || null == i || void 0 == i ? $.ajax({ url: Po + "/App_Open", type: "POST", data: '{ "appId": "' + o + '","name": "' + t + '","workspace": "' + a + '","width": "' + n.width() + '","height": "' + n.height() + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function (e) { "" != e.d && Sa(n, o, a, e.d, t) } }) : (Sa(n, o, a, i, t), $.ajax({ url: Po + "/App_Open_NoContent", type: "POST", data: '{ "appId": "' + o + '","name": "' + t + '","workspace": "' + a + '","width": "' + n.width() + '","height": "' + n.height() + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" })) } } function Sa(e, a, t, o, n) { var i = $(e); Qa(i), qa(t, a), st(t, a); var s = i.width(), l = i.height(); if ("block" != i.css("display") || "visible" != i.css("visibility")) { var r = ""; if (r = null == i.find(".app-body").find("div").html() ? $.trim(i.find(".app-body").html()) : $.trim(i.find(".app-body").find("div").html()), "" == r) { if (-1 != a.indexOf("app-ChatClient-")) { var d = i.attr("chat-username"); o = "ChatClient/ChatWindow.html?user=" + d + "&displayVersion=workspace" } null == i.css("left") && null == i.css("top") || "auto" == i.css("left") && "auto" == i.css("top") ? ka(a, n, o, "50px", "50px", s, l, "1", "0") : (parseInt(i.css("top")) < 0 && i.css("top", "50px"), parseInt(i.css("left")) < 0 && i.css("left", "50px"), ka(a, n, o, i.css("left"), i.css("top"), s, l, "1", "0")) } if (i.css("display", "block"), i.css("visibility", "visible"), i.css("z-index", "3000"), 0 != $(".app-min-bar[data-appid='" + a + "']").length) { i.find(".loading-background-holder").length <= 0 && "" == r && _t(i.find(".app-body")), i.hasClass("auto-full-page") || i.hasClass("auto-full-page-min") || i.hasClass("app-maximized") || i.hasClass("app-maximized-min") ? (Va(i), i.find(".maximize-button-app").addClass("active"), i.css("top", "0px")) : (i.find(".maximize-button-app").removeClass("active"), i.css("width", s), i.css("height", l), i.css("top", Go)); var p = $(".app-min-bar[data-appid='" + a + "']").attr("data-x"), c = $(".app-min-bar[data-appid='" + a + "']").attr("data-y"); jo && zo == a ? i.css({ visibility: "visible", display: "block", opacity: 1, left: p, top: c }) : i.css({ visibility: "visible", display: "block" }).animate({ opacity: 1, filter: "alpha(opacity=100)", left: p, top: c }, openWSE_Config.animationSpeed), $.ajax({ url: Po + "/App_Move", type: "POST", data: '{ "appId": "' + a + '","name": "' + n + '","x": "' + p + '","y": "' + c + '","width": "' + s + '","height": "' + l + '","workspace": "' + t + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }), za(i) } else i.css({ top: Go, visibility: "visible", display: "block" }).fadeIn(openWSE_Config.animationSpeed); if ($(".app-min-bar[data-appid='" + a + "']").remove(), jo = !1, zo = "", 1 == No) { var u = document.getElementById("hf_loadApp1"); 0 == Uo.length ? (Uo[0] = a, u.value = a, __doPostBack("hf_loadApp1", "")) : Uo[Uo.length - 1] = a } else Ra(o) && 0 == No && i.find(".loading-background-holder").each(function () { $(this).remove() }) } } function Wa(e) { var a = $(e); if (a.length > 0 && a.hasClass("app-main-style3") && !a.hasClass("style3-resize-applied") && a.find(".app-head").length > 0) { var t = window.getComputedStyle(a.find(".app-head")[0], null).getPropertyValue("height"); if (t) { var o = parseInt(t.replace("px", "").replace("em", "")); if (o) { var n = parseInt(a.css("min-height").replace("px", "").replace("em", "")); n && a.css("min-height", n - o); var i = parseInt(a.css("height").replace("px", "").replace("em", "")); i && a.css("height", i - o); var s = parseInt(a.find(".app-body").css("height").replace("px", "").replace("em", "")); s && a.find(".app-body").css("height", s - o) } } a.addClass("style3-resize-applied") } } function xa(e, a, t) {
        if (void 0 != e && null != e && "" != e) {
            $("#ConfirmApp-element").remove(), T("Loading. Please Wait..."), cookie.set("active_app", e, 30); var o = $(".app-main-holder[data-appid='" + e + "']").width(), n = $(".app-main-holder[data-appid='" + e + "']").height(); $.ajax({
                url: Po + "/App_Open_ChangeWorkspace", type: "POST", data: '{ "appId": "' + e + '","name": "' + a + '","workspace": "' + t + '","width": "' + o + '","height": "' + n + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }',
                contentType: "application/json; charset=utf-8", success: function (e) { window.location = openWSE.siteRoot() + "Workspace.aspx" }
            })
        }
    } function Ea(e, a) { "none" == $(".app-main-holder[data-appid='" + $(e).attr("data-appid") + "']").css("display") && (No = a) } function Ma(e) { var a = $(".app-main-holder[data-appid='" + e + "']"); a.find("iframe").one("load", function () { a.find(".loading-background-holder").each(function () { $(this).remove() }) }) } function Ta(e) { for (var a = document.getElementById("hf_loadApp1"), t = 0; t < Uo.length; t++) Uo[t] == e && Uo.splice(t, 1); var o = "#MainContent_" + e.replace(/-/gi, "_") + "_advPanel"; $(o).html(""), $(".move-holder").find(".main-div-app-bg").length > 0 && $(o).hide().append($(".move-holder").find(".main-div-app-bg")).show(); var n = $(".app-main-holder[data-appid='" + e + "']"), i = $(o).closest(".app-body").parent().parent(); i.length > 0 && (Ba(e), n.length > 0 && n.find(".outside-main-app-div").each(function () { $(this).addClass(e + Qo), i.append($(this)) }), $(".move-holder").find(".outside-main-app-div").length > 0 && $(".move-holder").find(".outside-main-app-div").each(function () { 1 == n.length && ($(this).addClass(e + Qo), i.append($(this))) })), ja(n), n.find(".loading-background-holder").each(function () { $(this).remove() }), Uo.length > 0 && (a.value = Uo[0], __doPostBack("hf_loadApp1", "")), No = 0 } function Aa() { $(".outside-main-app-div").each(function () { var e = $(this).closest(".app-body").parent().parent(); if (e.length > 0 && 1 == $("#" + $(this).attr("id")).length) { var a = $(this).closest(".app-body").parent().attr("data-appid"); $(this).addClass(a + Qo), e.append($(this)) } }) } function Oa(e) { var a = $(".app-main-holder[data-appid='" + e + "']").parent(); $("." + e + Qo).each(function () { a.length > 0 && 1 == $("#" + $(this).attr("id")).length && a.append($(this)) }) } function Ba(e) { var a = $(".app-main-holder[data-appid='" + e + "']"); if (0 === a.length && (a = $(".workspace-overlay-selector[data-overlayid='" + e + "']")), a.length > 0) { var t = document.head || document.getElementsByTagName("head")[0]; a.find("link").each(function () { if (0 === $("link[data-id='" + e + "']").length) { var a = $.trim($(this).attr("href")); a && (a = Pa(a), 0 == a.indexOf("~/") ? (a = openWSE.siteRoot() + a.replace("~/", ""), $(this).attr("href", a)) : 0 == a.indexOf("App/") && (a = openWSE.siteRoot() + a, $(this).attr("href", a))), $(this).attr("data-id", e), $(document.head).append($(this)) } }), a.find("style").each(function () { 0 === $("style[data-id='" + e + "']").length && ($(this).attr("data-id", e), $(document.head).append($(this))) }), a.find("script").each(function () { if (0 === $("script[data-id='" + e + "']").length) { var a = $.trim($(this).attr("src")); if (a) { a = Pa(a), 0 == a.indexOf("~/") ? a = openWSE.siteRoot() + a.replace("~/", "") : 0 == a.indexOf("App/") && (a = openWSE.siteRoot() + a); var o = document.createElement("script"); o.src = a, o.type = $(this).attr("type"); var n = document.createAttribute("data-id"); n.value = e, o.setAttributeNode(n), o.async = !1, $(this).remove(), t.insertBefore(o, t.firstChild) } else $(this).attr("data-id", e), $(document.head).append($(this)) } }), a.find("input[data-scriptelement='true']").each(function () { var a = $(this).attr("data-tagname"); if (a) { a = $.trim(a).toLowerCase(); var o = $(this).attr("data-tagtype"); o && (o = $.trim(o)); var n = $(this).attr("data-tagrel"); n && (n = $.trim(n)); var i = $(this).attr("data-tagsrc"); i && (i = $.trim(i), i = Pa(i), 0 == i.indexOf("~/") ? i = openWSE.siteRoot() + i.replace("~/", "") : 0 == i.indexOf("App/") && (i = openWSE.siteRoot() + i)); var s = document.createElement(a); if (s) { var l = document.createAttribute("data-id"); switch (l.value = e, s.setAttributeNode(l), s.type = o, n && (s.rel = n), a) { case "script": if (0 === $("script[data-id='" + e + "']").length) { s.src = i; var r = $(this).attr("data-tagasync"); r ? s.async = "true" == $.trim(r) : s.async = !1, t.insertBefore(s, t.firstChild) } break; case "link": 0 === $("link[data-id='" + e + "']").length && (s.href = i, t.insertBefore(s, t.firstChild)) } } } }) } } function Ia(e) { $("link[data-id='" + e + "']").length > 0 && $("link[data-id='" + e + "']").remove(), $("style[data-id='" + e + "']").length > 0 && $("style[data-id='" + e + "']").remove(), $("script[data-id='" + e + "']").length > 0 && $("script[data-id='" + e + "']").remove() } function Pa(e) { if (openWSE_Config.appendTimestampOnScripts) { var a = Math.floor(Date.now() / 1e3); e += e.indexOf("?") > 0 ? "&" + openWSE_Config.timestampQuery + a : "?" + openWSE_Config.timestampQuery + a } return e } function La(e) { return e = e.toLowerCase(), e.length > 5 && ".aspx" == e.substring(e.length - 5) ? !0 : !1 } function Ra(e) { return e = e.toLowerCase(), e.length > 5 && ".ascx" == e.substring(e.length - 5) ? !0 : !1 } function Na(e) { return e = e.toLowerCase(), -1 != e.indexOf("http://") || -1 != e.indexOf("https://") || -1 != e.indexOf("www.") ? !0 : !1 } function za(e) { $(e).find(".app-main-holder").each(function (e) { ja(this) }) } function ja(e) { var a = $(e); if (a.length > 0 && a.hasClass("app-main-holder")) { var t = a.outerHeight(), o = a.find(".app-head"), n = 0; o.length > 0 && "none" != o.css("display") && (n = o.outerHeight()); var i = 0; if ("" != a.css("border")) { var s = a.css("border").split("px")[0]; s = parseInt(s), s && "NaN" != s.toString() && (i = 2 * s) } else { if ("" != a.css("border-top")) { var s = a.css("border-top").split("px")[0]; s = parseInt(s), s && "NaN" != s.toString() && (i = s) } if ("" != a.css("border-bottom")) { var s = a.css("border-bottom").split("px")[0]; s = parseInt(s), s && "NaN" != s.toString() && (i += s) } } var l = t - (n + i); if (a.find(".app-body").css({ height: l, width: a.width() }), a.find(".iFrame-apps").length > 0) { var r = 0; a.find(".app-title-bg-color").length > 0 && (r = a.find(".app-title-bg-color").outerHeight()), a.find(".iFrame-apps").css("height", l - r) } } } function Ua(e) { var a = $(e); a.length > 0 && ($wo = a.find(".app-overlay-fix"), 0 == $wo.length && ($wb = a.find(".app-body"), 1 == $wb.length && $wb.append("<div class='app-overlay-fix'></div>"))) } function Ha(e) { $wo = $(e).find(".app-overlay-fix"), 1 == $wo.length && $wo.remove() } function Fa(e) { var a = $(e), t = a.height(), o = $(window).height(), n = -(t + o); a.css({ visibility: "hidden", top: n, bottom: o, zIndex: -1 }), Ga(e) } function Da(e) { var a = $(e); a.css({ visibility: "visible", top: 0, bottom: 0, zIndex: "" }), Va(a) } function qa(e, a) { var t = $(".app-main-holder[data-appid='" + a + "']"); Va(t); var o = t.parent().attr("id"), n = "MainContent_" + e; if (o != n) { var i = t.find("iframe").length; i > 0 && (t.find(".loading-background-holder").length <= 0 && _t(t.find(".app-body")), Ma(a)), $("#" + n).prepend(t), st(e, a), Oa(a), ja(t) } } function Ga(e) { var a = $(e); a.hasClass("app-maximized") && (a.removeClass("app-maximized"), a.addClass("app-maximized-min")), a.hasClass("auto-full-page") && (a.removeClass("auto-full-page"), a.addClass("auto-full-page-min")) } function Va(e) { var a = $(e); a.hasClass("app-maximized-min") && (a.removeClass("app-maximized-min"), a.addClass("app-maximized")), a.hasClass("auto-full-page-min") && (a.removeClass("auto-full-page-min"), a.addClass("auto-full-page")), ja(e) } function Ya(e) { if (!jo) { jo = !0, zo = $(e).attr("data-appid"); var a = ga(), t = $("#MainContent_" + a).find(".app-main-holder[data-appid='" + zo + "']"); if (t.length > 0) { var o = $(".app-min-bar[data-appid='" + zo + "']").attr("data-x"), n = $(".app-min-bar[data-appid='" + zo + "']").attr("data-y"); (null == o || "" == o) && (o = p.left - $("#workspace-selector").width()), (null == n || "" == n) && (n = 0), Va(t), t.css("left", o), t.css("top", n), t.addClass("app-min-bar-preview"), t.fadeTo(openWSE_Config.animationSpeed, .65) } } } function Ka() { var e = $(".app-main-holder[data-appid='" + zo + "']"); if (e.hasClass("app-min-bar-preview")) e.css("opacity", "0.0"), e.css("filter", "alpha(opacity=0)"), e.removeClass("app-min-bar-preview"), Ga(e), Fa(e), zo = "", jo = !1; else { var a = ga(), e = $("#MainContent_" + a).find(".app-main-holder[data-appid='" + zo + "']"); 0 == e.length && (zo = "", jo = !1) } } function Qa(e) { if (openWSE.IsComplexWorkspaceMode()) { var a = $(e); if (Ja(a), a.length > 0) { a.addClass("selected"), a.css("z-index", "3000"); var t = a.attr("data-appid"); cookie.set("active_app", t, "30") } } } function Ja(e) { if (openWSE.IsComplexWorkspaceMode()) { var a = $(e).attr("data-appid"); $(".app-main-holder").css("z-index", "1000"), $(".app-main-holder").removeClass("selected"), $(".app-main-holder").each(function (e) { var t = $(this).attr("data-appid"); "block" == $(this).css("display") && (t != a ? Ua(this) : t == a && $(this).find(".app-overlay-fix").remove()) }) } } function Xa() { cookie.del("active_app"), $(".app-main-holder").each(function (e) { "block" == $(this).css("display") && Ua(this) }) } function Za() { if (openWSE.IsComplexWorkspaceMode()) { var e = cookie.get("active_app"); null != e && "" != e && void 0 != e ? Qa($(".app-main-holder[data-appid='" + e + "']")) : Xa() } } function et() { var e = cookie.get("app_category_id"), a = cookie.get("app_category"); null != document.getElementById("Category-Back") && null != e && "" != e && null != a && "" != a && $("." + e).length > 0 && ($(".app-icon-category-list").hide(), $("#Category-Back").show(), $("." + e).show(), $("#Category-Back-Name").html(a), $("#Category-Back-Name-id").html(e)), Ct() } function at(e, a, t, o) { $.ajax({ url: Po + "/App_RemoteLoad", data: '{ "_Id": "' + escape(e) + '" }', contentType: "application/json; charset=utf-8", dataType: "json", type: "POST", success: function (e) { try { null != e.d && tt(unescape(e.d[0]), unescape(e.d[1]), unescape(e.d[2])) } catch (n) { } O(), C(a, t, o) }, error: function (e) { O(), C(a, t, o) } }) } function tt(e, a, t) { if ("close" == a) { var o = $(".app-main-holder[data-appid='" + e + "']"); "block" == o.css("display") && o.find(".exit-button-app").length > 0 && (Do = !1, o.find(".exit-button-app").click()) } if ("close-all" == a) $(".app-main-holder").each(function () { "block" == $(this).css("display") && $(this).find(".exit-button-app").length > 0 && (Do = !1, $(this).find(".exit-button-app").click()) }); else if ("workspace-selector" == e) { try { $(".workspace-selection-item").eq(parseInt(a) - 1).trigger("click") } catch (n) { } var i = "#MainContent_" + ga(), s = "#MainContent_workspace_" + a; va(a), ma(i, s) } else { var l = a.split(";"), r = "1"; if (r = "" != l[0] && "0" != l[0] ? l[0] : ga().replace("workspace_", ""), No = openWSE.ConvertBitToBoolean(t) ? 1 : 0, -1 != e.indexOf("app-ChatClient-")) for (var d = e.replace("app-ChatClient-", ""), p = 0; p < $(".ChatUserNotSelected").length; p++) { var c = $(".ChatUserNotSelected").eq(p); if (1 == c.length && 1 == c.find(".usersclick[chat-userid='" + d + "']").length) { var u = $.trim(c.find(".usersclick[chat-userid='" + d + "']").html()), h = c.attr("chat-username"); return void chatClient.BuildChatWindow(h, d, u) } } var o = $(".app-icon[data-appid='" + e + "']"); if (0 == o.length) return; var f = l[2].replace("px", ""), g = l[3].replace("px", ""), m = l[4].replace("px", ""), v = l[5].replace("px", ""); if ("" != $("#hf_appContainer").val()) { var f = parseInt(f), g = parseInt(g), m = parseInt(m), v = parseInt(v); g + m > $("#container").width() && (g = Math.abs($("#container").width() - m) - 2), f + v > $("#container").height() && (f = Math.abs($("#container").height() - v) - 2) } if ("block" == $(".app-main-holder[data-appid='" + e + "']").css("display") ? $(".app-main-holder[data-appid='" + e + "']").css({ top: f + "px", left: g + "px" }) : $(".app-main-holder[data-appid='" + e + "']").css({ top: "auto", left: "auto" }), $(".app-main-holder[data-appid='" + e + "']").hasClass("ui-resizable") && $(".app-main-holder[data-appid='" + e + "']").css({ width: m + "px", height: v + "px" }), "block" == $(".app-main-holder[data-appid='" + e + "']").css("display")) { var b = $(".app-main-holder[data-appid='" + e + "']").find(".reload-button-app").parent(); gt(b) } _a(o, "workspace_" + r), 0 == o.hasClass("active") && o.addClass("active"), ot(e, r, l[1]) } } function ot(e, a, t) { var o = $(".app-main-holder[data-appid='" + e + "']"); if ("block" == o.css("display")) { a = a.substring(a.lastIndexOf("_") + 1); try { $(".workspace-selection-item").eq(parseInt(a) - 1).trigger("click") } catch (n) { } var i = "#MainContent_" + ga(), s = "#MainContent_workspace_" + a; if (va(a), ma(i, s), kt(a), "" != t) { var l = !1; switch (t) { case "minimize": if (0 == $(".app-min-bar[data-appid='" + e + "']").length) o.find(".minimize-button-app").length > 0 && (o.find(".minimize-button-app").click(), l = !0); else var r = setInterval(function () { "visible" == o.css("visibility") && (o.find(".minimize-button-app").click(), l = !0, clearInterval(r)) }, 50); break; case "maximize": o.find(".maximize-button-app").length > 0 && !o.hasClass("app-maximized") && (o.find(".maximize-button-app").click(), l = !0); break; case "normal": o.hasClass("app-maximized") && o.find(".maximize-button-app").length > 0 && (o.find(".maximize-button-app").click(), l = !0) } l || setTimeout(function () { $.ajax({ url: Po + "/App_Position", type: "POST", data: '{ "appId": "' + o.attr("data-appid") + '","posX": "' + o.css("left") + '","posY": "' + o.css("top") + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) }, openWSE_Config.animationSpeed) } } else setTimeout(function () { ot(e, a, t) }, 100) } function nt(e) { var a = ga(), t = $(e), o = t.find(".app-title").eq(0).text(), n = t.css("left").replace("px", ""), i = t.css("top").replace("px", ""), s = t.width(), l = t.height(); Qa(e), t.hasClass("app-maximized") ? (t.removeClass("app-maximized"), ja(e), t.find(".maximize-button-app").removeClass("active"), $.ajax({ url: Po + "/App_Maximize", type: "POST", data: '{ "appId": "' + t.attr("data-appid") + '","name": "' + o + '","x": "' + n + '","y": "' + i + '","width": "' + s + '","height": "' + l + '","workspace": "' + a + '","ismax": "0","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function (e) { Ho = !1, $(window).resize() }, error: function (e) { Ho = !1 } })) : (t.addClass("app-maximized"), ja(e), t.find(".maximize-button-app").addClass("active"), $.ajax({ url: Po + "/App_Maximize", type: "POST", data: '{ "appId": "' + t.attr("data-appid") + '","name": "' + o + '","x": "' + n + '","y": "' + i + '","width": "' + s + '","height": "' + l + '","workspace": "' + a + '","ismax": "1","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function (e) { Ho = !1, $(window).resize() }, error: function (e) { Ho = !1 } })) } function it(e) { var a = $(e).attr("data-appid"); if (null != a && void 0 != a) if (-1 == a.indexOf("app-ChatClient-")) for (var t = $(".app-icon").find("span").length, o = 0; t > o; o++) { var n = $(".app-icon").eq(o).attr("data-appid"); n == a && 0 == $(".app-icon").eq(o).hasClass("active") && $(".app-icon").eq(o).addClass("active") } else { var i = $(".app-main-holder[data-appid='" + a + "']").attr("chat-username"); $(".ChatUserNotSelected[chat-username='" + i + "']").addClass("ChatUserSelected") } } function st(e, a) { if (openWSE_Config.ShowWorkspaceNumApp && openWSE.IsComplexWorkspaceMode()) { var t = $(".app-icon[data-appid='" + a + "']"); if (t.length > 0) { var o = "", n = a + "-workspace-reminder", i = "workspace-reminder font-no-bold " + n, s = "display:block;"; if (t.find(".app-icon-font").length > 0 && (t.hasClass("Icon_And_Color_Only") || t.hasClass("Color_And_Description") || t.hasClass("Icon_Plus_Color_And_Text"))) { var l = t.find(".app-icon-font").css("color"); s += "color:" + l + "!important;" } $("." + n).length > 0 && $("." + n).remove(); var r = e.substring(e.lastIndexOf("_") + 1); o = "<span class='" + i + "' style='" + s + "'>" + r + "</span>", "" != o && t.append(o) } } } function lt(e) { if (openWSE.IsComplexWorkspaceMode()) { var a = $(e).attr("data-appid"), t = $(".app-icon[data-appid='" + a + "']"); if (t.length > 0) { var o = a + "-workspace-reminder"; $("." + o).length > 0 && $("." + o).remove() } } } function rt(e) { var a = $(e).attr("data-appid"); if ($(".app-main-holder[data-appid='" + a + "']").find(".maximize-button-app").removeClass("active"), -1 == a.indexOf("app-ChatClient-")) for (var t = $(".app-icon").find("span").length, o = 0; t > o; o++) { var n = $(".app-icon").eq(o).attr("data-appid"); n == a && 1 == $(".app-icon").eq(o).hasClass("active") && $(".app-icon").eq(o).removeClass("active") } else { var i = $(".app-main-holder[data-appid='" + a + "']").attr("chat-username"); chatClient.displayMessageNoti(i); var s = $(".ChatUserNotSelected[chat-username='" + i + "']"); s.length > 0 && setTimeout(function () { s.removeClass("ChatUserSelected"), s.removeClass("chatisNew") }, openWSE_Config.animationSpeed), chatClient.notificationCleared = 1, document.title = chatClient.currTitle } } function dt(e, a) { $(".app-icon-category-list").hide(), $("#Category-Back").show(), 0 == openWSE_Config.animationSpeed || $(".app-icon.Icon_Only").length > 0 || $(".app-icon.Icon_And_Text_Only").length > 0 || $(".app-icon.Icon_And_Color_Only").length > 0 || $(".app-icon.Icon_Plus_Color_And_Text").length > 0 ? $("." + e).show() : $("." + e).show("slide", { direction: "right" }, openWSE_Config.animationSpeed), $("#Category-Back-Name").html(a), $("#Category-Back-Name-id").html(e), cookie.set("app_category", a, "30"), cookie.set("app_category_id", e, "30") } function pt() { if (openWSE.IsComplexWorkspaceMode()) { var e = ".app-body, .exit-button-app, .minimize-button-app, .maximize-button-app, .options-button-app, .app-maximized, .auto-full-page, .app-popup-inner-app, .app-head-style3"; "Style_3" != openWSE_Config.appStyle ? e += ", .app-head-button-holder" : "Style_3" == openWSE_Config.appStyle && ($(".app-main-style3 .app-head-hover-button").unbind("mouseenter"), $(".app-main-style3 .app-head-button-holder").unbind("mouseleave"), $(".app-main-style3 .app-head-hover-button").bind("mouseenter", function () { $(this).parent().find(".app-head-button-holder").show() }), $(".app-main-style3 .app-head-button-holder").bind("mouseleave", function () { wn || kn || $(this).parent().find(".app-head-button-holder").hide() }), $(document.body).on("click", ".move-button-app", function () { return !1 })), $(".app-main-holder").draggable({ scroll: !0, cancel: e, start: function (e, a) { var t = $(this); Qa(t), St(this), t.css("opacity", "0.6"), t.css("filter", "alpha(opacity=60)"), "Style_3" == openWSE_Config.appStyle && (t.find(".app-head-button-holder").show(), wn = !0), $(".app-main-holder").each(function (e) { "block" == $(this).css("display") && Ua(this) }), e.stopPropagation() } }).resizable({ handles: "se, s, e", minWidth: 150, minHeight: 150, create: function (e, a) { var t = $(this); t.hasClass("no-resize") && (!t.hasClass("app-main") || t.hasClass("auto-full-page") || t.hasClass("auto-full-page-min") ? t.hasClass("app-main") && (t.hasClass("auto-full-page") || t.hasClass("auto-full-page-min")) ? t.hasClass("auto-full-page-min") ? t.className = "app-main-holder app-main auto-full-page-min ui-draggable" : t.className = "app-main-holder app-main auto-full-page ui-draggable" : !t.hasClass("app-main-nobg") || t.hasClass("auto-full-page") || t.hasClass("auto-full-page-min") ? t.className = "app-main-holder app-main-nobg auto-full-page ui-draggable" : t.className = "app-main-holder app-main-nobg ui-draggable" : t.className = "app-main-holder app-main ui-draggable", t.find(".ui-resizable-handle").remove()) } }), openWSE_Config.appSnapHelper && $(".app-main-holder").draggable({ snap: ".app-snap-helper", snapped: function (e, a) { xt(a.snapElement) }, drag: function (e, a) { var t = $(this).data("ui-draggable"); $.each(t.snapElements, function (o, n) { n.snapping && t._trigger("snapped", e, $.extend({}, a, { snapElement: $(n.item) })) }) } }), "" != $("#hf_appContainer").val() && ($(".app-main-holder").draggable("option", "containment", $("#hf_appContainer").val()), $(".app-main-holder").resizable("option", "containment", "parent")), $(".app-main-holder").on("dragstop", function (e, a) { var t = $(this); "Style_3" == openWSE_Config.appStyle && (wn = !1), t.css("opacity", "1.0"), t.css("filter", "alpha(opacity=100)"), this.offsetTop < 0 && t.animate({ top: 0 }, openWSE_Config.animationSpeed, function () { t.css("top", "0") }), this.offsetLeft < 0 && t.animate({ left: 0 }, openWSE_Config.animationSpeed, function () { t.css("left", "0") }); var o = t.find(".app-title").eq(0).text(), n = ga(), i = t.width(), s = t.height(); Ha(this), $.ajax({ url: Po + "/App_Move", type: "POST", data: '{ "appId": "' + t.attr("data-appid") + '","name": "' + o + '","x": "' + t.css("left") + '","y": "' + t.css("top") + '","width": "' + i + '","height": "' + s + '","workspace": "' + n + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) }), $(".app-main-holder").on("resize", function (e, a) { if (null != a) { var t = $(this); if (t.hasClass("no-resize")) t.css({ width: bn, height: $n }); else { var o = a.size.width, n = parseInt(t.css("min-width")); n > o && (o = n); var i = a.size.height, s = parseInt(t.css("min-height")); s > i && (i = s), t.css({ width: o, height: i }), bn = o, $n = i, ct(this, o, i) } ja(this) } }), $(".app-main-holder").on("resizestart", function (e, a) { if (Jo = !0, $(this).hasClass("app-maximized")) { $(this).removeClass("app-maximized"); var t = $(this).find(".maximize-button-app"); t.length > 0 && t.removeClass("active") } null != $(this).data("ui-resizable") && (yn = $(this).data("ui-resizable").axis), Qa(this), St(this), $(".app-main-holder").each(function (e) { "block" == $(this).css("display") && Ua(this) }), e.stopPropagation() }), $(".app-main-holder").on("resizestop", function (e, a) { Jo = !1, $(this).hasClass("no-resize") || (ja(this), bn = 0, $n = 0, Ha(this), $.ajax({ url: Po + "/App_Resize", type: "POST", data: '{ "appId": "' + $(this).attr("data-appid") + '","width": "' + a.size.width + '","height": "' + a.size.height + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" })) }) } } function ct(e, a, t) { if (openWSE_Config.appSnapHelper) for (var o = $(e), n = o.position().top, i = o.position().left, s = ga(), l = $("#MainContent_" + s), r = 0; r < l.find(".app-snap-helper").length; r++) { var d = l.find(".app-snap-helper").eq(r); if (ut(e, d, i, a) || ht(e, d, n, t)) { ft(e, d); break } } } function ut(e, a, t, o) { var n = $(a).attr("data-type"), i = $(a).position().left, s = $(a).outerWidth(); if (!("se" != yn && "e" != yn || "left" != n && "right" != n)) { var l = t + o; if (l >= i + s - 10 && i + s + 10 >= l) { var r = 1; if ("" != $(e).css("border")) { var d = $(e).css("border").split("px")[0]; d = parseInt(d), d && "NaN" != d.toString() && (r = d - 2) } else if ("" != $(e).css("border-left")) { var d = $(e).css("border-left").split("px")[0]; d = parseInt(d), d && "NaN" != d.toString() && (r = d - 2) } return bn -= l - (i + r), !0 } } return !1 } function ht(e, a, t, o) { var n = $(a).attr("data-type"), i = $(a).position().top, s = $(a).outerHeight(); if (!("se" != yn && "s" != yn || "top" != n && "bottom" != n)) { var l = t + o; if (l >= i + s - 10 && i + s + 10 >= l) { var r = 1; if ("" != $(e).css("border")) { var d = $(e).css("border").split("px")[0]; d = parseInt(d), d && "NaN" != d.toString() && (r = d - 2) } else if ("" != $(e).css("border-top")) { var d = $(e).css("border-top").split("px")[0]; d = parseInt(d), d && "NaN" != d.toString() && (r = d - 2) } return $n -= l - (i + r), !0 } } return !1 } function ft(e, a) { xt(a), $(e).addClass("no-resize"), setTimeout(function () { $(e).removeClass("no-resize") }, 200) } function gt(e) { var a = ($(e).closest(".app-head-button-holder").parent().find(".app-title").eq(0).text(), $(e).closest(".app-head-button-holder").parent()), t = a.attr("data-appid"); ja(a), $(".app-main-holder").css("z-index", "1000"), a.css("z-index", "3000"); var o = a.find(".options-button-app"), n = o.parent(); o.removeClass("active"), n.find(".app-popup-inner-app").hide(), "Style_3" == openWSE_Config.appStyle && (n.find(".app-head-button-holder").hide(), kn = !1); var i = t + Qo; if ($("." + i).each(function () { $(this).remove() }), a.find(".iFrame-apps").length > 0) { var s = a.find(".iFrame-apps")[0]; if (null != s.src) { var l = s.src; s.src = "", setTimeout(function () { s.src = l, null == a.find(".app-body").find("div").html() ? (a.find(".app-body").find(".loading-background-holder").length <= 0 && _t(a.find(".app-body")), a.find(".iFrame-apps").one("load", function () { a.find(".app-body").find(".loading-background-holder").each(function () { $(this).remove() }) })) : (a.find(".app-body").find("div").find(".loading-background-holder").length <= 0 && _t(a.find(".app-body").find("div")), a.find(".iFrame-apps").one("load", function () { a.find(".app-body").find("div").find(".loading-background-holder").each(function () { $(this).remove() }) })) }, 100) } } else $("#MainContent_" + t.replace(/-/g, "_") + "_advPanel").length > 0 && $("#MainContent_" + t.replace(/-/g, "_") + "_advPanel").hide(), a.find(".app-body").find(".loading-background-holder").length <= 0 && _t(a.find(".app-body")), $("#hf_ReloadApp").val(t), __doPostBack("hf_ReloadApp", "") } function mt(e) { var a = $(e).closest(".app-head-button-holder").parent(), t = a.attr("data-appid"); $("#hf_aboutstatsapp").val("about;" + t); var o = a.find(".options-button-app"), n = o.parent(); o.removeClass("active"), n.find(".app-popup-inner-app").hide(), "Style_3" == openWSE_Config.appStyle && (n.find(".app-head-button-holder").hide(), kn = !1), $("#MainContent_pnl_aboutHolder").html(""), T("Loading. Please Wait..."), __doPostBack("hf_aboutstatsapp", "") } function vt(e) { openWSE.ConfirmWindow("Are you sure you want to remove this app?", function () { $("#hf_aboutstatsapp").val("uninstall;" + e), $(".app-main-holder[data-appid='" + e + "']").find(".exit-button-app").trigger("click"), $(".app-main-holder[data-appid='" + e + "']").remove(), T("Removing App"), __doPostBack("hf_aboutstatsapp", "") }, null) } function bt(e, a) { var t = $(e).closest(".app-head-button-holder").parent(), o = 315, n = 425; if (t.length > 0) { var i = t.find(".app-title").eq(0).text(); o = t.width(), n = t.height() } t.fadeOut(openWSE_Config.animationSpeed, function () { t.hasClass("app-maximized") && t.removeClass("app-maximized"), lt(t), rt(t); var e = 1, a = document.getElementById("hf_" + t.attr("id")); null != a && (e = 0), null == t.find(".app-body").find("div").html() ? 1 == e && t.find(".app-body").html("") : 1 == e && t.find(".app-body").find("div").html(""), t.css({ visibility: "hidden", left: "", top: "", width: "", height: "" }), t.find(".options-button-app").length > 0 && (t.find(".options-button-app").removeClass("active"), t.find(".app-popup-inner-app").hide(), "Style_3" == openWSE_Config.appStyle && (t.find(".app-head-button-holder").hide(), kn = !1)), $.ajax({ url: Po + "/App_Close", type: "POST", data: '{ "appId": "' + t.attr("data-appid") + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) }); var s = "width=" + o + "px,height=" + n + "px,location=no,menubar=no,toolbar=no,status=no,resizable=yes,scrollbars=yes"; myWindow = window.open(a, i, s), myWindow.focus() } function $t(e, a) { var t = "width=400px,height=400px,location=no,menubar=no,toolbar=no,status=no,resizable=yes,scrollbars=yes"; myWindow = window.open(a, e, t), myWindow.focus(), $("#ConfirmApp-element").remove(), openWSE.LoadModalWindow(!1, "ConfirmApp-element", "") } function yt(e, a) { if (openWSE.IsComplexWorkspaceMode()) { x(); var t = "fullscreen=yes,location=no,menubar=no,toolbar=no,status=no,resizable=yes,scrollbars=yes"; myWindow = window.open(a, e, t), myWindow.focus() } else window.location.href = a.replace("?toolView=true", "") } function wt(e) { if (openWSE.IsComplexWorkspaceMode()) { x(); var a = "fullscreen=yes,location=no,menubar=no,toolbar=no,status=no,resizable=yes,scrollbars=yes"; myWindow = window.open(e, "", a), myWindow.focus() } else window.location.href = e.replace("?toolView=true", "").replace("&toolView=true", "") } function kt(e) { var a = ""; if (a = $(e).length > 0 ? $(e).hasClass("app-popup-selector") || $(e).hasClass("app-options-workspace-switch") ? $.trim($(e).val()) : $.trim($(e).text()) : e, "" != a && "-" != a) { va(a); var t = a; a = "workspace_" + a; var o = ga(); $_name = $(e).closest(".app-icon"), 0 == $_name.length && ($_name = $(e).closest(".app-head-button-holder").parent()); var n = 0, i = $_name.attr("data-appid"); "" != i && void 0 != i && null != i && (st(a, i), "block" == $("#" + i).css("display") && (n = 1)), (o != a || 0 == n || 1 == n && o == a) && ($.ajax({ url: Po + "/App_CurrentWorkspace", type: "POST", data: '{ "workspace": "' + t + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }), _a($_name, a), o != a && (_id = "#MainContent_" + a, $("#workspace_holder .workspace-holder").each(function () { "visible" == $(this).css("visibility") && (openWSE_Config.taskBarShowAll || $("#minimized-app-bar").fadeOut(openWSE_Config.animationSpeed), $(this).fadeTo(openWSE_Config.animationSpeed, 0, function () { Fa(this), openWSE_Config.taskBarShowAll || (ua(this), ha(_id)) })) }), $(_id).fadeTo(openWSE_Config.animationSpeed, 1), Da($(_id)), za($(_id)), Oa(i), $(".app-options").css("visibility", "hidden"), setTimeout(function () { $(".app-popup").hide() }, openWSE_Config.animationSpeed))) } } function Ct() { $(".app-main-holder").each(function () { if ("block" == $(this).css("display")) { it(this); var e = $(this).parent().attr("id"); void 0 != e && null != e && "" != e && st(e, $(this).attr("data-appid")) } }) } function _t(e) { $(e).append(Lo); var a = $(e).closest(".app-main-holder"); if (a.length > 0) { var t = $(".app-icon[data-appid='" + a.attr("data-appid") + "']"); t.length > 0 && t.find("img").length > 0 && "none" != t.find("img").css("display") && !t.find("img").hasClass("display-none") && $(e).find(".loading-background-holder").css("background-image", "url('" + t.find("img").attr("src") + "')") } } function St(e) { if (openWSE_Config.appSnapHelper && (Et(e), null != e)) { var a = $(e).data("ui-draggable"), t = ga(), o = $("#MainContent_" + t); o.length > 0 && o.find(".app-main-holder").each(function () { if (!$(this).hasClass("app-maximized") && !$(this).hasClass("auto-full-page")) { var t = $(this).attr("data-appid"); if ("block" == $(this).css("display") && "hidden" != $(this).css("visibility") && $(e).attr("data-appid") != t && 0 == $(".app-snap-helper[data-appid='" + t + "']").length) { var n = Mt(this, "left", 0, 0), i = Mt(this, "right", 0, 0), s = Mt(this, "top", 0, 0), l = Mt(this, "bottom", 0, 0), r = parseInt($(this).css("left").replace("px", "")) + (n - 1), d = r + $(this).outerWidth() - (i + n) + 1, p = parseInt($(this).css("top").replace("px", "")) + (s - 1), c = p + $(this).outerHeight() - (l + s) + 1; o.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='left' style='left: " + r + "px; top: 0; bottom: 0; width: 1px;'></div>"), o.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='right' style='left: " + d + "px; top: 0; bottom: 0; width: 1px;'></div>"), o.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='top' style='top: " + p + "px; left: 0; right: 0; height: 1px;'></div>"), o.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='bottom' style='top: " + c + "px; left: 0; right: 0; height: 1px;'></div>"), a && Wt(t, r, d, p, c, a) } } }) } } function Wt(e, a, t, o, n, i) { var s = $(".app-main-holder[data-appid='" + e + "']"), l = Mt(s, "left", -1, 1), r = Mt(s, "right", -1, -1), d = Mt(s, "top", -1, 1), p = Mt(s, "bottom", -1, -1), c = { height: $(".app-snap-helper[data-appid='" + e + "'][data-type='left']").height(), item: $(".app-snap-helper[data-appid='" + e + "'][data-type='left']")[0], left: a + $("#sidebar_menulinks").outerWidth() + l, snapping: !1, top: $("#always-visible").outerHeight(), width: 1 }, u = { height: $(".app-snap-helper[data-appid='" + e + "'][data-type='right']").height(), item: $(".app-snap-helper[data-appid='" + e + "'][data-type='right']")[0], left: t + $("#sidebar_menulinks").outerWidth() + r, snapping: !1, top: $("#always-visible").outerHeight(), width: 1 }, h = { height: 1, item: $(".app-snap-helper[data-appid='" + e + "'][data-type='top']")[0], left: $("#sidebar_menulinks").outerWidth(), snapping: !1, top: o + $("#always-visible").outerHeight() + d, width: $(".app-snap-helper[data-appid='" + e + "'][data-type='top']").width() }, f = { height: 1, item: $(".app-snap-helper[data-appid='" + e + "'][data-type='bottom']")[0], left: $("#sidebar_menulinks").outerWidth(), snapping: !1, top: n + $("#always-visible").outerHeight() + p, width: $(".app-snap-helper[data-appid='" + e + "'][data-type='bottom']").width() }; i.snapElements.push(c), i.snapElements.push(u), i.snapElements.push(h), i.snapElements.push(f) } function xt(e) { e && ($(e).addClass("app-snap-helper-highlight"), setTimeout(function () { $(e).removeClass("app-snap-helper-highlight") }, 1500)) } function Et(e) { var a = $(e).data("ui-draggable"); a && (a.snapElements = new Array), $(".app-snap-helper").remove() } function Mt(e, a, t, o) { var n = $(e); if (n.length > 0) if ("" != n.css("border")) { var i = n.css("border").split("px")[0]; if (i = parseInt(i), i && "NaN" != i.toString()) return i + t } else if ("" != n.css("border-" + a)) { var i = n.css("border-" + a).split("px")[0]; if (i = parseInt(i), i && "NaN" != i.toString()) return i + t } return o } function Tt() { var e = -1; if ("Microsoft Internet Explorer" == navigator.appName) { var a = navigator.userAgent, t = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"); null != t.exec(a) && (e = parseFloat(RegExp.$1)) } return e } function At() { var e = Tt(); e > -1 && 8 > e && openWSE.AlertWindow("You might want to consider upgrading your copy of Internet Explorer. Some features may not work correctly.") } function Ot() { $("#group_tab").find(".a").hasClass("active") ? setTimeout(function () { $("#group_tab").find("#grouplistdiv").html("") }, openWSE_Config.animationSpeed) : It() } function Bt() { $("#group_tab").find(".a").hasClass("active") && It() } function It() {
        var e = $("#group_tab").find("#grouplistdiv"); e.html(Ao), $.ajax({
            url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/GetUserGroups", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (a) {
                var t = "<div class='table-settings-box no-border no-margin no-padding'><div class='td-settings-ctrl'>"; try {
                    for (var o = 0; o < a.d[0].length; o++) { var n = a.d[0][o][0], i = a.d[0][o][1], s = a.d[0][o][2], l = a.d[0][o][3], r = a.d[0][o][4], d = "style=\"background: url('" + r + "'); background-size: cover;\""; t += "<div class='group-selection-entry' onclick='openWSE.LoginAsGroup(\"" + n + "\")' title='Click to login' " + d + ">", t += "<div class='overlay'></div>", t += "<div class='group-selection-info'>", t += "<div class='group-name-info'>", t += "<span class='group-name'>" + i + "</span><div class='clear-space-five'></div>", t += "<span class='group-info'><b class='pad-right-sml'>Owner:</b>" + l + "</span>", t += "</div>", t += "<img class='group-img' alt='Group Logo' src='" + s + "' />", t += "</div></div>" } openWSE.ConvertBitToBoolean(a.d[1]) && (t += "<div class='logingroupselector-logout' onclick='openWSE.LoginAsGroup(\"\")'>", t += "<div>Log Out of Group</div>", t += "</div>"), t += "</div>", t += "<div class='td-settings-desc'>You must be apart of that group in order to login. Once logged in, all default settings for that group will be applied to your account. These settings will be removed once you log out of the group. Your Apps, Overlays, and Notifications will be overridden with the group's settings.</div></div>";
                } catch (p) { } e.html(t), Rt()
            }
        })
    } function Pt(e) { T("" != e ? "Logging into Group" : "Logging out of Group"), x(), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/LoginUnderGroup", type: "POST", data: '{ "id": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (a) { "true" == a.d ? location.reload() : window.location = "Default.aspx?group=" + e }, error: function (e) { O() } }) } function Lt() { setTimeout(function () { $("#group_tab").find("#grouplistdiv").html("") }, openWSE_Config.animationSpeed) } function Rt() { if ($("#group_tab").find(".b").is(":visible")) { var e = 65, a = $(window).height() - (e + Go); $("#grouplistdiv").css({ maxHeight: a }) } } function Nt() { var e = location.hash; try { if (-1 != e.indexOf("?iframecontent=")) { var a = e.split("?iframecontent="); a.length > 1 && openWSE.LoadIFrameContentHistory(a[1], "Content") } else if (-1 != e.indexOf("&iframecontent=")) { var a = e.split("&iframecontent="); a.length > 1 && openWSE.LoadIFrameContentHistory(a[1], "Content") } else -1 != e.indexOf("?help") || -1 != e.indexOf("&help") ? se() : ($("#iframe-container-helper").length > 0 && openWSE.CloseIFrameContent(), "block" == $("#help_main_holder").css("display") && ve()) } catch (t) { } } function zt() { if (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i)) { var e = document.getElementsByTagName("head")[0]; meta = document.createElement("meta"), meta.name = "viewport", meta.id = "mobileViewport", meta.content = "initial-scale=1.0, user-scalable=no", e.appendChild(meta), $(document).tooltip({ disabled: !0 }) } else $("#mobileViewport").length > 0 && $("#mobileViewport").remove() } function jt(e, a) { if (!openWSE_Config.demoMode) { T("Accepting. Please Wait..."); var t = $(e).closest("tr"), o = t.attr("id"), n = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/AcceptInviteNotifications"; $.ajax({ url: n, type: "POST", data: '{ "id": "' + o + '", "groupId": "' + a + '" }', contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && t.fadeOut(openWSE_Config.animationSpeed, function () { if (O(), t.remove(), "1" == $("#lbl_notifications").find("span").html()) Re(); else { var e = parseInt($("#lbl_notifications").find("span").html()); e -= 1, $("#lbl_notifications").html("<span>" + e + "</span>") } }) } }) } } function Ut(e) { var a = $("#" + e); if (a.length > 0) { var t = $.trim(a.val()); T("Submitting feedback..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/UpdateServerSettings.asmx/SubmitFeedback", data: "{ 'text': '" + t + "' }", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e }, success: function (e) { O(), a.val("Enter your comments here..."), a.css("color", "#B7B7B7") }, error: function (e) { openWSE.AlertWindow("An error occurred submitting your feedback! Please try again.") } }) } } function Ht() { $("#container").css("top", "0"), $("#always-visible, .sidebar-padding-menulinks").hide(), $("#alwaysvisible_backgroundblur").length > 0 && $("#alwaysvisible_backgroundblur").hide(); var e = $(window).height() - ($(".footer").height() + $("#app_title_bg").height()); $("#maincontent_overflow").css({ height: e }), $("#maincontent_overflow").width($(window).width()), $(".maincontent-padding").css("padding-left", "25px"), $(".maincontent-padding").css("padding-right", "25px"), $("#maincontent_overflow_cell").css("margin-left", "0px"), $(".sitemenu-selection").css("margin-left", "-25px"), $(".sitemenu-selection").css("margin-right", "-25px"), $("#always-visible").find(".top-options").hide(), $("#DateDisplay").hide(), $("#localtime").hide(), $(window).resize() } function Ft() { $("#always-visible").show(), $("#alwaysvisible_backgroundblur").length > 0 && $("#alwaysvisible_backgroundblur").show(), -1 == window.location.href.indexOf("?mobileMode=true#?tab=pnl_IconSelector") ? $("#workspace-selector").append("<a href='" + Vt() + "AppRemote.aspx#?id=adminPages&category=pageSelect' id='Go-Back-Btn'>Back</a>") : $("#workspace-selector").append("<a href='" + Vt() + "AppRemote.aspx#' id='Go-Back-Btn'>Back</a>"), $("#copyright-footer").removeClass("float-left"), $("#footer-signdate").removeClass("float-right"), $("#copyright-footer, #footer-signdate").css("padding-left", "0"), $("#copyright-footer, #footer-signdate").css("padding-right", "0"), $("#copyright-footer").addClass("inline-block"), $("#footer-signdate").addClass("inline-block"), $(".footer-padding").css("text-align", "center"), $(".bgchange-icon, .my-app-remote-link").remove(), $("#app_title_bg").hide(), $(".sitemenu-selection").addClass("mobile-mode"), $("#MainContent_pnlLinkBtns").css("height", "auto"), $(".top-options").show(), $("#overlay_tab, #notifications_tab, #group_tab, #app_search_tab, .account-link-style").hide(), $(".btn_changephoto").remove(), $("#img_Profile").css("max-height", "40px"), $("#img_Profile").parent().css("margin-right", "5px"), $("#profile_tab_Buttons").css("margin-top", "0px"), $(".maincontent-padding").css("padding-left", "25px"), $(".maincontent-padding").css("padding-right", "25px"), $("#maincontent_overflow_cell").css("margin-left", "0px"); var e = !1, a = getParameterByName("noHeader"); a && "true" == a && (e = !0), e ? $("#Go-Back-Btn").hide() : $("#Go-Back-Btn").attr("onclick", "openWSE.LoadingMessage1('Loading...');return true;"), $("#MainContent_pnlLinkBtns").length > 0 && $("#MainContent_pnlLinkBtns").find("a").each(function () { var a = $(this).attr("href"); -1 == a.indexOf("#?") && (a += -1 == a.indexOf("?") ? "?mobileMode=true" : "&mobileMode=true", e && (a += "&noHeader=true"), $(this).attr("href", a)) }), qt(), $(".loading-background-holder-mobile").length > 0 && setTimeout(function () { $(".loading-background-holder-mobile").remove() }, 500) } function Dt() { $(".app-icon-links").removeClass("active"), $(".app-icon-sub-links").removeClass("active"); var e = window.location.href.toLowerCase(); $(".app-icon-links").each(function () { var a = $(this).attr("href").toLowerCase(); if (-1 != e.indexOf(a) && ($(this).addClass("active"), $(this).next().hasClass("app-icon-sub-link-holder"))) { $(this).next().show(); var t = $(this).find(".img-expand-sml"); 1 == t.length && (t.removeClass("img-expand-sml"), t.addClass("img-collapse-sml")) } }), $(".app-icon-sub-links").each(function () { var a = $(this).attr("href").toLowerCase(); if (-1 != e.indexOf(a)) { $(".app-icon-links").removeClass("active"), $(this).addClass("active"), $(this).parent().show(); var t = $(this).parent().prev().find(".img-expand-sml"); 1 == t.length && (t.removeClass("img-expand-sml"), t.addClass("img-collapse-sml")) } }) } function qt() { var e = $(window).height() - ($(".footer").height() + $("#always-visible").height() + $("#app_title_bg").height()); if ("none" == $("#always-visible").css("display") && (e += $("#always-visible").height()), "none" == $(".footer").css("display") && (e += $(".footer").height()), "none" == $("#app_title_bg").css("display") && (e += $("#app_title_bg").height()), $("#maincontent_overflow").css({ height: e - 1 }), "pnl_OverlaysAll" == openWSE_Config.overlayPanelId && $("#pnl_OverlaysAll").height($(window).height()), "none" == $(".sidebar-padding-menulinks").css("display")) $("#maincontent_overflow").width($(window).width()); else { var a = e + $("#app_title_bg").height() - 1; if ($("#accordian-sidebar").length > 0) { var t = window.getComputedStyle(document.getElementById("accordian-sidebar"), null).getPropertyValue("margin"); t && (a -= 2 * parseInt(t.replace("px", "").replace("em", ""))) } $("#accordian-sidebar").css("height", a + "px"), $("#maincontent_overflow").css("width", $(window).width() - $(".sidebar-padding-menulinks").outerWidth() + "px") } Jo || $(".app-snap-helper").remove(), $("#container").css("overflow", ""), $("#container_main_table").css("height", "") } function Gt(e, a) { $(e).hasClass("img-expand-sml") ? ($(e).removeClass("img-expand-sml"), $(e).addClass("img-collapse-sml"), $(e).closest(".app-icon-links").parent().find("." + a).slideDown(openWSE_Config.animationSpeed)) : ($(e).removeClass("img-collapse-sml"), $(e).addClass("img-expand-sml"), $(e).closest(".app-icon-links").parent().find("." + a).slideUp(openWSE_Config.animationSpeed)) } function Vt() { var e = ""; return "" != openWSE_Config.siteRootFolder && (e = openWSE_Config.siteRootFolder + "/"), window.location.protocol + "//" + window.location.host + "/" + e } function Yt(e) { if (1 == $(e).length) { var a = $(e)[0].className.split(/\s+/); return a } return new Array } function Kt(e) { if ($(".sidebar-showhide-ctrl").hasClass("sidebar-hide")) { if (!e.target || !$(e.target).hasClass("hide-text")) return !1; $(".sidebar-showhide-ctrl").removeClass("sidebar-hide"), $(".sidebar-showhide-ctrl").addClass("sidebar-show"), Jt(), cookie.set(xn, "hide", 30) } else $(".sidebar-showhide-ctrl").removeClass("sidebar-show"), $(".sidebar-showhide-ctrl").addClass("sidebar-hide"), Qt(), cookie.del(xn); f(), $(window).resize() } function Qt() { var e = $("#sidebar_menulinks").outerWidth(); if ($("#sidebar_menulinks, #accordian-sidebar").removeClass("sidebar-minimized"), e -= $("#sidebar_menulinks").outerWidth(), e = Math.abs(e), $("#sidebar_menulinks").length > 0) { var a = window.getComputedStyle(document.getElementById("sidebar_menulinks"), null).getPropertyValue("position"); "relative" == a && $("#workspace_holder").length > 0 && $(".app-main-holder").each(function () { var a = $(this), t = $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").length > 0; if (!a.hasClass("auto-full-page") && !a.hasClass("app-maximized") && "block" == a.css("display")) { var o = parseInt(a.css("left").replace("px", "")); if (t && (o = parseInt($(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x"))), "NaN" != o.toString()) { var n = Math.abs(o - e); e > o && (n = o), a.css("left", n + "px"), t && $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x", n) } } }) } $(".maincontent_overflow-shadow").css("left", $("#sidebar_menulinks").outerWidth()), $(".maincontent_overflow-shadow-left").length > 0 && openWSE_Config.showLeftSahdowOnScroll && $("#sidebar_menulinks").length > 0 && $(".maincontent_overflow-shadow-left").css("left", $("#sidebar_menulinks").outerWidth()) } function Jt() { var e = $("#sidebar_menulinks").outerWidth(); if ($("#sidebar_menulinks, #accordian-sidebar").addClass("sidebar-minimized"), e -= $("#sidebar_menulinks").outerWidth(), $("#sidebar_menulinks").length > 0) { var a = window.getComputedStyle(document.getElementById("sidebar_menulinks"), null).getPropertyValue("position"); "relative" == a && $("#workspace_holder").length > 0 && $(".app-main-holder").each(function () { var a = $(this), t = $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").length > 0; if (!a.hasClass("auto-full-page") && !a.hasClass("app-maximized") && "block" == a.css("display")) { var o = parseInt(a.css("left").replace("px", "")); if (t && (o = parseInt($(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x"))), "NaN" != o.toString()) { var n = e + o; a.css("left", n + "px"), t && $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x", n) } } }) } $(".maincontent_overflow-shadow").css("left", $("#sidebar_menulinks").outerWidth()), $(".maincontent_overflow-shadow-left").length > 0 && openWSE_Config.showLeftSahdowOnScroll && $("#sidebar_menulinks").length > 0 && $(".maincontent_overflow-shadow-left").css("left", $("#sidebar_menulinks").outerWidth()) } function Xt() { if ($(".sidebar-showhide-ctrl").is(":visible")) { var e = cookie.get(xn); null != e && "undefined" != e && "hide" == e && ($(".sidebar-showhide-ctrl").removeClass("sidebar-hide"), $(".sidebar-showhide-ctrl").addClass("sidebar-show"), Jt(), $(window).resize(), f()) } } function Zt() { try { window.parent.location.reload() } catch (e) { window.location.reload() } } function eo() { if ((location.href.toLowerCase().indexOf("sitetools/") > 0 || location.href.toLowerCase().indexOf("about.aspx") > 0) && (-1 == location.href.toLowerCase().indexOf("appremote.aspx") || location.href.toLowerCase().indexOf("redirect=appremote.aspx") > 0) && $(".sitemenu-selection").length > 0) { $(".sitemenu-selection").removeClass("mobile-mode"); var e = 0, a = 0; $(".sitemenu-selection").find("li").each(function () { e += $(this).outerWidth(), $(this).outerWidth() > a && (a = $(this).outerWidth()) }), e += a, $("#maincontent_overflow").length > 0 ? $("#maincontent_overflow").outerWidth() < e && $(".sitemenu-selection").addClass("mobile-mode") : $("body").outerWidth() < e && $(".sitemenu-selection").addClass("mobile-mode") } } function ao(e, a) { if ($(a).length > 0) { var t = parseInt(openWSE_Config.backgroundTimerLoop); (isNaN(t) || 0 === t) && (t = 30), 1e3 > t && (t = 1e3 * t); for (var o = e.split("|"), n = new Array, i = 0; i < o.length; i++) "" != o[i] && n.push(o[i]); var s = to(a); -1 == s && n.length > 1 ? (En.push({ obj: null, loopIndex: 1, div: a, list: n }), s = En.length - 1) : -1 != s && (clearInterval(En[s].obj), En[s].obj = null, En[s].loopIndex = n.length - 1, En[s].list = n), En.length > 0 && null != En[s] && En[s].list.length > 1 && (En[s].obj = setInterval(function () { var e = En[s].list[En[s].loopIndex]; if (null == e || void 0 == e) { En[s].loopIndex = 0; var e = En[s].list[En[s].loopIndex] } null != e && void 0 != e && (e.length > 6 ? (openWSE_Config.multipleBackgrounds || -1 == e.toLowerCase().indexOf("http") && -1 == e.toLowerCase().indexOf("www.") && (e = Vt() + e), $(a).css("background-image", "url('" + e + "')"), $(a).css("background-color", openWSE_Config.defaultBackgroundColor), $(a).css("background-position", openWSE_Config.defaultBackgroundPosition), $(a).css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $(a).css("background-size", openWSE_Config.defaultBackgroundSize)) : ($(a).css("background-image", ""), $(a).css("background-color", "#" + e)), e.length > 6 ? ($("#sidebar_backgroundblur").length > 0 && ($("#sidebar_backgroundblur").css("background-image", "url('" + e + "')"), $("#sidebar_backgroundblur").css("background-color", openWSE_Config.defaultBackgroundColor), $("#sidebar_backgroundblur").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#sidebar_backgroundblur").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#sidebar_backgroundblur").css("background-size", openWSE_Config.defaultBackgroundSize)), $("#alwaysvisible_backgroundblur").length > 0 && ($("#alwaysvisible_backgroundblur").css("background-image", "url('" + e + "')"), $("#alwaysvisible_backgroundblur").css("background-color", openWSE_Config.defaultBackgroundColor), $("#alwaysvisible_backgroundblur").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#alwaysvisible_backgroundblur").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#alwaysvisible_backgroundblur").css("background-size", openWSE_Config.defaultBackgroundSize))) : ($("#sidebar_backgroundblur").length > 0 && ($("#sidebar_backgroundblur").css("background-image", ""), $("#sidebar_backgroundblur").css("background-color", "#" + e)), $("#alwaysvisible_backgroundblur").length > 0 && ($("#alwaysvisible_backgroundblur").css("background-image", ""), $("#alwaysvisible_backgroundblur").css("background-color", "#" + e)))), En[s].loopIndex++, En[s].loopIndex >= En[s].list.length && (En[s].loopIndex = 0) }, t)) } } function to(e) { for (var a = 0; a < En.length; a++) if (En[a].div == e) return a; return -1 } function oo() { var e = "<div id='UserProfileImageUpdate-element' class='Modal-element'>"; e += "<div class='Modal-overlay'>", e += "<div class='Modal-element-align'>", e += "<div class='Modal-element-modal' data-setwidth='520px'>", e += "<div class='ModalHeader'><div>", e += "<div class='app-head-button-holder-admin'>", e += "<a href='#' onclick=\"$('#UserProfileImageUpdate-element').remove();return false;\" class='ModalExitButton'></a>", e += "</div><span class='Modal-title'></span></div></div>", e += "<div class='ModalScrollContent'>", e += "<div class='ModalPadContent'>", e += "<h3 id='UserProfileImageUpload_loading' class='pad-all'>Loading. Please Wait...</h3>", e += "<iframe id='UserProfileImageUpload_frame' src='" + Vt() + "SiteTools/iframes/UserProfileImageUpload.aspx' frameborder='0' style='visibility: hidden;' />", e += "</div></div>", e += "<div class='ModalButtonHolder'><input type='button' class='input-buttons no-margin' value='Close' onclick=\"$('#UserProfileImageUpdate-element').remove();\" /></div>", e += "</div></div></div></div>", $("#UserProfileImageUpdate-element").length > 0 && $("#UserProfileImageUpdate-element").remove(), $("body").append(e), $("#UserProfileImageUpload_frame").one("load", function () { $("#UserProfileImageUpdate-element").find("#UserProfileImageUpload_loading").remove(), $("#UserProfileImageUpload_frame").css({ visibility: "visible" }) }), Z(!0, "UserProfileImageUpdate-element", "Update Profile Image"), x() } function no(e) { var a = /^#?([a-f\d])([a-f\d])([a-f\d])$/i; e = e.replace(a, function (e, a, t, o) { return a + a + t + t + o + o }); var t = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e); return t ? { r: parseInt(t[1], 16), g: parseInt(t[2], 16), b: parseInt(t[3], 16) } : null } function io(e, a) { if (e && 0 == $("head").find("script[src='" + e + "']").length) { var t = document.createElement("script"); t.type = "text/javascript", a && "function" == typeof a && (t.onload = function () { window.setTimeout(function () { a() }, 1) }), t.src = e, document.getElementsByTagName("head")[0].appendChild(t) } else if (a && "function" == typeof a) try { window.setTimeout(function () { try { a() } catch (e) { } }, 500) } catch (o) { openWSE.AlertWindow(o.message, e) } } function so(e) { 116 == (e.which || e.keyCode) && e.preventDefault() } function lo() { $("#always-visible").addClass("transparency-enabled"), $("#alwaysvisible_backgroundblur").css("height", $("#always-visible").outerHeight()) } function ro() { $("#accordian-sidebar").addClass("transparency-enabled") } function po() { $("#always-visible").removeClass("transparency-enabled"), $("#alwaysvisible_backgroundblur").hide() } function co() { $("#accordian-sidebar").removeClass("transparency-enabled") } function uo() { var e = !1; "true" === $("#MainContent_pnlLinkBtns").attr("data-overwriteevent") && (e = !0), $(".sitemenu-selection").length > 0 && ($(".pnl-section").length > 0 || e) ? (ho(), e ? $(".sitemenu-selection").find("li").on("click", function () { openWSE.LoadingMessage1("Loading Tab...") }) : (openWSE.LoadSiteMenuTab("" == window.location.href ? "1" : window.location.href), $(".sitemenu-selection").find("li").on("click", function () { openWSE.LoadSiteMenuTab($(this).find("a").attr("href")) }), $(window).hashchange(function () { var e = window.location.href; openWSE.LoadSiteMenuTab("" == e ? "1" : e) }))) : $("#MainContent_pnlLinkBtns").length > 0 ? $("#MainContent_pnlLinkBtns").hide() : $(".sitemenu-selection").length > 0 && $(".sitemenu-selection").hide() } function ho() { if (1 == $(".pnl-section").length) (0 == $(".sitemenu-selection").length || "MainContent_pnlLinkBtns" == $(".sitemenu-selection").parent().attr("id")) && $("#MainContent_pnlLinkBtns").length > 0 ? $("#MainContent_pnlLinkBtns").hide() : $(".sitemenu-selection").hide(); else { var e = new Array; $(".sitemenu-selection").find("li").each(function (a) { if ($(this).find("a").length > 0) { var t = $(this).find("a").attr("href").replace("#?tab=", ""); -1 == t.toLowerCase().indexOf("appmanager.aspx") && (-1 != t.indexOf("&") && (t = t.replace(t.substring(t.indexOf("&")), "")), t && 0 === $("#" + t).length && e.push(a)) } }); for (var a = e.length - 1; a >= 0; a--) $(".sitemenu-selection").find("li").eq(e[a]).remove() } } function fo(e) { $(".RadioButton-Toggle-Overlay").remove(), F(), $(".pnl-section").hide(), $(".sitemenu-selection").find("li").removeClass("active"); var a = 0, t = e.split("?tab="); if (t.length > 1) { var o = t[t.length - 1].split("#"); 1 == o.length && (a = go(o[0])) } $(".pnl-section").eq(a).show(), $(".sitemenu-selection").find("li").eq(a).addClass("active"), Dt() } function go(e) { -1 != e.indexOf("&") && (e = e.replace(e.substring(e.indexOf("&")), "")), 0 == $(".pnl-section[id='" + e + "']").length && (e = "pnl_" + e); for (var a = 0; a < $(".pnl-section").length; a++) if ($(".pnl-section").eq(a).attr("id") === e) return a; return 0 } function mo(e, a) { setTimeout(function () { if (-1 == e.indexOf("#") && -1 == e.indexOf(".") && (e = "#" + e), $(e).length > 0) { var t = $("#maincontent_overflow"); 0 === t.length && (t = $("body")); var o = $(e).offset().top; o > $(e).outerHeight() && (o -= $(e).outerHeight()), a ? t.animate({ scrollTop: o }, openWSE_Config.animationSpeed) : t.scrollTop(o) } }, 100) } var vo, bo, $o = "", yo = "", wo = "", ko = "", Co = 0, _o = "<div class='loading-icon-sml'></div>", So = "<div class='loading-icon-lrg'></div>", Wo = 0, xo = !1, Eo = !1, Mo = new Array, To = "<div class='ddLoadingMessage'>" + _o + "<h3>Loading Notifications. Please Wait...</h3></div>", Ao = "<div class='ddLoadingMessage'>" + _o + "<h3>Loading Groups. Please Wait...</h3></div>", Oo = 0, Bo = !1, Io = !1, Po = "WebServices/SaveControls.asmx", Lo = "<div class='loading-background-holder'></div>", Ro = 0, No = 0, zo = "", jo = !1, Uo = new Array, Ho = !1, Fo = !1, Do = !1, qo = !1, Go = 34, Vo = 28, Yo = !1, Ko = !1, Qo = "-outside-modal-window", Jo = !1, Xo = !1, Zo = 0, en = new Array, an = 0; Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(function (e, a) { $("#pnl_aboutHolder").length > 0 && "" != $.trim($("#pnl_aboutHolder").html()) && "block" == $("#aboutApp-element").css("display") && (ko = $.trim($("#pnl_aboutHolder").html())), ee(a), $("#maincontent_overflow").length > 0 && (an = $("#maincontent_overflow").scrollTop()), vo = null, bo = null; try { document.activeElement && "body" != document.activeElement.localName.toLowerCase() && (vo = $(document.activeElement).attr("id"), vo && (vo = "#" + vo, "input" == document.activeElement.localName.toLowerCase() && "text" == document.activeElement.type.toLowerCase() && (bo = document.activeElement.value))) } catch (t) { } S() }), Sys.WebForms.PageRequestManager.getInstance().add_endRequest(function () { $(".ui-tooltip-content").parents("div").remove(), "" != ko && ($("#MainContent_pnl_aboutHolder").html(ko), ko = ""), O(), ae(), Pe(), C($o, yo, wo), He(), w(), $("#maincontent_overflow").length > 0 && an >= 0 && setTimeout(function () { $("#maincontent_overflow").scrollTop(an), an = 0 }, 1), setTimeout(function () { try { vo && null != vo && ($(vo).focus(), bo && null != bo && $(vo).val(bo)) } catch (e) { } vo = null, bo = null }, 1), W() }), $(document.body).on("click", ".RandomActionBtns", function () { T(0 != $(this).closest(".searchwrapper").length ? "Searching..." : "Updating. Please Wait...") }), $(document.body).on("click", "#lbtn_signoff", function () { T("Logging Off. Please Wait...") }), $(document.body).on("keypress", "#searchbox-app-search", function (e) { 13 == e.which && ($(this).focus(), event.preventDefault(), K()) }), $(document.body).on("click", "#container, #container_logo, .workspace-holder, .content-main, .Modal-overlay, #iframe-container-helper", function (e) { x() }), $(document.body).on("click", ".top-options li.a", function () { var e = $(this).next(); if ($(".top-options li.a").removeClass("active"), 1 == e.length) if (e.is(":visible")) Le(), $(".top-options li.b").hide(), e.css("max-height", ""); else { $(".top-options li.b").hide(); var a = $(window).height() - 98; e.find(".li-pnl-tab").css("max-height", a), e.slideDown(openWSE_Config.animationSpeed), $(this).addClass("active"), e.find("input[type=text]").length > 0 && e.find("input[type=text]").focus(); var t = $("li.b").index(e); cookie.set("top_menu", t, "30") } else Le(), $(".top-options li.b").hide() }), $(document.body).on("click", ".help-icon", function () { ie(!1) }), $(document.body).on("keydown", "#tb_weather_postalCode", function (e) { try { if (13 == e.which) return Ge(), !1 } catch (a) { if (13 == e.keyCode) return Ge(), !1; delete a } }), $(document.body).on("click", ".workspace-reminder", function () { var e = $(this).parent(); return $(".app-popup").css("display", "none"), $popup = e.find(".app-popup"), $popup.css("display", "block"), $popup.fadeIn(openWSE_Config.animationSpeed), !1 }), $(document.body).on("mouseover", ".app-icon", function (e) { var a = $(this).find(".app-options"); a.length > 0 && (Yo = !1, a.css("visibility", "visible")) }), $(document.body).on("mouseleave", ".app-icon", function (e) { var a = $(this).find(".app-options"), t = $(this).find(".app-popup"); a.length > 0 && t.length > 0 && "block" != t.css("display") && a.css("visibility", "hidden") }), $(document.body).on("mouseleave", ".app-popup", function (e) { Yo || $(this).hide() }), $(document.body).on("click", ".app-popup-selector", function () { Yo = !0 }), $(document.body).on("click", ".app-icon", function () { var e = $(this); if (openWSE.IsComplexWorkspaceMode() || Ko || -1 != window.location.href.toLowerCase().indexOf("appmanager.aspx")) if ($("#workspace_holder").length > 0) { var a = ga(); _a(e, a), 0 == e.hasClass("active") && e.addClass("active"), $(".workspace-overlay-selector").hasClass("active") && $(".workspace-overlay-selector").removeClass("active") } else $("#app_tab_body").length > 0 && X(this); else window.location.href = openWSE.siteRoot() + "Workspace.aspx?AppPage=" + e.attr("data-appId"); return Ko = !1, !1 }), $(document.body).on("click", "#Category-Back", function () { var e = $("#Category-Back-Name-id").html(); $("." + e).length > 0 ? 0 == openWSE_Config.animationSpeed || $(".app-icon.Icon_Only").length > 0 || $(".app-icon.Icon_And_Text_Only").length > 0 || $(".app-icon.Icon_And_Color_Only").length > 0 || $(".app-icon.Icon_Plus_Color_And_Text").length > 0 ? ($("#Category-Back").hide(), $("." + e).hide(), $(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html(""), cookie.del("app_category"), cookie.del("app_category_id")) : $("." + e).hide("slide", { direction: "right" }, openWSE_Config.animationSpeed, function () { $("#Category-Back").hide(), $(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html(""), cookie.del("app_category"), cookie.del("app_category_id") }) : ($("#Category-Back").hide(), $(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html(""), cookie.del("app_category"), cookie.del("app_category_id")) }), $(document.body).on("click", ".minimize-button-app", function () { if (!Fo) { Fo = !0; var e = $(this).attr("href").replace("#", ""), a = $(".app-main-holder[data-appid='" + e + "']"), t = a.find(".app-title").eq(0).text(), o = a.css("left"), n = a.css("top"), i = a.width(), l = a.height(), r = ga(); 0 == $(".app-min-bar[data-appid='" + e + "']").length && a.animate({ opacity: 0, left: $("#minimized-app-bar").css("width"), top: 0 }, openWSE_Config.animationSpeed, function () { Ca(a, t, o, n), Fa(a), s(!0), $.ajax({ url: Po + "/App_Minimize", type: "POST", data: '{ "appId": "' + e + '","name": "' + t + '","x": "' + o + '","y": "' + n + '","width": "' + i + '","height": "' + l + '","workspace": "' + r + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function (e) { Fo = !1 }, error: function (e) { Fo = !1 } }) }) } return !1 }), $(document.body).on("dblclick", ".app-head-dblclick", function () { return Ho || (Ho = !0, nt($(this).closest(".app-main-holder"))), !1 }), $(document.body).on("click", ".maximize-button-app", function () { return Ho || (Ho = !0, nt($(this).closest(".app-main-holder"))), !1 }), $(document.body).on("click", ".exit-button-app, .exit-button-app-min", function () { if (!Do) { Do = !0; var e = $(this).attr("href").replace("#", ""); $(".app-snap-helper[data-appid='" + e + "']").remove(); var a = $(".app-main-holder[data-appid='" + e + "']"); $(".app-min-bar[data-appid='" + e + "']").length > 0 && ($(".app-min-bar[data-appid='" + e + "']").remove(), s(!0)); a.find(".app-title").eq(0).text(); a.hasClass("app-min-bar-preview") && (a.css("opacity", "0.0"), a.css("filter", "alpha(opacity=0)"), a.removeClass("app-min-bar-preview"), jo = !1, zo = "", Va(e)), lt(a), rt(a), a.fadeOut(openWSE_Config.animationSpeed, function () { a.hasClass("app-maximized") && a.removeClass("app-maximized"), -1 != a.attr("data-appid").indexOf("app-ChatClient-") && a.remove(); var t = 1, o = document.getElementById("hf_" + e.replace(/#/gi, "")); null != o && (t = 0), null == a.find(".app-body").find("div").html() ? 1 == t && a.find(".app-body").html("") : 1 == t && a.find(".app-body").find("div").html(""), a.css({ visibility: "hidden", left: "", top: "", width: "", height: "" }), a.find(".app-body").css({ height: "", width: "" }), a.find(".options-button-app").length > 0 && (a.find(".options-button-app").removeClass("active"), a.find(".app-popup-inner-app").hide(), "Style_3" == openWSE_Config.appStyle && (a.find(".app-head-button-holder").hide(), kn = !1)); var n = a.attr("data-appid") + Qo; $("." + n).each(function () { $(this).remove() }), Ia(a.attr("data-appid")), $.ajax({ url: Po + "/App_Close", type: "POST", data: '{ "appId": "' + e + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function (e) { Do = !1 }, error: function (e) { Do = !1 } }) }) } return !1 }), $(document.body).on("click", ".app-min-bar", function () { var e = $(this).attr("data-appid"), a = $(".app-main-holder[data-appid='" + e + "']"); a.hasClass("app-min-bar-preview") && (a.css("opacity", "0.0"), a.css("filter", "alpha(opacity=0)"), a.removeClass("app-min-bar-preview")); var t = ga(); return _a(a, t), $(window).resize(), !1 }), $(document.body).on("click", ".app-main-holder", function (e) { Qa(this), Ro = 1 }), $(document.body).on("click", ".workspace-holder", function () { openWSE.IsComplexWorkspaceMode() && 0 == Ro && ($(".app-main-holder").removeClass("selected"), Xa()), Ro = 0 }), $(document.body).on("click", ".options-button-app", function () { var e = $(this), a = e.parent(); if ("block" == a.find(".app-popup-inner-app").css("display")) e.removeClass("active"), a.find(".app-popup-inner-app").slideUp(openWSE_Config.animationSpeed), "Style_3" == openWSE_Config.appStyle && (kn = !1); else { e.addClass("active"); var t = a.find(".app-popup-inner-app").find(".app-options-workspace-switch"); if (t.length > 0) { var o = e.closest(".workspace-holder").attr("id").replace("MainContent_workspace_", ""); t.val(o) } a.find(".app-popup-inner-app").slideDown(openWSE_Config.animationSpeed), Qa(a.parent()), "Style_3" == openWSE_Config.appStyle && (kn = !0) } return !1 }), $(document.body).on("change", ".app-popup-selector, .app-options-workspace-switch", function () { if ("" != $.trim($(this).val()) && "-" != $.trim($(this).val())) if ($("#workspace_holder").length > 0) { kt(this); var e = $(this).closest(".app-head-button-holder").parent().find(".options-button-app"); if (e.length > 0) { var a = e.parent(); e.removeClass("active"), a.find(".app-popup-inner-app").hide(), "Style_3" == openWSE_Config.appStyle && (a.find(".app-head-button-holder").hide(), kn = !1) } } else { var t = $(this).closest(".app-icon"); X(t) } }), $(document.body).on("click", ".app-options", function () { return $(".app-popup").css("display", "none"), $popup = $(this).find(".app-popup"), $popup.css("display", "block"), $popup.fadeIn(openWSE_Config.animationSpeed), !1 }), $(document.body).on("keypress", "input[type='text'], textarea", function (e) { if (!$(this).hasClass("mce-textbox") && !$(this).parent().hasClass("ace_editor")) { var a = $(this).attr("data-allowallchars"); if (!a) { var t = e.which ? e.which : e.keyCode, o = String.fromCharCode(t); if (!o.match('^.*?(?=[^"#%&$*<>?{|}]).*$')) return !1 } } }), $(document.body).on("click", "#sitestatus_app_bar", function () { T("Loading Information..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/UpdateServerSettings.asmx/AdminOnlineInformation", data: "{ }", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e }, success: function (e) { O(), E(e) }, error: function (e) { openWSE.AlertWindow("An error occurred. Please try again.") } }) }); var tn, on = 0, nn = !1; $(document.body).on("click", ".RadioButton-Toggle-Overlay", function () { var e = $(this).closest(".switch-slider"); if (nn = !0, e.find(".cb-disable").hasClass("selected")) e.animate({ left: 0 }, openWSE_Config.animationSpeed, function () { e.find(".cb-enable").find("input").trigger("click") }); else { var a = e.parent().outerWidth() - e.find(".RadioButton-Toggle-Overlay").outerWidth() + 2; e.animate({ left: -a }, openWSE_Config.animationSpeed, function () { e.find(".cb-disable").find("input").trigger("click") }) } }), $(document.body).on("click", ".cb-enable, .cb-disable", function () { return nn ? (openWSE.LoadingMessage1("Updating..."), void (nn = !1)) : !1 }); var sn = !1, ln = !1, rn = !1, dn = !1, pn = !1, cn = !0, un = 0, hn = 3; $(document.body).on("click", "#overlay_tab, #pnl_OverlaysAll", function (e) { "pnl_OverlaysAll" == openWSE_Config.overlayPanelId && ("block" != $("#pnl_OverlaysAll").css("display") ? $("#pnl_OverlaysAll").fadeIn(openWSE_Config.animationSpeed) : (e.target.id == $(this).attr("id") || 0 == e.target.className.indexOf("overlay-") && 0 != e.target.className.indexOf("overlay-entries")) && $("#pnl_OverlaysAll").fadeOut(openWSE_Config.animationSpeed)), x() }), $(document).keydown(function (e) { if (e = e || window.event, e.altKey && 79 == e.which && $("#overlay_tab").length > 0 && "none" != $("#overlay_tab").css("display") && "pnl_OverlaysAll" == openWSE_Config.overlayPanelId && ("block" != $("#pnl_OverlaysAll").css("display") ? $("#pnl_OverlaysAll").fadeIn(openWSE_Config.animationSpeed) : $("#pnl_OverlaysAll").fadeOut(openWSE_Config.animationSpeed)), $("#workspace_holder").length > 0 && (e.altKey && 38 == e.which || e.altKey && 40 == e.which)) { var a = parseInt(ga().replace("workspace_", "")), t = $(".dropdown-db-selector").find("ul").find("li").length, o = null; if (o = 40 == e.which ? t >= a + 1 ? $(".workspace-selection-item").eq(a) : $(".workspace-selection-item").eq(0) : a - 1 >= 1 ? $(".workspace-selection-item").eq(a - 2) : $(".workspace-selection-item").eq(t - 1), null != o) { o.trigger("click"); var n = "#MainContent_" + openWSE.Getworkspace(), i = "#MainContent_workspace_" + o.html().replace("Workspace ", ""); openWSE.HoverWorkspacePreview(n, i) } } }); var fn = !1, gn = !1, mn = "user", vn = !1; $(document.body).on("click", "#BackgroundSelector-element .image-selector", function (e) {
        if (-1 == e.target.className.indexOf("delete-uploadedimg")) {
            var a = !1; $(this).hasClass("image-selector-active") && $(".image-selector-active").length > 2 ? a = !0 : !$(this).hasClass("image-selector-active") && $(".image-selector-active").length > 0 && (a = !0); var t = this; a ? R("Do you want to remove the previous selected background(s)? Click No to add the new background to the existing list.", function () { T("Updating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + ga() + '","_img": "","folder": "' + mn + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + ga() + '","_img": "","folder": "' + mn + '" }', contentType: "application/json; charset=utf-8", success: function (e) { var a = "#site_mainbody", o = to(a); -1 != o && clearInterval(En[o].obj), openWSE.RemoveUpdateModal(), pa(t) } }) } }) }, function () { pa(t) }) : pa(t)
        }
    }), $(document.body).on("click", "#BackgroundSelector-element .delete-uploadedimg", function () { var e = $(this).attr("data-imgsrc"); openWSE_Config.demoMode || "" == e || (T("Deleting Background"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/DeleteUploadedImage", type: "POST", data: '{ "_workspace": "' + ga().replace("workspace_", "") + '","_img": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (e) { 3 == e.d.length && (openWSE_Config.backgroundTimerLoop = e.d[1], na(e.d[0]), 6 == e.d[2].length && $("#BackgroundSelector-element").find(".img-list-selector").html(e.d[2][1])), openWSE.RemoveUpdateModal(), sa() } })) }), jQuery.fn.outerHTML = function (e) { return e ? this.before(e).remove() : jQuery("<p>").append(this.eq(0).clone()).html() }, $(document.body).on("click", "#ddl_WorkspaceSelector", function (e) { var a = $(this).find(".dropdown-db-selector"); if (a.length > 0 && -1 == e.target.className.indexOf("workspace-selection-item")) if (a.css("min-width", $("#ddl_WorkspaceSelector").outerWidth()), "block" != a.css("display")) { a.css("top", $("#always-visible").outerHeight()), a.find(".workspace-selection-item").show(); for (var t = $(".selected-workspace").html().replace("Workspace ", ""), o = 0; o < a.find(".workspace-selection-item").length; o++) { var n = a.find(".workspace-selection-item").eq(o); n.html().replace("Workspace ", "") == t ? n.addClass("font-bold") : n.removeClass("font-bold") } openWSE_Config.hoverPreviewWorkspace && $(".workspace-selection-item").hover(function () { var e = "#MainContent_" + openWSE.Getworkspace(), a = "#MainContent_workspace_" + $(this).html().replace("Workspace ", ""); openWSE.HoverWorkspacePreview(e, a) }, function () { if ("block" == a.find("ul").css("display")) { var e = "#MainContent_workspace_" + $(this).html().replace("Workspace ", ""), t = "#MainContent_workspace_" + $(".selected-workspace").html().replace("Workspace ", ""); openWSE.HoverWorkspacePreview(e, t) } }), $("#ddl_WorkspaceSelector").addClass("active"), $("#ddl_WorkspaceSelector").parent().addClass("active"), a.slideDown(openWSE_Config.animationSpeed) } else openWSE.RemoveWorkspaceSelectorActive() }), $(document.body).on("click", ".workspace-selection-item", function () { openWSE.RemoveWorkspaceSelectorActive(); var e = $(".selected-workspace").html().replace("Workspace ", ""), a = $(this).html().replace("Workspace ", ""); if (e != a) { if (openWSE.SetWorkspaceNumber(a), !openWSE_Config.hoverPreviewWorkspace) { var t = "#MainContent_workspace_" + e, o = "#MainContent_workspace_" + a; openWSE.HoverWorkspacePreview(t, o) } $.ajax({ url: Po + "/App_CurrentWorkspace", type: "POST", data: '{ "workspace": "' + a + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) } }); var bn = 0, $n = 0, yn = null, wn = !1, kn = !1, Cn = { timer: 2e3 }, _n = function () { function e() { $("#always-visible, #container-footer").hover(function () { n || i || (t(), o = !0) }, function () { o = !1, setTimeout(function () { o || i || (o = !1, n = !0, a()) }, Cn.timer) }), $(document).keyup(function (e) { 27 == e.which && (i ? (i = !1, o = !1, n = !0, a(), openWSE.LoadingMessage1("AutoHide Mode On"), setTimeout(function () { openWSE.RemoveUpdateModal() }, Cn.timer)) : (i = !0, t(), o = !0, openWSE.LoadingMessage1("AutoHide Mode Off"), setTimeout(function () { openWSE.RemoveUpdateModal() }, Cn.timer))) }), setTimeout(function () { o || (o = !1, n = !0, a()) }, Cn.timer) } function a() { $("#always-visible, #container-footer").css("height", "8px"), $("#alwaysvisible_backgroundblur").length > 0 && $("#alwaysvisible_backgroundblur").css("height", "8px"), $("#top-main-bar-top, .footer-padding").hide(), n = !1, $("#container, #iframe-container-helper").css("top", "8px"), $("#container, #iframe-container-helper").css("bottom", "8px"), $(window).resize() } function t() { $("#top-main-bar-top, .footer-padding").show(), $("#always-visible, #container-footer").css("height", ""), $("#alwaysvisible_backgroundblur").length > 0 && $("#alwaysvisible_backgroundblur").css("height", $("#always-visible").outerHeight()), $("#container, #iframe-container-helper").css("top", ""), $("#container, #iframe-container-helper").css("bottom", ""), $(window).resize() } var o = !1, n = !1, i = !1; return { init: e } }(), Sn = { timer: 1e3 }, Wn = function () { function e() { $("#container").append("<div id='presentationmodeText'>Presentation Mode is Off</div>"), a("To start 'Presentation Mode', press the ESC key"), $(document).keyup(function (e) { 27 == e.which && ($("#PresentationActivate-element").length > 0 && openWSE.LoadModalWindow(!1, "PresentationActivate-element", ""), null != s && clearTimeout(s), $("#presentationmodeText").remove(), 0 == i ? (i = !0, n(), $("#container").append("<div id='presentationmodeText'>Presentation Mode is Off</div>"), $("#update-element").remove(), openWSE.LoadingMessage1("Presentation Mode Off"), s = setTimeout(function () { openWSE.RemoveUpdateModal() }, Sn.timer)) : 1 == i ? (i = 2, o(), $("#container").append("<div id='presentationmodeText'>Presentation Edit Mode</div>"), $("#update-element").remove(), openWSE.LoadingMessage1("Presentation Mode Edit"), s = setTimeout(function () { openWSE.RemoveUpdateModal() }, Sn.timer)) : (i = 0, t(), $("#update-element").remove(), openWSE.LoadingMessage1("Presentation Mode On"), s = setTimeout(function () { openWSE.RemoveUpdateModal() }, Sn.timer))) }) } function a(e) { $(window).load(function () { var a = "<div id='PresentationActivate-element' class='Modal-element' style='display: none;'>"; a += "<div class='Modal-overlay'>", a += "<div class='Modal-element-align'>", a += "<div class='Modal-element-modal' data-setwidth='445'>", a += "<div class='ModalScrollContent'><div class='ModalPadContent'><h3 class='pad-top'><b class='pad-right-sml'>Note:</b>" + e + "</h3>", a += "<div align='right'><input type='button' class='input-buttons' value='Ok' onclick='openWSE.LoadModalWindow(false, \"PresentationActivate-element\", \"\");setTimeout(function(){$(\"#PresentationActivate-element\").remove();},openWSE_Config.animationSpeed);' style='margin-top: 15px!important;' /></div><div class='clear-space-two'></div></div>", a += "</div></div></div></div></div>", $("body").append(a), openWSE.LoadModalWindow(!0, "PresentationActivate-element", "") }) } function t() { $("#always-visible").addClass("header-presentation"), $("#container-footer").addClass("footer-presentation"), $("#always-visible, #container-footer").addClass("header-footer-presentation"), $("#alwaysvisible_backgroundblur").length > 0 && ($("#alwaysvisible_backgroundblur").addClass("header-presentation"), $("#alwaysvisible_backgroundblur").addClass("header-footer-presentation")), $(".username-top-info").addClass("top-menu-color-presentation"), $("#container, #iframe-container-helper").addClass("container-presentation"), $("body").addClass("body-presentation-bg"), $(".app-maximized").addClass("app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected, .workspace-overlays").addClass("body-presentation-bg app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected").addClass("no-shadow-presentation"), $(".app-min-bar, .app-min-bar-alt, .ui-icon-gripsmall-diagonal-se").css("background-image", "none"), $(".sidebar-padding-menulinks").hide(), $(".app-head, .app-head-button-holder, .overlay-header").hide(), $("#top-main-bar-top, .footer-padding").hide(), $(window).resize(), isHiding = !1 } function o() { $("#always-visible").addClass("header-presentation"), $("#container-footer").addClass("footer-presentation"), $("#always-visible, #container-footer").addClass("header-footer-presentation"), $("#alwaysvisible_backgroundblur").length > 0 && ($("#alwaysvisible_backgroundblur").addClass("header-presentation"), $("#alwaysvisible_backgroundblur").addClass("header-footer-presentation")), $(".username-top-info").addClass("top-menu-color-presentation"), $("#container, .pnl-overlaysAll, #iframe-container-helper").addClass("container-presentation"), $("body").addClass("body-presentation-bg"), $("#top-main-bar-top, .footer-padding").hide(), $(".sidebar-padding-menulinks").hide(), $(window).resize() } function n() { $("#always-visible").removeClass("header-presentation"), $("#container-footer").removeClass("footer-presentation"), $("#always-visible, #container-footer").removeClass("header-footer-presentation"), $("#alwaysvisible_backgroundblur").length > 0 && ($("#alwaysvisible_backgroundblur").removeClass("header-presentation"), $("#alwaysvisible_backgroundblur").removeClass("header-footer-presentation")), $(".username-top-info").removeClass("top-menu-color-presentation"), $("#container, .pnl-overlaysAll, #iframe-container-helper").removeClass("container-presentation"), $("body").removeClass("body-presentation-bg"), $(".app-maximized").removeClass("app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected, .workspace-overlays").removeClass("body-presentation-bg app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected").removeClass("no-shadow-presentation"), $(".app-min-bar, .app-min-bar-alt, .ui-icon-gripsmall-diagonal-se").css("background-image", ""), $(".sidebar-padding-menulinks").show(), $(".app-head, .app-head-button-holder, .overlay-header").show(), $("#top-main-bar-top, .footer-padding").show(), $(".app-body").each(function () { var e = null; $(this).find(".main-div-app-bg").length > 0 && (e = $(this).find(".main-div-app-bg")), null != e && (e.css("top", ""), e.css("bottom", "")) }), $(window).resize() } var i = 2, s = null; return { init: e } }(); $.fn.AccordianTab = function (e) { function a() { l.find("." + d.headerClass).each(function (e) { 0 == $(this).find("." + d.menuDropDownClass).length && ($(this).append("<span class='" + d.menuDropDownClass + "'></span>"), d.startCollapsed ? ($(this).attr("title", d.expandTooltip), $(this).find("." + d.menuDropDownClass).addClass(d.collapsedClass), $(this).parent().find("." + d.bodyClass).hide(), $(this).parent().addClass(d.parentCollapsedClass)) : ($(this).attr("title", d.collapseTooltip), $(this).find("." + d.menuDropDownClass).addClass(d.expandedClass), $(this).parent().find("." + d.bodyClass).show(), $(this).parent().removeClass(d.parentCollapsedClass))) }) } function t() { var e = !1; if ("function" == typeof cookie || "object" == typeof cookie) { if (d.createCookie) { var a = cookie.get("menubar-links-tab"); try { var t = a.split(","); if ("" != t && null != t) for (var o = 0; o < t.length; o++) if ("" != t[o]) { var s = l.find("#" + t[o]); if (s.length > 0) if (d.startCollapsed) { if (s.closest(".a-body").find("." + d.headerClass).attr("title", d.collapseTooltip), s.closest(".a-body").find("." + d.menuDropDownClass).removeClass(d.collapsedClass).addClass(d.expandedClass), s.show(), s.parent().removeClass(d.parentCollapsedClass), d.oneOpen) return } else (!d.allowCloseAll && n() > 1 || d.allowCloseAll || !d.startCollapsed && "block" == s.css("display")) && (s.closest(".a-body").find("." + d.headerClass).attr("title", d.expandTooltip), s.closest(".a-body").find("." + d.menuDropDownClass).removeClass(d.expandedClass).addClass(d.collapsedClass), s.hide(), s.parent().addClass(d.parentCollapsedClass)) } } catch (r) { } } else cookie.del("menubar-links-tab"); (!d.allowCloseAll && 0 == n() || !d.startCollapsed && n() == l.find("." + d.bodyClass).length) && (d.startCollapsed || i(), e = !0) } else e = !0; if (e && l.find("." + d.bodyClass).length > 0) { var s = l.find("." + d.bodyClass).eq(0); s.closest(".a-body").find("." + d.headerClass).attr("title", d.collapseTooltip), s.show(), s.closest(".a-body").find("." + d.menuDropDownClass).removeClass(d.collapsedClass).addClass(d.expandedClass), s.parent().removeClass(d.parentCollapsedClass) } } function o() { if (d.createCookie) { var e = ""; l.find("." + d.bodyClass).each(function () { "block" == $(this).css("display") && (e += $(this).attr("id") + ",") }), ("function" == typeof cookie || "object" == typeof cookie) && ("" != e ? cookie.set("menubar-links-tab", e, 30) : cookie.del("menubar-links-tab")) } } function n() { var e = 0; return l.find("." + d.bodyClass).each(function () { "block" == $(this).css("display") && e++ }), e } function i() { l.find("." + d.headerClass).each(function (e) { $(this).attr("title", d.expandTooltip), $(this).find("." + d.menuDropDownClass).addClass(d.collapsedClass), $(this).parent().find("." + d.bodyClass).hide(), $(this).parent().addClass(d.parentCollapsedClass) }) } function s() { var e = !1; l.find("." + d.bodyClass).each(function () { return "block" == $(this).css("display") ? void (e = !0) : void 0 }); var a = cookie.get("menubar-links-tab"); if (!e && "" != a && null != a) { var t = l.find("." + d.headerClass).find("." + d.menuDropDownClass), o = l.find("." + d.bodyClass); t.length > 0 && o.length > 0 && (t.eq(0).removeClass(d.collapsedClass).addClass(d.expandedClass), o.eq(0).show(), o.parent().removeClass(d.parentCollapsedClass)) } } var l = this, r = { allowCloseAll: !0, oneOpen: !0, startCollapsed: !0, createCookie: !0, headerClass: "menu-title", bodyClass: "li-pnl-tab", collapsedClass: "menu-collapsed", expandedClass: "menu-expanded", parentCollapsedClass: "parent-collapsed", menuDropDownClass: "menu-dd", expandTooltip: "Click to Expand", collapseTooltip: "Click to Collapse" }, d = $.extend({}, r, e); $(document).ready(function () { a(), t(), s(), 1 == $("." + d.headerClass).length && 1 == $("." + d.bodyClass).length && ($("." + d.headerClass).attr("title", ""), $("." + d.headerClass).css("cursor", "default"), $("." + d.headerClass).find("." + d.menuDropDownClass).remove(), $("." + d.bodyClass).show(), $("." + d.bodyClass).parent().removeClass(d.parentCollapsedClass)) }), l.find("." + d.headerClass).on("click", function (e) { if ("sidebar-edit-btn" != e.target.className && $("." + d.headerClass).length > 1 && $("." + d.bodyClass).length > 1) { var a = $(this).find("." + d.menuDropDownClass), t = $(this).parent().find("." + d.bodyClass); if (0 != a.length && 0 != t.length) { var i = ""; if (a.hasClass(d.collapsedClass) ? (i = d.collapseTooltip, $(this).attr("title", i), a.removeClass(d.collapsedClass).addClass(d.expandedClass), t.slideDown(openWSE_Config.animationSpeed), t.parent().removeClass(d.parentCollapsedClass)) : (!d.allowCloseAll && n() > 1 || d.allowCloseAll) && (i = d.expandTooltip, $(this).attr("title", i), a.removeClass(d.expandedClass).addClass(d.collapsedClass), t.slideUp(openWSE_Config.animationSpeed, function () { t.parent().addClass(d.parentCollapsedClass) })), d.oneOpen && l.find("." + d.bodyClass).each(function () { $(this).attr("id") != t.attr("id") && ($(this).parent().find("." + d.headerClass).attr("title", d.expandTooltip), $(this).parent().find("." + d.headerClass).find("." + d.menuDropDownClass).removeClass(d.expandedClass).addClass(d.collapsedClass), $(this).slideUp(openWSE_Config.animationSpeed, function () { $(this).parent().addClass(d.parentCollapsedClass) })) }), null != $(this).attr("aria-describedby") && "" != $(this).attr("aria-describedby")) { var s = $(this).attr("aria-describedby"); $("#" + s).find(".ui-tooltip-content").html(i) } setTimeout(function () { o() }, 2 * openWSE_Config.animationSpeed) } } }) }; var xn = "sidebar-menu", En = new Array; return { siteRoot: Vt, loadingImg: _o, loadingImg_lrg: So, topBarHt: Go, AdjustTableSettingsBox: _, GetPagedAddOverlayAndModel: f, IsComplexWorkspaceMode: g, PagedWorkspace: h, SetContainerTopPos: s, AdjustModalWindowView: l, ConvertBitToBoolean: m, OpenMobileWorkspace: v, init: e, UpdateAppSelector: a, NextSiteTip: d, PreviousSiteTip: c, CloseSiteTip: u, CheckIfOverlaysExistsOnNonComplex: w, DisableOverlaysOnPagedWorkspace: k, CloseLoginModalWindow: o, OnError: n, AdjustContainerLogo: i, autoupdate: C, CloseAdminOnlineInformationWindow: M, LoadingMessage1: T, RemoveUpdateModal: O, AlertWindow: B, CloseAlertWindow: I, ReportAlert: P, ConfirmWindow: L, CloseConfirmWindow: N, StartMessageTickInterval: A, OnBrowserClose: U, CheckIfWorkspaceLinkAvailable: H, RadioButtonStyle: F, RatingStyleInit: q, UpdateAppRating: G, ResetRating: V, OpenAppNoti: Y, SearchSite: K, ClearAppSearch: Q, SearchExternalSite: J, LoadModalWindow: Z, SaveInnerModalContent: ee, LoadSavedInnerModalContent: ae, LoadTopOptionsCookie: oe, SetDropDownMaxHeight: ne, SetMaxHeightGroupLogin: Rt, ExpandAdminLinks: Gt, HelpOverlay: ie, HelpMenuPageLoad: le, NewUserPageLoad: de, NewUserfinsh: me, HelpMenuPageLoadWorkspace: re, HelpIntroRestart: $e, HelpIntroNext: ye, HelpIntroBack: we, OnEmailUpdate_KeyPress: he, OnPasswordUpdate_KeyPress: fe, UpdateEmail: pe, UpdateAdminPassword: ce, ShowUpdatesPopup: ke, ShowActivationPopup: Ce, CloseUpdatesPopup: _e, OverlayDisable: Se, TryAddLoadOverlay: We, TryRemoveLoadOverlay: xe, CallOverlayList: Ee, AddRemoveOverlayClick: Me, CreateOverlayTable: Te, GetUserNotifications: Oe, NotiActionsClearAll: Ne, NotiActionsHideInd: ze, LoadCreateAccountHolder: Fe, LoadRecoveryPassword: De, SetPostalCode: Ge, WeatherBuilder: Ve, LoadIFrameContent: Ye, LoadIFrameContentHistory: Ke, CloseIFrameContent: Qe, BackgroundSelector: Xe, ClearBackground: Ze, CloseBackgroundSelector: ea, updateBackgroundURL: aa, updateBackgroundColor: ta, HideTasks: ua, ShowTasks: ha, LoadCurrentWorkspace: fa, Getworkspace: ga, HoverWorkspacePreview: ma, SetWorkspaceNumber: va, RemoveWorkspaceSelectorActive: ba, AutoRotateWorkspace: $a, AutoUpdateOnRotate: ya, AppsSortUnlocked: wa, CreateSOApp: ka, BuildAppMinIcon: Ca, LoadApp: _a, LoadAppFromSiteTools: xa, DetermineNeedPostBack: Ea, WatchForLoad: Ma, LoadUserControl: Ta, MoveOutsideModalWindows: Aa, ResizeAllAppBody: za, ResizeAppBody: ja, ApplyOverlayFix: Ua, RemoveOverlayFix: Ha, MoveOffScreen: Fa, MoveOnScreen_WorkspaceOnly: Da, MoveToCurrworkspace: qa, SetAppMaxToMin: Ga, SetAppMinToMax: Va, HoverOverAppMin: Ya, HoverOutAppMin: Ka, SetNoticiationsMaxHeight: je, SetActiveApp: Qa, SetDeactiveApps: Ja, SetDeactiveAll: Xa, LoadActiveAppCookie: Za, LoadCategoryCookies: et, MaximizeApp: nt, StartRemoteLoad: at, LoadRemotely: tt, SetRemoteLoadingOptions: ot, SetAppIconActive: it, AddworkspaceAppNum: st, RemoveworkspaceAppNum: lt, RemoveAppIconActive: rt, CategoryClick: dt, ApplyAppDragResize: pt, ReloadApp: gt, AboutApp: mt, UninstallApp: vt, PopOutFrame: bt, PopOutFrameFromSiteTools: $t, PopOutTool: yt, PopOutToolSearch: wt, MoveAppToworkspace: kt, getInternetExplorerVersion: Tt, checkVersion: At, GroupLoginModal: Ot, GroupLoginModalCookieLoad: Bt, LoginAsGroup: Pt, AutoHideMode: _n, PresentationMode: Wn, HashChange: Nt, AcceptGroupNotification: jt, SubmitFeedback: Ut, ToolView: Ht, MobileMode: Ft, ResizeContainer: qt, GetElementClassList: Yt, ShowHideAccordianSidebar: Kt, ReloadPage: Zt, ApplyMobileModeForMenuBar: eo, BackgroundLoop: ao, ChangeImageFolder: ia, ViewBackgroundList: la, UpdateBackgroundSetting: ra, AddBackgroundColorToLogo: b, RemoveBackgroundColorToLogo: y, ChangeUserProfileImage: oo, CloseTopDropDowns: x, HexToRgb: no, GetScriptFunction: io, disableF5: so, SetCurrentWorkspaceBackground: ca, setTopbarTransparency: lo, setSidebarTransparency: ro, removeTopbarTransparency: po, removeSidebarTransparency: co, LoadCSSFilesInApp: Ba, InitializeSiteMenuTabs: uo, LoadSiteMenuTab: fo, ScrollToElement: mo }
}(); $(window).resize(function () { openWSE.SetContainerTopPos(!0), openWSE.ResizeContainer(); var e = openWSE.Getworkspace(); $("#MainContent_" + e).length > 0 ? openWSE.ResizeAllAppBody($("#MainContent_" + e)) : openWSE.ResizeAllAppBody($("body")), openWSE.ApplyMobileModeForMenuBar(), openWSE.AdjustModalWindowView() }), $(document).ready(function () { openWSE.init(), openWSE.SetContainerTopPos(!1), openWSE.LoadCategoryCookies(), openWSE.LoadTopOptionsCookie(), openWSE.checkVersion(), openWSE.GetUserNotifications(!0), openWSE.GroupLoginModalCookieLoad(), openWSE.HashChange(), openWSE.ResizeContainer(); var e = openWSE.Getworkspace(); openWSE.ResizeAllAppBody($("#MainContent_" + e)), $("#searchbox-app-search").length > 0 && ($.widget("custom.catcomplete", $.ui.autocomplete, { _create: function () { this._super(), this.widget().menu("option", "items", "> :not(.ui-autocomplete-category)") }, _renderMenu: function (e, a) { var t = this, o = ""; $.each(a, function (a, n) { var i; n.category != o && (e.append("<li class='ui-autocomplete-category'>" + n.category + "</li>"), o = n.category), i = t._renderItemData(e, n), n.category && (i.attr("aria-label", n.value), i.html(n.label)) }) } }), $("#searchbox-app-search").catcomplete({ minLength: 1, autoFocus: !0, open: function (e, a) { $(this).catcomplete("widget").css({ width: "auto", minWidth: "235px", maxWidth: "500px", left: "", right: "0" }) }, source: function (e, a) { $.ajax({ url: openWSE.siteRoot() + "WebServices/AutoComplete.asmx/GetAppSearchList", data: "{ 'prefixText': '" + e.term + "', 'count': '10' }", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e }, success: function (e) { a($.map(e.d, function (e) { return { label: e[1], value: e[0], category: e[2] } })) } }) }, select: function (e, a) { setTimeout(function () { openWSE.SearchSite() }, 1) } }).focus(function () { $(this).catcomplete("search", "") })), openWSE.CheckIfOverlaysExistsOnNonComplex() }), $(function () { $(window).hashchange(function () { openWSE.HashChange() }), openWSE_Config.displayLoadingOnRedirect && ($("#lnk_BackToWorkspace, .app-icon-links, .app-icon-sub-links, .account-link-style").click("click", function (e) { if ("img-expand-sml" != e.target.className && "img-collapse-sml" != e.target.className) { var a = !1; try { var t = $(this).attr("href").substring($(this).attr("href").lastIndexOf("/") + 1).toLowerCase(), o = window.location.href.substring(window.location.href.lastIndexOf("/") + 1).toLowerCase(); t = t.split("?")[0], o = o.split("?")[0], (-1 != t.indexOf(o) || -1 != o.indexOf(t)) && (a = !0) } catch (n) { } "_blank" == $(this).attr("target") || a || openWSE.LoadingMessage1("Loading...") } }), openWSE.IsComplexWorkspaceMode() || $(".app-icon").click("click", function (e) { "app-options" != e.target.className && "_blank" != $(this).attr("target") && openWSE.LoadingMessage1("Loading...") })) }), window.onerror = function (e, a) { openWSE.RemoveUpdateModal(), a = window.location.href, (-1 == a.toLowerCase().indexOf("networklog.aspx") || "Uncaught TypeError: boolean is not a function" != e && "Script error." != e) && (openWSE_Config.reportAlert ? openWSE_Config.reportOnError && openWSE.AlertWindow(e, a) : openWSE.OnError(e, a), console.log(e)) }, $(window).load(function () { openWSE.ApplyAppDragResize(); var e = openWSE.Getworkspace(); openWSE.ResizeAllAppBody($("#MainContent_" + e)), openWSE.AdjustContainerLogo(), $("#container_logo").length > 0 && $("#container_logo").css({ visibility: "visible" }), openWSE.LoadActiveAppCookie(), openWSE_Config.taskBarShowAll || ($(".app-min-bar").hide(), $("#MainContent_" + e).find(".app-main-holder").each(function (e) { var a = $(this).attr("data-appid"); 0 != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + a + "']").length && "none" == $("#minimized-app-bar").find(".app-min-bar[data-appid='" + a + "']").css("display") && $("#minimized-app-bar").find(".app-min-bar[data-appid='" + a + "']").show() })), openWSE.MoveOutsideModalWindows(), openWSE.ApplyMobileModeForMenuBar(), openWSE.SetCurrentWorkspaceBackground() }), $.extend({ LoadingMessage: function () { try { var e = arguments[0], a = arguments[1]; (null == a || "" == a || void 0 == a) && (a = "Updating. Please Wait..."), $("#update-element").length > 0 && $("#update-element").remove(); var t = "<div id='update-element'><div class='update-element-overlay' style='position: absolute!important'><div class='update-element-align' style='position: absolute!important'>"; t += "<div class='update-element-modal'><h3 class='inline-block'>" + a + "</h3></div></div></div></div>", $(e).append(t), $("#update-element").fadeIn(openWSE_Config.animationSpeed) } catch (o) { } } }), function (e, a, t) { function o(e) { return e } function n(e) { return decodeURIComponent(e.replace(i, " ")) } var i = /\+/g, s = e.cookie = function (i, l, r) { if (l !== t) { if (r = e.extend({}, s.defaults, r), null === l && (r.expires = -1), "number" == typeof r.expires) { var d = r.expires, p = r.expires = new Date; p.setDate(p.getDate() + d) } return l = s.json ? JSON.stringify(l) : String(l), a.cookie = [encodeURIComponent(i), "=", s.raw ? l : encodeURIComponent(l), r.expires ? "; expires=" + r.expires.toUTCString() : "", r.path ? "; path=" + r.path : "", r.domain ? "; domain=" + r.domain : "", r.secure ? "; secure" : ""].join("") } for (var c, u = s.raw ? o : n, h = a.cookie.split("; "), f = 0; c = h[f] && h[f].split("=") ; f++) if (u(c.shift()) === i) { var g = u(c.join("=")); return s.json ? JSON.parse(g) : g } return null }; s.defaults = {}, e.removeCookie = function (a, t) { return null !== e.cookie(a, t) ? (e.cookie(a, null, t), !0) : !1 } }(jQuery, document); var cookie = { set: function (e, a, t) { if (openWSE_Config.saveCookiesAsSessions) { var o = openWSE.siteRoot() + "WebServices/SaveControls.asmx/SetCookie"; $.ajax({ url: o, type: "POST", data: '{ "name": "' + e + '","value": "' + a + '" }', contentType: "application/json; charset=utf-8" }) } else { cookie.get(e); if (t) { var n = new Date; n.setTime(n.getTime() + 24 * t * 60 * 60 * 1e3); var i = "; expires=" + n.toGMTString() } else var i = ""; document.cookie = e + "=" + a + i + "; path=/" } }, get: function (e) { var a = null; if (openWSE_Config.saveCookiesAsSessions) { var t = openWSE.siteRoot() + "WebServices/SaveControls.asmx/GetCookie"; $.ajax({ url: t, type: "POST", async: !1, data: '{ "name": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (e) { e && (a = e.d) } }) } else for (var o = e + "=", n = document.cookie.split(";"), i = 0; i < n.length; i++) { for (var s = n[i]; " " == s.charAt(0) ;) s = s.substring(1, s.length); if (0 == s.indexOf(o)) return s.substring(o.length, s.length) } return a }, del: function (e) { if (openWSE_Config.saveCookiesAsSessions) { var a = openWSE.siteRoot() + "WebServices/SaveControls.asmx/DelCookie"; $.ajax({ url: a, type: "POST", data: '{ "name": "' + e + '" }', contentType: "application/json; charset=utf-8" }) } else this.set(e, "", -1) } };
