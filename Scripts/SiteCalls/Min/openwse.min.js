// -----------------------------------------------------------------------------------
//
//	openWSE v4.1
//	by John Donnelly
//	Last Modification: 4/20/2015
//
//	Licensed under the Creative Commons Attribution 2.5 License - http://creativecommons.org/licenses/by/2.5/
//  	- Free for use in both personal and commercial projects
//		- Attribution requires leaving author name, author link, and the license info intact.
//
//  Requirements:
//      jquery v1.11.1 - http://code.jquery.com/jquery-1.11.1.min.js
//      migrate.jquery.min.js - http://code.jquery.com/jquery-migrate-1.2.1.min.js
//
// -----------------------------------------------------------------------------------
var openWSE_Config = { siteName: "", demoMode: !1, siteTheme: "Standard", animationSpeed: 200, hoverPreviewWorkspace: !1, taskBarShowAll: !0, ShowWorkspaceNumApp: !0, desktopCSS: "site_desktop.css", mobileCSS: "site_mobile.css", winMinWidth: 800, minPasswordLength: 6, workspaceMode: "", overlayPanelId: "pnl_OverlaysAll", reportAlert: !0, siteRootFolder: "", displayLoadingOnRedirect: !0, saveCookiesAsSessions: !1, defaultBackgroundColor: "#FFFFFF", defaultBackgroundPosition: "center right", appSnapHelper: !1, appStyle: "Style_1", onlyAllowOneAccordionOpen: !1 }, openWSE = function () {
    function e() { console.log(openWSE_Config), wi = openWSE.siteRoot() + "WebServices/SaveControls.asmx", Gt(), Qt(), ni(), $("#accordian-sidebar").AccordianTab({ allowCloseAll: !0, oneOpen: openWSE_Config.onlyAllowOneAccordionOpen, startCollapsed: !0, animationSpeed: openWSE_Config.animationSpeed, createCookie: !0 }), $("#user_profile_tab").length > 0 && $("#user_profile_tab").find(".b").css("min-width", $(".top-options").outerWidth()), openWSE.CheckIfWorkspaceLinkAvailable() || $("#lnk_BackToWorkspace").length > 0 && $("#lnk_BackToWorkspace").remove() } function a(e, a) { var t = openWSE.siteRoot() + "WebServices/AppLog_Errors.asmx/AddError"; $.ajax({ url: t, type: "POST", data: '{ "message": "' + escape(e) + '","url": "' + escape(a) + '" }', contentType: "application/json; charset=utf-8" }) } function t() { if ($("#container_logo").length > 0) { var e = $("#container_logo").height(), a = $("#container_logo").width(), t = -(e / 2), i = -(a / 2); $("#container_logo").css({ marginLeft: i, marginTop: t }) } } function i(e) { Pi = $("#always-visible").outerHeight(), Ri = $("#container-footer").outerHeight(), "none" == $("#always-visible").css("display") && (Pi = 0), "none" == $("#container-footer").css("display") && (Ri = 0), $("#container, #iframe-container-helper").css("top", Pi), $("#container, #iframe-container-helper, .administrator-workspace-note").css("bottom", Ri), t(), e && ($("#iframe-content-src").length > 0 && ($("#iframe-content-src").css("height", $(window).height() - ($("#always-visible").height() + $("#container-footer").height())), $("#iframe-content-src").css("width", $(window).width())), openWSE.SetNoticiationsMaxHeight(), openWSE.SetDropDownMaxHeight()) } function n(e) { if (za("1"), "" != e && 0 != $(".app-icon[data-appid='" + e + "']").length) { Bi = !0; var a = $($(".app-icon[data-appid='" + e + "']")[0]); $(".app-main-holder[data-appid='" + e + "']").addClass("auto-full-page"), $(".app-main-holder[data-appid='" + e + "']").find(".app-head, .app-head-button-holder").hide(), a.trigger("click") } } function o() { $("#" + openWSE_Config.overlayPanelId).append($(".addOverlay-bg")), $("#" + openWSE_Config.overlayPanelId).append($("#overlayEdit-element")), $(".addOverlay-bg").css({ bottom: $("#container-footer").outerHeight(), left: $("#sidebar_menulinks").outerWidth() }) } function s() { return "complex" == openWSE_Config.workspaceMode.toLowerCase() || "" == openWSE_Config.workspaceMode ? !0 : !1 } function l(e) { if (null != e && void 0 != e) { var a = $.trim(e.toString().toLowerCase()); if ("true" != a && "false" != a && "0" != a && "1" != a && "" != a) return !0; if ("1" == a || "true" == a || "" == a) return !0; if ("0" == a || "false" == a) return !1 } return !1 } function d() { return window.open(openWSE.siteRoot() + "AppRemote.aspx", "_blank", "toolbar=no, scrollbars=yes, resizable=yes, width=340, height=550"), !1 } function r(e) { var a = "<div class='trial-version-text'><span>Trial Version</span><span class='float-right'>Expires in " + e + "</span></div>"; $("#maincontent_overflow").prepend(a) } function c(e, a, t) { "" == si && "" != e && (si = e), "" == pi && "" != a && (pi = a), "" == li && "" != t && (li = t), "" != si && "" != pi && "" != li && 0 == ri && ($.ajax({ url: a, data: '{ "_appId": "' + escape(li) + '" }', contentType: "application/json; charset=utf-8", dataType: "json", type: "POST", success: function (e) { var a = e.d[0]; if ("TURNOFF" == a) return void (ri = 1); if ("refresh" == a) ri = 0, document.getElementById(si).value = "refresh", __doPostBack(si, ""); else if ("workspace-check" == a) ri = 0, c(si, pi, li); else if ("false" != a && "" != a) try { openWSE.ConvertBitToBoolean(e.d[1]) ? (ri = 0, u("Receiving Request..."), gt(a, si, pi, li)) : (ri = 0, document.getElementById(si).value = a, __doPostBack(si, "")) } catch (t) { ri = 0, c(si, pi, li) } else ri = 0, c(si, pi, li) }, error: function () { ri = 0, c(si, pi, li) } }), ri = 1) } function h() { 0 == $(".pnl-section").length && $(".table-settings-box").length > 0 ? $(".table-settings-box").eq($(".table-settings-box").length - 1).addClass("no-border") : $(".pnl-section").length > 0 && $(".table-settings-box").length > 0 && $(".pnl-section").each(function () { var e = $(this).find(".table-settings-box").length; $(this).find(".table-settings-box").eq(e - 1).addClass("no-border") }) } function f(e) { var a = $.trim(e.d); "" == a && (a = "No information available"); var t = "<div id='AdminOnlineInformation-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='325'>", t += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>", t += "<a href='#' onclick=\"openWSE.CloseAdminOnlineInformationWindow();return false;\" class='ModalExitButton'></a>", t += "</div><span class='Modal-title'></span></div></div>"; var i = "<input class='input-buttons no-margin' type='button' value='Close' onclick=\"openWSE.CloseAdminOnlineInformationWindow();\" />"; t += "<div class='ModalPadContent'><div class='pad-bottom-big'>" + a + "</div><div align='right' class='button-holder'>" + i + "</div></div>", t += "</div></div></div></div>", $("body").append(t), B(!0, "AdminOnlineInformation-element", "Site Information") } function m() { $("#AdminOnlineInformation-element").length > 0 && $("#AdminOnlineInformation-element").remove() } function u(e) { g(), -1 != e.indexOf("...") && (e = e.replace("...", "")), e += "<span class='progress inline-block'></span>"; var a = "<div id='update-element'><div class='update-element-overlay'><div class='update-element-align'>"; a += "<div class='update-element-modal'><h3 class='inline-block'>" + e + "</h3></div></div></div></div>", $("body").append(a), v($("#update-element").find(".progress")[0]), $("#update-element").show(); var t = $("#update-element").find(".update-element-modal"), i = -(t.outerWidth() / 2), n = -(t.outerHeight() / 2); t.css({ marginLeft: i, marginTop: n }) } function v(e) { zi = setInterval(function () { var a = ""; switch (ji) { case 0: a = ".", ji++; break; case 1: a = "..", ji++; break; case 2: a = "...", ji++; break; default: a = "", ji = 0 } $(e).html(a) }, 400) } function g() { ji = 0, null != zi && clearInterval(zi), $("#update-element").remove() } function b(e, a) { ("" == e || null == e) && (e = "An error has occured that was not specified."); var t = "<div id='AlertWindow-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='370'>", t += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>", t += "<a href='#' onclick=\"openWSE.CloseAlertWindow();return false;\" class='ModalExitButton'></a>", t += "</div><span class='Modal-title'></span></div></div>"; var i = "<input class='input-buttons confirm-ok-button' type='button' value='Ok' onclick=\"openWSE.CloseAlertWindow();\" style='width: 50px;' />", n = ""; openWSE_Config.reportAlert && (n = "<input class='input-buttons no-margin confirm-report-button' type='button' value='Report' onclick=\"openWSE.ReportAlert('" + escape(e) + "','" + escape(a) + "');\" style='margin-left: 16px!important;' />"), "" == openWSE_Config.siteTheme && (openWSE_Config.siteTheme = "Standard"); var o = "<img alt='confirm' src='" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Icons/alert.png' />"; t += "<div class='ModalPadContent'><div class='message-text'>" + o + e + "</div><div class='button-holder'>" + i + n + "</div></div>", t += "</div></div></div></div>", $("body").append(t), B(!0, "AlertWindow-element", "Message"), setTimeout(function () { $("#AlertWindow-element").find(".confirm-ok-button").focus() }, 250) } function y() { $("#AlertWindow-element").length > 0 && ($("#AlertWindow-element").hide(), $("#AlertWindow-element").remove()) } function w(e, t) { ("" == t || null == t) && (t = window.location.href), a(unescape(e), unescape(t)), y() } function C(e, a, t) { ("" == e || null == e) && (e = "Are you sure you want to continue?"); var i = "<div id='ConfirmWindow-element' class='Modal-element' style='display: none;'>"; i += "<div class='Modal-overlay'>", i += "<div class='Modal-element-align'>", i += "<div class='Modal-element-modal' data-setwidth='370'>", i += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>", i += "<a href='#' onclick=\"openWSE.CloseConfirmWindow();return false;\" class='ModalExitButton confirm-cancel-button-header'></a>", i += "</div><span class='Modal-title'></span></div></div>"; var n = "<input class='input-buttons confirm-ok-button' type='button' value='Ok' style='width: 60px;' />", o = "<input class='input-buttons confirm-cancel-button' type='button' value='Cancel' />"; "" == openWSE_Config.siteTheme && (openWSE_Config.siteTheme = "Standard"); var s = "<img alt='confirm' src='" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Icons/confirm.png' />"; i += "<div class='ModalPadContent'><div class='message-text'>" + s + e + "</div><div class='button-holder'>" + n + o + "</div></div></div>", i += "</div></div></div></div>", $("body").append(i), $("#ConfirmWindow-element").find(".confirm-ok-button").one("click", function () { openWSE.CloseConfirmWindow(), null != a && a() }), $("#ConfirmWindow-element").find(".confirm-cancel-button, .confirm-cancel-button-header").one("click", function () { openWSE.CloseConfirmWindow(), null != t && t() }), B(!0, "ConfirmWindow-element", "Confirmation"), setTimeout(function () { $("#ConfirmWindow-element").find(".confirm-ok-button").focus() }, 250) } function S() { $("#ConfirmWindow-element").length > 0 && ($("#ConfirmWindow-element").hide(), $("#ConfirmWindow-element").remove()) } function k() { $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/OnBrowserClose", data: "", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e } }) } function _() { var e = !1; return $(".site-tools-tablist").each(function (a) { $(".site-tools-tablist").eq(a).find(".app-icon-links").each(function () { var a = $(this).find(".app-icon-font"); "workspace" == a.html().toLowerCase() && (e = !0) }) }), e } function W() { $(".switch").each(function () { var e = $(this); if (0 == e.find(".RadioButton-Toggle-Overlay").length) { var a = $(this).find(".cb-enable"), t = $(this).find(".cb-disable"); if (0 == e.find(".switch-slider").length) { e.append("<div class='switch-slider'><table class='switch-slider-table' cellpadding='0' cellspacing='0'><tbody><tr><td class='td-enable'></td><td class='td-switch' title='Click or Drag'></td><td class='td-disable'></td></tr></tbody></table></div>"), e.find(".td-enable").append(a), e.find(".td-switch").html("<span class='RadioButton-Toggle-Overlay'></span>"), e.find(".td-disable").append(t), a.removeClass("RandomActionBtns"), t.removeClass("RandomActionBtns"); var i = e.find(".cb-enable").outerWidth(); 0 == i && (i = e.find(".cb-enable").find("label").outerWidth()); var n = i + e.find(".RadioButton-Toggle-Overlay").outerWidth(); e.width(n - 2); var o = e.outerWidth() - e.find(".RadioButton-Toggle-Overlay").outerWidth() + 2, s = a.find("input"), p = t.find("input"); x(s) && s.prop("checked") || a.hasClass("selected") ? (a.addClass("selected"), t.removeClass("selected"), s.prop("checked", !0), p.prop("checked", !1), e.find(".switch-slider").css("left", 0)) : (t.addClass("selected"), a.removeClass("selected"), p.prop("checked", !0), s.prop("checked", !1), e.find(".switch-slider").css("left", -o)) } else e.find(".td-switch").html("<span class='RadioButton-Toggle-Overlay'></span>"); e.find(".switch-slider").draggable({ cancel: ".cb-enable, .cb-disable", axis: "x", drag: function (e, a) { var t = $(this).parent().outerWidth() - $(this).find(".RadioButton-Toggle-Overlay").outerWidth() + 2; return a.position.left < -t ? ($(this).css("left", -t), !1) : a.position.left >= 0 ? ($(this).css("left", 0), !1) : void 0 }, stop: function (a, t) { var i = $(this).parent().outerWidth() - $(this).find(".RadioButton-Toggle-Overlay").outerWidth() + 2, n = i / 2, o = !1, s = !0; e.find(".cb-disable").each(function () { { var e = $(this).find("input"); e.attr("checked") } $(this).hasClass("selected") && (s = !1) }), t.position.left > -n ? (o = !0, $(this).animate({ left: 0 }, openWSE_Config.animationSpeed)) : $(this).animate({ left: -(2 * n) }, openWSE_Config.animationSpeed), s && !o ? (Ni = !0, e.find(".cb-disable").find("input").trigger("click")) : !s && o && (Ni = !0, e.find(".cb-enable").find("input").trigger("click")) } }) } }) } function x(e) { var a = $(e)[0].attributes.checked; return "undefined" != typeof a && a !== !1 ? !0 : !1 } function E(e, a, t, i, n) { try { var o = !1; t && (o = !0); var s = openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme; $(e).attr("data-average", a), $(e).attr("data-id", "1"); var p = "big"; n || (p = "small"), $(e).jRating({ step: !0, type: p, showRateInfo: !1, canRateAgain: !0, nbRates: 100, bigStarsPath: s + "/Icons/star-rating-lrg.png", smallStarsPath: s + "/Icons/star-rating-sml.png", isDisabled: o, decimalLength: 2, length: 4, rateMax: 4, rateMin: 0, phpPath: "", sendRequest: !0, onClick: function (o, s) { $("#AppRating-element").remove(); var p = "<div id='AppRating-element' class='Modal-element'><div class='Modal-overlay'><div class='Modal-element-align'><div class='Modal-element-modal' style='min-width: 350px;'>"; p += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'></div><span class='Modal-title'></span></div></div>", p += "<div class='ModalScrollContent'><div class='ModalPadContent'></div></div></div></div></div></div>", $("#aboutApp-element").find(".ModalPadContent").append(p); var l = "<div class='pad-bottom'>Add a comment to your rating or just press Submit.</div>"; l += "<textarea id='app-rating-comment' rows='4' cols='40' style='width: 96%; font-family: arial; font-size: 14px; padding: 5px; border: 1px solid #DDD;'></textarea>", l += "<div class='clear-space'></div>", l += "<input class='float-right no-margin input-buttons' type='button' value='Cancel' onclick='openWSE.ResetRating(\"" + e + '", "' + a + '", ' + t + ', "' + i + '", ' + n + ');$("#AppRating-element").remove();\' />', l += "<input class='float-left no-margin input-buttons' type='button' value='Submit' onclick='openWSE.UpdateAppRating(\"" + e + '", "' + s + '", ' + t + ', "' + i + '", ' + n + ");' />", l += "<div class='clear-space-five'></div>", $("#AppRating-element").find(".ModalPadContent").html(l), B(!0, "AppRating-element", "Rating Comment") } }), n || $(e).find(".jStar").addClass("jStar-Small") } catch (l) { } } function M(e, a, t, i, n) { u("Updating rating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/SaveControls.asmx/UpdateAppRating", type: "POST", data: '{ "rating": "' + a + '","appId": "' + i + '","description": "' + $("#app-rating-comment").val() + '" }', contentType: "application/json; charset=utf-8", success: function () { $("#AppRating-element").remove(), openWSE.RemoveUpdateModal(), openWSE.ResetRating(e, a, t, i, n) } }) } function A(e, a, t, i, n) { $(e).html(""), E(e, a, t, i, n) } function T(e) { if ($(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), openWSE.IsComplexWorkspaceMode()) if ($("#workspace_holder").length > 0) { if ("none" == $("#" + e).css("display")) { ki = 1; var a = ja(); Ya($(".app-main-holder[data-appid='" + e + "']"), a) } } else I($(".app-icon[data-appid='" + e + "']")); else window.location.href = openWSE.siteRoot() + "Workspace.aspx?AppPage=" + _id } function O() { var e = $.trim($("#searchbox-app-search").val()); "" != e && (u("Searching. Please Wait..."), document.getElementById("hf_SearchSite").value = e, $("#searchbox-app-search").val(""), __doPostBack("hf_SearchSite", "")) } function P() { $("#searchbox-app-search").val("workspace-selector" == $("#searchbox-app-search").parent().parent().attr("id") ? "Search" : "") } function R(e) { $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), window.open("http://google.com/search?q=" + e) } function I(e) { var a = $(e), t = "<div id='ConfirmApp-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' style='width: 400px; min-width: 400px;'>", t += "<div class='ModalHeader'><div><span class='Modal-title'></span></div></div>"; var i = a.find(".app-icon-font").text(); "" == i && (i = a.find(".app-title").text(), "" == i && (i = a.find("span").text())); var n = a.attr("data-appid"), o = ""; if ("" != a.attr("popoutloc") && void 0 != a.attr("popoutloc") && null != a.attr("popoutloc")) { var s = a.attr("popoutloc"); o = "<a href='#' class='float-right' onclick='openWSE.PopOutFrameFromSiteTools(\"" + i + '", "' + s + "\");return false;'>Open in new window</a>" } var p = "1"; "" != a.attr("currentworkspace") && void 0 != a.attr("currentworkspace") && null != a.attr("currentworkspace") && (p = a.attr("currentworkspace")); var l = "<input type='button' class='input-buttons' value='Yes' style='width: 50px;' onclick='openWSE.LoadAppFromSiteTools(\"" + n + '", "' + i + '", "workspace_' + p + "\");' />", d = "<input type='button' class='input-buttons no-margin' value='No' style='width: 50px; margin-left: 10px!important;' onclick=\"$('#ConfirmApp-element').remove();return false;\" />", r = "You must be on the workspace to load this app. Would you like to go back to your workspace?"; if (!openWSE.CheckIfWorkspaceLinkAvailable()) { l = ""; var d = "<input type='button' class='input-buttons no-margin' value='Close' onclick=\"$('#ConfirmApp-element').remove();return false;\" />"; r = "You are not authorized to use the workspace. ", "" != o && (r += "However, you can open this app in a seperate window.") } t += "<div class='ModalScrollContent'><div class='ModalPadContent'>", t += r + "<div class='clear' style='height: 20px;'></div>" + l + d + o, t += "<div class='clear-space'></div></div></div>", t += "</div></div></div></div>", $("body").append(t), openWSE.LoadModalWindow(!0, "ConfirmApp-element", "Open " + i) } function B(e, a, t) { 0 != a.indexOf("#") && (a = "#" + a); var i = $(a); if (e) { i.show(); var n = i.find(".Modal-element-modal"); "Style_2" == openWSE_Config.appStyle ? (i.addClass("modal-style2"), i.find(".ModalExitButton").html("<span></span>"), n.append(i.find(".ModalHeader"))) : i.addClass("modal-style1"); var o = "#container"; (0 == $("#container").length || i.hasClass("outside-main-app-div") && $(".workspace-holder").length > 0) && (o = $("#maincontent_overflow").length > 0 ? "#maincontent_overflow" : "body"), n.outerWidth() > $(o).width() ? (n.find(".ModalScrollContent").css("max-height", $(o).height()), n.css({ width: $(o).width(), minWidth: 50 })) : null != n.attr("data-setwidth") && "" != n.attr("data-setwidth") ? (null != n.attr("data-setmaxheight") && "" != n.attr("data-setmaxheight") ? n.find(".ModalScrollContent").css("max-height", parseInt(n.attr("data-setmaxheight"))) : n.find(".ModalScrollContent").css("max-height", Math.round(parseInt(n.attr("data-setwidth")) / 1.7)), n.css({ width: parseInt(n.attr("data-setwidth")), minWidth: parseInt(n.attr("data-setwidth")) })) : ($(o).width() > 100 && n.css("max-width", $(o).width() - 100), $(o).height() > 100 && n.find(".ModalScrollContent").css("max-height", $(o).height() - 100)), n.draggable({ containment: o, cancel: ".ModalScrollContent, .ModalPadContent, .ModalExitButton, .ModalButtonHolder", drag: function () { var e = $(this); if (e.css("opacity", "0.6"), e.css("filter", "alpha(opacity=60)"), e.find("iframe").length > 0) { var a = e.find(".ModalScrollContent"); $wo = a.find(".app-overlay-fix"), 0 == $wo.length && 1 == a.length && a.append("<div class='app-overlay-fix'></div>") } }, stop: function () { var e = $(this); e.css("opacity", "1.0"), e.css("filter", "alpha(opacity=100)"), $wo = $(this).find(".app-overlay-fix"), 1 == $wo.length && $wo.remove() } }), "" != t && i.find(".Modal-title").html(t), j(a) } else i.hide(), i.css("visibility", "hidden"), i.find(".Modal-title").html(""), setTimeout(function () { if (i.hasClass("outside-main-app-div")) for (var e = ei(i[0]), a = 0; a < e.length; a++) if (e[a].indexOf(Li) > 0) { var t = e[a].replace(Li, ""); ht($(".app-main-holder[data-appid='" + t + "']")); break } }, 25) } function L(e) { try { var a = e.get_postBackElement(); null != a && ("hf_UpdateAll" == a.id || "MainContent_hf_UpdateAll" == a.id) && 0 == vi.length && (vi = new Array, $(".Modal-element").each(function () { var e = $(this); if ("block" == e.css("display") && 0 == e.find("iframe").length) { var a = escape($.trim(e.find(".ModalScrollContent").html())); if ("" != a && "undefined" != a && null != a) { var t = new Array; "" != e.attr("id") && (t[0] = e.attr("id"), t[1] = a, vi.push(t)) } } })) } catch (t) { } if ("none" != $(".Modal-element").css("display")) { var i = $(".Modal-element").find(".ModalScrollContent"); i.length > 0 && (fi = i.scrollTop()) } } function z() { if (vi.length > 0 && ($(".Modal-element").each(function () { var e = $(this); if ("block" == e.css("display") && 0 == e.find("iframe").length) for (var a = 0; a < vi.length; a++) if (vi[a][0] == e.attr("id")) { var t = unescape(vi[a][1]); e.find(".ModalScrollContent").html(t); break } }), vi = new Array), "block" == $(".Modal-element").css("display")) { var e = $(".Modal-element").find(".ModalScrollContent"); e.length > 0 && (e.scrollTop(fi), fi = 0) } } function j(e) { if (null != e) { var a = $(e); a.find(".Modal-element-align").css({ marginTop: -(a.find(".Modal-element-modal").height() / 2), marginLeft: -(a.find(".Modal-element-modal").width() / 2) }), a.css("visibility", "visible") } } function N() { var e = cookie.get("top_menu"); "" != e && null != e && void 0 != e && $(".top-options li.b").each(function (a) { if (a == e) { $(this).show(); var t = $(this).prev(); 1 == t.length && t.addClass("active"), H() } }) } function H() { $(".top-options li.b").each(function () { if ($(this).is(":visible")) { var e = $(window).height() - 98; $(this).find(".li-pnl-tab").css("max-height", e) } }) } function U(e) { "none" == $("#help_main_holder").css("display") ? ($("#iframe-container-helper").length > 0 && xa(), Fi = e, setTimeout(function () { var e = "", a = window.location.hash; e = -1 == a.indexOf("#") && "#" != window.location.href.charAt(window.location.href.length - 1) ? "#?" : "" != a ? "&" : "?", e += "help", window.location += e }, openWSE_Config.animationSpeed)) : Z() } function F() { var e = wi + "/GetTotalHelpPages"; $.ajax({ url: e, type: "POST", data: '{ "currentPage": "' + document.location.href + '" }', contentType: "application/json; charset=utf-8", success: function (e) { var a = parseInt(e.d); a > 0 ? ($i = a, D(0, Fi), $("#help_main_holder").fadeIn(openWSE_Config.animationSpeed)) : Fi ? (G(), $("#help_main_holder").fadeIn(openWSE_Config.animationSpeed)) : (openWSE.AlertWindow("There are no help pages available for this webpage."), Z()) }, error: function () { Fi ? (G(), $("#help_main_holder").fadeIn(openWSE_Config.animationSpeed)) : (openWSE.AlertWindow("There was an error retrieving the help pages. Please try again."), Z()) } }) } function D(e, a) { var t = "<span class='pad-left'>Welecome to " + openWSE_Config.siteName + "</span>"; a || (t = "<span class='pad-left'>" + openWSE_Config.siteName + " Help Pages</span>"); var i = ""; a || (i += "<input type='button' class='input-buttons float-left' onclick='openWSE.HelpOverlay(false, " + Gi + ")' value='Close' />"), $i > e + 1 ? i += "<input type='button' class='input-buttons float-right' onclick='openWSE.HelpMenuPageLoad(" + (e + 1).toString() + "," + a + ")' value='Next' />" : e + 1 == $i && a && (i += "<input type='button' class='input-buttons float-right' onclick='openWSE.NewUserPageLoad()' value='Next' />"), e > 0 && (i += "<input type='button' class='input-buttons float-right' onclick='openWSE.HelpMenuPageLoad(" + (e - 1).toString() + "," + a + ")' value='Back' />"), $("#helpmenu_title").html("<div class='help-Title-Top'>" + t + i + "</div>"), e += 1; var n = document.location.href; n = n.substring(n.lastIndexOf("/") + 1), n = n.replace(n.substring(n.indexOf(".")), ""), u("Loading..."), $("#helpdiv_pageholder").load(openWSE.siteRoot() + "HelpPages/" + n + "/HelpPage" + e + ".html", function () { g(), $(".help-images-workspace-img").each(function () { if (!$(this).hasClass("ignoreSrc")) { var e = $(this).attr("src"); $(this).attr("src", openWSE.siteRoot() + "HelpPages/" + n + "/images/" + e) } }) }) } function G() { var e = "<span class='pad-left'>Welecome to " + openWSE_Config.siteName + "</span>", a = ""; a += "<input id='btnFinish' type='button' class='input-buttons float-right display-none' onclick='openWSE.NewUserfinsh()' value='Finish' />", $i > 0 && (a += "<input type='button' class='input-buttons float-right' onclick='openWSE.HelpMenuPageLoad(" + ($i - 1).toString() + ",true)' value='Back' />"), $("#helpmenu_title").html("<div class='help-Title-Top'>" + e + a + "</div>"), $("#helpdiv_pageholder").html("<div style='position: absolute; top: 50%; left: 50%; margin-left: -95px; margin-top: -45px; padding: 20px;'><div class='loading-icon-lrg margin-top-sml'></div><h3 style='color: #FFF; float: left; font-weight: bold;'>Loading Step....</h3></div>"), u("Loading..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/CheckForEmailAddress", data: "", type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { Di = openWSE.ConvertBitToBoolean(e.d[0]), Gi = openWSE.ConvertBitToBoolean(e.d[1]); var a = ""; a = Di || Gi ? Y() : J(), $("#helpdiv_pageholder").html(a), setTimeout(function () { Hi ? $("#tb_emailaddress_update").focus() : Ui && $("#tb_newpassword_update").focus() }, 500), g() } }) } function q() { var e = $.trim($("#tb_emailaddress_update").val()); "" != e && (u("Updating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/AddEmailAddress", data: '{"email": "' + escape(e) + '"}', type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && (Di = !1, $("#update-email-helpdiv").remove()), 0 == $("#update-password-helpdiv").length && G(), g() } })) } function V() { var e = $.trim($("#tb_newpassword_update").val()), a = $.trim($("#tb_confirmnewpassword_update").val()); $("#span_passwordmismatch").html(""), "" == e ? $("#span_newpassword_update").show() : $("#span_newpassword_update").hide(), "" == a ? $("#span_confirmnewpassword_update").show() : $("#span_confirmnewpassword_update").hide(), e == a && "" != e && "" != a ? e.length < openWSE_Config.minPasswordLength ? $("#span_passwordmismatch").html("Password does not meet requirements.") : (u("Updating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/UpdateAdminPassword", data: '{"password1": "' + escape(e) + '"}', type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && (Gi = !1, $("#update-password-helpdiv").remove()), 0 == $("#update-email-helpdiv").length && G(), g() } })) : "" != e && "" != a && $("#span_passwordmismatch").html("Passwords do not match.") } function Y() { var e = ""; return Di ? (Hi = !0, Ui = !1, e += "<div id='update-email-helpdiv' class='pad-all' align='center'>", e += "<h3>Before you can continue, you must provide a valid email address.<br />This email address will be used for notifications and password recovery.<br />If you fail to provide a valid email address, you will not be able to use the password recovery feature on the login page.</h3>", e += "<div class='clear-space'></div>", e += "<div class='clear-space'></div>", e += "<h3>Please provide a valid email address</h3>", e += "<div class='clear-space'></div>", e += "<span class='pad-right font-bold'>Email Address</span><input type='text' id='tb_emailaddress_update' onkeypress='openWSE.OnEmailUpdate_KeyPress(event)' class='textEntry margin-right' style='width: 200px;' />", e += "<input type='button' class='input-buttons' onclick='openWSE.UpdateEmail()' value='Update' />", e += "<div class='clear-space'></div>", e += "<div class='clear-space'></div>", e += "<div class='clear-space'></div>", e += "</div>") : Gi && (Hi = !1, Ui = !0, e += "<div id='update-password-helpdiv' class='pad-all' align='center'>", e += "<h3>You are currently signed in as Administrator. Create a new password for your Administrator account.</h3>", e += "<div class='clear-space-two'></div><small><b class='pad-right-sml'>Note:</b>Password must be at least " + openWSE_Config.minPasswordLength + " characters long.</small>", e += "<div class='clear-space'></div><table border='0' cellpadding='0' cellspacing='0'>", e += "<tr><td align='right'><span class='pad-right font-bold'>New Password:</span></td>", e += "<td align='left'><input type='password' id='tb_newpassword_update' onkeypress='openWSE.OnPasswordUpdate_KeyPress(event)' class='textEntry margin-right' style='width: 200px;' /><span id='span_newpassword_update' style='display: none; color: Red;'>*</span></td></tr>", e += "<tr><td></td><td><div class='clear-space'></div></td></tr>", e += "<tr><td align='right'><span class='pad-right font-bold'>Confirm New Password:</span></td>", e += "<td align='left'><input type='password' id='tb_confirmnewpassword_update' onkeypress='openWSE.OnPasswordUpdate_KeyPress(event)' class='textEntry margin-right' style='width: 200px;' /><span id='span_confirmnewpassword_update' style='display: none; color: Red;'>*</span></td></tr></table>", e += "<div class='clear-space'></div>", e += "<input type='button' class='input-buttons no-margin' onclick='openWSE.UpdateAdminPassword()' value='Change Password' />", e += "<div class='clear-space'></div>", e += "<span id='span_passwordmismatch' style='color: Red;'></div>", e += "</div>"), e } function K(e) { (13 == e.which || 13 == e.keyCode) && (openWSE.UpdateEmail(), e.preventDefault()) } function Q(e) { (13 == e.which || 13 == e.keyCode) && (openWSE.UpdateAdminPassword(), e.preventDefault()) } function J() { var e = ""; return e = "<div class='pad-all' align='center'>", e += "<h3>You are now setup. Please click finish to load your workspace. You can change your email address within your 'Account Settings' page. If you need help in the future, click on the help icon at the bottom left hand corner of the workspace.</h3>", e += "<h3>By using this site you agree that OpenWSE can save cookies to your device. These cookies contain no information regarding your personal information.</h3>", e += "</div>", $("#btnFinish").removeClass("display-none"), e } function X() { $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/UpdateAcctNewMember", data: "", type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { var a = e.d; openWSE.ConvertBitToBoolean(a) && (window.location = openWSE.siteRoot() + "Workspace.aspx") } }) } function Z() { Fi = !1, Gi = !1, "block" == $("#help_main_holder").css("display") && $("#help_main_holder").fadeOut(openWSE_Config.animationSpeed, function () { $("#helpmenu_title, #helpdiv_1, #helpdiv_2").html("") }); try { var e = window.location.href; if (-1 != e.indexOf("?help")) { var a = e.split("?help"); if (a.length > 1) { var t = "?help" + a[1]; e = e.replace(t, ""), window.location = e } else e = e.replace("?help", ""); window.location = e } else if (-1 != e.indexOf("&help")) { var a = e.split("&help"); if (a.length > 1) { var t = "&help" + a[1]; e = e.replace(t, "") } else e = e.replace("&help", ""); window.location = e } } catch (i) { } } function ea(e) { $(window).load(function () { var a = unescape(e), t = "<div id='OpenWSEUpdates-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='550'>", t += "<div class='ModalHeader'><div><span class='Modal-title'></span></div></div>", t += "<div class='ModalScrollContent'><div class='ModalPadContent'>" + a + "</div></div>", t += "</div></div></div></div></div>", $("body").append(t), openWSE.LoadModalWindow(!0, "OpenWSEUpdates-element", "Site Updates") }) } function aa(e) { $(window).load(function () { var a = unescape(e), t = "<div id='Activation-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='500'>", t += "<div class='ModalHeader'><div><span class='Modal-title'></span></div></div>"; var i = "<img alt='' class='float-left pad-right-sml' src='" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/App/approve.png' style='height: 17px;' />", n = "<span style='font-size: 15px'>Got it</span>", o = "<a href='" + openWSE.siteRoot() + "Workspace.aspx' class='input-buttons no-margin' style='text-decoration: none!important;'>" + i + " " + n + "</a>"; t += "<div class='ModalScrollContent'><div class='ModalPadContent'>" + a + "<div class='clear-space'></div><div align='center'>" + o + "</div>", t += "</div></div></div></div></div></div></div>", $("body").append(t), openWSE.LoadModalWindow(!0, "Activation-element", "Activation") }) } function ta() { $("#OpenWSEUpdates-element").remove() } function ia(e) { u("Closing Overlay..."); var a = $(e).closest(".workspace-overlay-selector"); 0 == a.length && (a = $("." + e)), a.remove(), $.ajax({ url: wi + "/Overlay_Disable", type: "POST", data: '{ "classes": "' + a.attr("class") + '" }', contentType: "application/json; charset=utf-8", success: function (e) { oa(e.d), g() }, error: function () { g() } }) } function na(e) { for (var a = e.split(","), t = "#" + openWSE_Config.overlayPanelId, i = 0; i < a.length; i++) "" != a[i] && ($(t).find("." + a[i]).length > 0 && $(t).find("." + a[i]).remove(), $(t).hide().prepend($(".move-holder").find("." + a[i])).show()); "" != e && da() } function oa(e) { var a = $("." + e); a.length > 0 && a.remove(), da() } function sa() {
        u("Loading..."), $.ajax({
            url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/GetUserOverlays", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (e) {
                var a = ""; if (null != e.d) {
                    a += "<div class='add-rss-list-header'>Available Overlays</div>"; for (var t = 0; t < e.d.length; t++) {
                        var i = "Add Overlay", n = "";
                        openWSE.ConvertBitToBoolean(e.d[t][3]) && (i = "Remove Overlay", n = "add-rss-list-item-hasitem"); var o = "<table width='100%'><tr><td style='width: 170px;'><div class='pad-right-big'>" + e.d[t][0] + "</div></td><td align='left'>" + e.d[t][2] + "</td></tr></table>"; a += "<div class='add-rss-list-item " + n + "' title='" + i + "' onclick=\"openWSE.AddRemoveOverlayClick('" + e.d[t][1] + "', this);\">" + o + "</div>"
                    } 0 == e.d.length && (a += "<div class='emptyGridView'>No overlays available</div>")
                } $("#overlayEdit-element").find("#overlay-edit-list").html(a), g(), B(!0, "overlayEdit-element", "Add/Remove Overlay")
            }, error: function () { g(), openWSE.AlertWindow("There was an error retrieving your overlays. Please try again.") }
        })
    } function pa(e, a) { $(a).hasClass("add-rss-list-item-hasitem") ? (ia(e), $(a).removeClass("add-rss-list-item-hasitem")) : (u("Adding Overlay..."), $(a).addClass("add-rss-list-item-hasitem"), $("#hf_loadOverlay1").val(e), __doPostBack("hf_loadOverlay1", "")) } function la() { $(".overlay-table").length > 0 && $(".overlay-table").remove(); var e = $("#" + openWSE_Config.overlayPanelId); if (e.length > 0) { var a = 0; $(".workspace-overlay-selector").each(function (t) { t % qi == 0 && (a++, e.append("<table id='overlay-table-id-" + a + "' class='overlay-table' cellpadding='0' cellspacing='0'></table>"), $("#overlay-table-id-" + a).append("<tr></tr>")); var i = $("#overlay-table-id-" + a).find("tr").eq(0); i.append("<td class='overlay-cell-" + t + "'></td>"), $("#overlay-table-id-" + a).find(".overlay-cell-" + t).append($(this)) }), "pnl_OverlaysAll" != openWSE_Config.overlayPanelId && 0 != $("#MainContent_pnl_adminnote").length && (e.prepend($("#MainContent_pnl_adminnote")), $("#MainContent_pnl_adminnote").removeClass("administrator-workspace-note").addClass("workspace-overlays administrator-workspace-note-overlay")) } } function da() { $(".workspace-overlay-selector").each(function () { $("#" + openWSE_Config.overlayPanelId).append($(this)) }), la() } function ra(e) { if (!openWSE_Config.demoMode && $("#notification-tab-b").is(":visible") && !mi) { mi = !0, 0 == $(".ddLoadingMessage").length && e && $(".table-notiMessages-div").prepend(gi); var a = new Array; $("#table_NotiMessages tr").each(function (e) { a[e] = $(this).attr("id") }); var t = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/LoadUserNotifications"; $.ajax({ url: t, type: "POST", data: '{ "_currIds": "' + a + '","siteTheme": "' + openWSE_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $(".ddLoadingMessage").remove(), null != e.d && "" != e.d ? ($("#NotificationHolder").html($.trim(e.d)), $("#no-notifications-id").length > 0 ? $("#lb_clearNoti").hide() : $("#lb_clearNoti").show()) : $("#lb_clearNoti").hide(), mi = !1, $a(), ba(), ca() }, error: function () { $(".ddLoadingMessage").remove(), ba(), $("#NotificationHolder").html("<h3 class='pad-top-big pad-bottom' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), $("#lb_clearNoti").hide(), mi = !1 } }) } } function ca() { var e = document.getElementById("table-notiMessages-div-id"); if (null != e) { var a = $("#table-notiMessages-div-id").innerHeight(), t = parseInt($("#table-notiMessages-div-id").css("max-height")); if (a >= e.scrollHeight || e.scrollHeight < t) { var i = parseInt($("#lbl_notifications").find("span").html()), n = parseInt($("#table_NotiMessages tr").length); i > n && ($(".ddLoadingMessage").remove(), $("#NotificationHolder").append(gi), ha()) } } } function ha() { if (!openWSE_Config.demoMode && $("#notification-tab-b").is(":visible") && !ui && !mi) { ui = !0; var e = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/LoadMoreUserNotifications", a = new Array; $("#table_NotiMessages tr").each(function (e) { a[e] = $(this).attr("id") }), $.ajax({ url: e, type: "POST", data: '{ "_currIds": "' + a + '","_currCount": "' + parseInt($("#table_NotiMessages tr").length) + '","siteTheme": "' + openWSE_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $(".ddLoadingMessage").remove(), null != e.d && "" != e.d && $("#table_NotiMessages").append($.trim(e.d)), $a(), ba(), ui = !1, ca() }, error: function () { $(".ddLoadingMessage").remove(), ba(), $("#NotificationHolder").append("<h3 class='pad-bottom-big' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), ui = !1 } }) } } function fa() { if (!openWSE_Config.demoMode && $("#notification-tab-b").is(":visible") && !ui) { ui = !0; var e = new Array; $("#table_NotiMessages tr").each(function (a) { e[a] = $(this).attr("id") }); var a = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/RefreshUserNotifications"; $.ajax({ url: a, type: "POST", data: '{ "_currIds": "' + e + '","siteTheme": "' + openWSE_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { if ($(".ddLoadingMessage").remove(), null != e.d[0] && "" != e.d[0]) if ($("#table_NotiMessages").length > 0) $("#table_NotiMessages").prepend($.trim(e.d[0])); else { var a = "<table ID='table_NotiMessages' class='table-notiMessages' cellpadding='5' cellspacing='5'>"; a += $.trim(e.d[0]) + "</table>", $("#NotificationHolder").html(a) } if (null != e.d[1]) for (var t = 0; t < e.d[1].length; t++) { var i = e.d[1][t]; $("#" + i).fadeOut(openWSE_Config.animationSpeed, function () { $("#" + i).remove() }) } "0" == $("#lbl_notifications").find("span").html() && ($("#NotificationHolder").html("<h3 id='no-notifications-id'>No notifications available.</h3>"), $("#lb_clearNoti").hide()), $a(), ba(), ui = !1 }, error: function () { $(".ddLoadingMessage").remove(), ba(), $("#NotificationHolder").html("<h3 class='pad-top-big pad-bottom-big' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), ui = !1 } }) } } function ma() { $(".ddLoadingMessage").remove(), $("#NotificationHolder").html(""), $("#lb_clearNoti").hide(), mi = !1 } function ua() { $(".ddLoadingMessage").remove(), $("#lbl_notifications").removeClass("notifications-new"), $("#lbl_notifications").addClass("notifications-none"), $("#lbl_notifications").html("<span>0</span>"), $("#NotificationHolder").html("<h3 id='no-notifications-id'>No notifications available.</h3>"), $("#lb_clearNoti").hide() } function va() { if (!openWSE_Config.demoMode) { u("Clearing Notifications..."); var e = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/DeleteNotifications"; $.ajax({ url: e, type: "POST", data: '{ "id": "ClearAll" }', contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && (g(), ua()) } }) } } function ga(e) { if (!openWSE_Config.demoMode) { u("Deleting. Please Wait..."); var a = $(e).closest("tr"), t = a.attr("id"), i = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/DeleteNotifications"; $.ajax({ url: i, type: "POST", data: '{ "id": "' + t + '" }', contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && a.fadeOut(openWSE_Config.animationSpeed, function () { if (g(), a.remove(), "1" == $("#lbl_notifications").find("span").html()) ua(); else { var e = parseInt($("#lbl_notifications").find("span").html()); e -= 1, $("#lbl_notifications").html("<span>" + e + "</span>") } }) } }) } } function $a() { if ($("#notification-tab-b").is(":visible")) { var e = 65, a = $(window).height() - (e + Pi), t = 7, i = $(window).width() - t; $(".table-notiMessages-div").css({ maxHeight: a, maxWidth: i }), ca() } } function ba() { $(".table-notiMessages-div").scroll(function () { var e = document.getElementById("table-notiMessages-div-id"); if (null != e) { var a = $(".table-notiMessages-div"), t = a.scrollTop(), i = a.innerHeight(); if (t > 0 && t + i >= e.scrollHeight) { var n = parseInt($("#lbl_notifications").find("span").html()), o = parseInt($("#table_NotiMessages tr").length); n > o && ($(".ddLoadingMessage").remove(), $("#NotificationHolder").append(gi), ha()) } } }) } function ya() { try { var e = document.getElementById("hf_noti_update_hiddenField").value; "" == e && (e = "0"), openWSE.ConvertBitToBoolean(e) && ($("#noti-update-element").show(), setTimeout(function () { $("#noti-update-element").fadeOut(openWSE_Config.animationSpeed, function () { $("#hf_noti_update_hiddenField").val("false") }) }, 2500)) } catch (a) { } } function wa() { "none" != $("#Login-holder").css("display") ? ($("#Login-holder").hide(), $("#iframe-createaccount-holder").html("<iframe id='iframe-demo' src='SiteTools/iframes/CreateAccount.aspx' frameborder='0' width='315px' style='visibility: hidden;'></iframe>"), $("#iframe-createaccount-holder").append("<div style='text-align: center;'><h3 id='loadingControls'>Loading Controls. Please Wait...</h3></div>"), $("#CreateAccount-holder").fadeIn(openWSE_Config.animationSpeed), $("#iframe-demo").load(function () { $("#loadingControls").remove(), $("#register_password_cancel").show(), $("#iframe-demo").css({ height: "475px", visibility: "visible" }) })) : ($("#CreateAccount-holder, #ForgotPassword-holder, #register_password_cancel").hide(), $("#iframe-createaccount-holder").html(""), $("#Login-holder").fadeIn(openWSE_Config.animationSpeed)) } function Ca() { $("#tb_username_recovery").val(""), $("#lbl_passwordResetMessage").html(""), $("#UserNameRequired_recovery").css("visibility", "hidden"), $("#Login-holder").hide(), $("#register_password_cancel").show(), $("#ForgotPassword-holder").fadeIn(openWSE_Config.animationSpeed) } function Sa() { var e = $.trim($("#tb_weather_postalCode").val()); "" != e && (cookie.set("weather_postal", e, "30"), ka(openWSE_Config.siteTheme)) } function ka(e) { var a = "66212", t = cookie.get("weather_postal"); "" == $.trim(t) || null == t || void 0 == t ? (a = $.trim($("#tb_weather_postalCode").val()), cookie.set("weather_postal", a, "30")) : a = t, "" == a && (a = "66212"), "" != e && (openWSE_Config.siteTheme = e); var i = "//builder.zoomradar.net/weather_builder/widget.page.php?s=250x250&z=" + a + "&i=1&c=5&ft=Current%20Weather", n = '<iframe src="' + i + '" width="250" height="250" style="border: 0; opacity: 0.85; filter:alpha(opacity=85);" frameborder="0"></iframe>', a = "<span>Postal Code:</span><input id='tb_weather_postalCode' type='text' class='textEntry margin-left margin-right' maxlength='10' value='" + a + "' style='width: 60px;' />", o = "<a href='#' onclick='openWSE.SetPostalCode();return false;' class='img-refresh pad-all-sml margin-right-sml margin-bottom-sml float-right' title='Refresh weather'></a>"; $("#Weather_Overlay_Position").html(n + "<div class='clear-space-two'></div><div id='weather-button-holder' class='overlay-header' style='height: 25px;'>" + o + a + "</div>") } function _a(e, a) { if ($("#iframe-container-helper").length > 0) xa(), setTimeout(function () { _a(e, a) }, openWSE_Config.animationSpeed); else { var t = "", i = window.location.hash; t = -1 == i.indexOf("#") && "#" != window.location.href.charAt(window.location.href.length - 1) ? "#?" : "" != i ? "&" : "?", t += "iframecontent=" + e, window.location += t } } function Wa(e, a) { if ($("#iframe-container-helper").length > 0) xa(), setTimeout(function () { Wa(e, a) }, openWSE_Config.animationSpeed); else { var t = $(window).height() - ($("#always-visible").height() + $("#container-footer").height()); Ea(e) || (e = openWSE.siteRoot() + e); var n = "<iframe id='iframe-content-src' src='" + e + "' width='100%' frameborder='0' style='height: " + t + "px;'></iframe>", o = "<div id='iframe-container-helper'>" + n + "<div class='loading-background-holder'></div></div>", s = "<div id='iframe-container-close-btn'><a href='#' onclick='openWSE.CloseIFrameContent();return false;'>Close " + a + "</a></div>"; $("#workspace-selector").hide(), $("#top-main-bar-top").append(s), $("body").append(o), $("#container").hide(), $("#minimized-app-bar").hide(), $("#iframe-container-helper").fadeIn(openWSE_Config.animationSpeed), document.getElementById("iframe-content-src").onload = function () { $(document).ready(function () { setTimeout(function () { $("#iframe-container-helper").find(".loading-background-holder").remove() }, 150) }) }, $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), cookie.del("top_menu"), "none" == $("#always-visible").css("display") && $("#always-visible").show(), i(!0) } } function xa() { "none" == $("#always-visible").find(".top-options").css("display") && $("#always-visible").hide(), $("#container").show(), $("#iframe-container-helper").html(""), $("#iframe-container-helper").fadeOut(openWSE_Config.animationSpeed, function () { $("#iframe-container-helper").remove(), $("#iframe-container-close-btn").remove(), $("#workspace-selector").show(), $("#minimized-app-bar").show(), i(!0) }); try { var e = window.location.href; if (-1 != e.indexOf("?iframecontent=")) { var a = e.split("?iframecontent="); if (a.length > 1) { var t = "?iframecontent=" + a[1]; e = e.replace(t, ""), window.location = e } } else if (-1 != e.indexOf("&iframecontent=")) { var a = e.split("&iframecontent="); if (a.length > 1) { var t = "&iframecontent=" + a[1]; e = e.replace(t, ""), window.location = e } } } catch (n) { } $(window).resize() } function Ea(e) { var a = e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/); return "string" == typeof a[1] && a[1].length > 0 && a[1].toLowerCase() !== location.protocol ? !0 : "string" == typeof a[2] && a[2].length > 0 && a[2].replace(new RegExp(":(" + { "http:": 80, "https:": 443 }[location.protocol] + ")?$"), "") !== location.host ? !0 : !1 } function Ma() { try { $("#background_selector_overlay").length > 0 && $("#background_selector_overlay").remove(), u("Loading Backgrounds"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/GetServerImageList", type: "POST", data: '{ "_workspace": "' + ja() + '" }', contentType: "application/json; charset=utf-8", success: function (e) { if (2 == e.d.length) { var a = "<div style='text-align: left'><small><b class='pad-right-sml'>Note:</b>All backgrounds will repeat on the workspace. Your connection speed will slow down with the larger sized images. Each image has the size details when you hover over them. Solid color backgrounds will be the quickest if you have a slower internet.</small></div>"; a += "<div class='clear' style='height: 20px;'></div><div class='float-left'><span class='pad-right font-bold float-left pad-top-sml'>Url Link</span><input id='tb_imageurl' type='text' value='Link to image' class='textEntry' onfocus='if(this.value==\"Link to image\")this.value=\"\"' onblur='if(this.value==\"\")this.value=\"Link to image\"' style='width:355px;'>", a += "<input id='btn_urlupdate' type='button' value='Update Url' class='input-buttons margin-left' onclick='openWSE.updateBackgroundURL()' /><br /><div class='float-left'>Copy and paste any link that contains an image.</div></div>", a += "<a href='#' class='float-right' onclick='openWSE.ClearBackground();return false;'>Clear Background</a>", a += "<div class='clear' style='height: 20px;'></div>", a += "<span class='pad-right font-bold float-left pad-top-sml'>Solid Color</span><input id='tb_solidColorBg' type='text' class='textEntry float-left margin-right color' style='width: 75px;' />", a += "<input id='btn_urlbgcolor' type='button' value='Update Color' class='input-buttons float-left' onclick='openWSE.updateBackgroundColor()' />", a += "<div class='clear' style='height: 30px;'></div>", a += e.d[1], $("#background-selector-holder").html(a); try { jscolor.init() } catch (t) { } e.d[0].length > 6 ? $("#tb_imageurl").val(e.d[0]) : 6 == e.d[0].length && $("#tb_solidColorBg").val(e.d[0]), B(!0, "BackgroundSelector-element", "Select a new background") } else b("There was an error pulling the backgrounds down from the server. Please try again.", window.location.href); g() } }) } catch (e) { g() } } function Aa() { $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + ja() + '","_img": "" }', contentType: "application/json; charset=utf-8", success: function () { 0 == $("#app_title_bg").length ? ($("#maincontent_overflow").css("background", ""), $("#maincontent_overflow").hasClass("maincontent_overflow-main-bg") || $("#maincontent_overflow").addClass("maincontent_overflow-main-bg")) : $(".workspace-backgrounds-fixed").length > 0 ? $("#MainContent_bg_" + ja()).css("background", openWSE_Config.defaultBackgroundColor + " url('" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Body/default-bg.jpg') repeat " + openWSE_Config.defaultBackgroundPosition) : $("#app_title_bg").css("background", openWSE_Config.defaultBackgroundColor + " url('" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Body/default-bg.jpg') repeat " + openWSE_Config.defaultBackgroundPosition), $("#tb_imageurl").val(""), $("#tb_solidColorBg").val("FFFFFF"), $("#tb_solidColorBg").attr("style", "width: 75px;"), $(".image-selector-active").each(function () { $(this).removeClass("image-selector-active"), $(this).addClass("image-selector") }) } }) } function Ta() { $("#background_selector_overlay").fadeOut(openWSE_Config.animationSpeed, function () { $("#background_selector_overlay").remove() }) } function Oa() { var e = $("#background-selector-holder").find("#tb_imageurl").val(); "Link to image" != e && Ra(e) } function Pa() { var e = $("#background-selector-holder").find("#tb_solidColorBg").val(); 6 == e.length && Ra(e) } function Ra(e) { openWSE_Config.demoMode ? Ia(e) : (u("Saving Background"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + ja() + '","_img": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (a) { "" != a.d && Ia(e), openWSE.RemoveUpdateModal() } })) } function Ia(e) { 0 == $("#app_title_bg").length ? ($("#maincontent_overflow").hasClass("maincontent_overflow-main-bg") && $("#maincontent_overflow").removeClass("maincontent_overflow-main-bg"), e.length > 6 ? ($("#maincontent_overflow").css("background-image", "url('" + e + "')"), $("#maincontent_overflow").css("background-color", openWSE_Config.defaultBackgroundColor), $("#maincontent_overflow").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#maincontent_overflow").css("background-repeat", "repeat repeat")) : $("#maincontent_overflow").css("background", "#" + e)) : $(".workspace-backgrounds-fixed").length > 0 ? e.length > 6 ? $("#MainContent_bg_" + ja()).css("background", openWSE_Config.defaultBackgroundColor + " url('" + e + "') repeat " + openWSE_Config.defaultBackgroundPosition) : $("#MainContent_bg_" + ja()).css("background", "#" + e) : e.length > 6 ? $("#app_title_bg").css("background", openWSE_Config.defaultBackgroundColor + " url('" + e + "') repeat " + openWSE_Config.defaultBackgroundPosition) : $("#app_title_bg").css("background", "#" + e), $(".image-selector-active").each(function () { $(this).removeClass("image-selector-active"), $(this).addClass("image-selector") }) } function Ba(e) { $(e).find(".app-main-holder").each(function () { var e = $(this).attr("data-appid"); 0 != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").length && "none" != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").css("display") && $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").hide() }) } function La(e) { $(e).find(".app-main-holder").each(function () { var e = $(this).attr("data-appid"); 0 != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").length && "none" == $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").css("display") && $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").show() }), $("#minimized-app-bar").fadeIn(openWSE_Config.animationSpeed) } function za(e) { Ha(e), id = "#MainContent_workspace_" + e, at($(id)), $(id).css({ visibility: "visible", opacity: 1, filter: "alpha(opacity=100)" }), $("#workspace_holder .workspace-holder").each(function () { "visible" != $(this).css("visibility") && ot(this) }) } function ja() { for (var e = $("#workspace_holder").find(".workspace-holder"), a = e.length, t = 0; a > t; t++) if ("visible" == e.eq(t).css("visibility")) { var i = e.eq(t).attr("id"); return "workspace_" + i.substring(i.lastIndexOf("_") + 1) } return "workspace_1" } function Na(e, a) { ot($(e)), st($(a)), openWSE_Config.taskBarShowAll || (Ba($(e)), La($(a))), $(e).css({ opacity: 0, filter: "alpha(opacity=0)" }), openWSE_Config.animationSpeed > 0 ? $(a).fadeTo(openWSE_Config.animationSpeed, 1) : $(a).css({ opacity: 1, filter: "alpha(opacity=100)" }), at($(a)) } function Ha(e) { $("#ddl_WorkspaceSelector").find(".selected-workspace").html("Workspace " + e) } function Ua() { $("#ddl_WorkspaceSelector").removeClass("active"), $("#ddl_WorkspaceSelector").parent().removeClass("active"), $("#ddl_WorkspaceSelector").find(".dropdown-db-selector").hide() } function Fa(e, a, t, i) { setTimeout(function () { a == t ? a = 1 : a++; var n = "#MainContent_workspace_" + a; Ha(a); var o = !1, s = !1; $("#workspace_holder .workspace-holder").each(function () { "visible" == $(this).css("visibility") && (openWSE_Config.taskBarShowAll || $("#minimized-app-bar").fadeOut(openWSE_Config.animationSpeed), $(this).fadeTo(openWSE_Config.animationSpeed, 0, function () { return o ? void 0 : (o = !0, ot(this), st($(n)), openWSE_Config.taskBarShowAll || (Ba(this), La($(n))), $(n).find(".app-main-holder").each(function () { i && Da(this) }), at($(n)), $(n).fadeTo(openWSE_Config.animationSpeed, 1, function () { s || (s = !0) }), !1) })) }), Fa(e, a, t, i) }, 1e3 * e) } function Da(e) { var a = ($(e).find(".app-title").text(), $(e)), t = a.attr("data-appid"); if ("block" == a.css("display")) if (tt($(".app-main-holder[data-appid='" + t + "']")), $(".app-main-holder").css("z-index", "1000"), a.css("z-index", "3000"), a.find(".iFrame-apps").length > 0) { var i = $get(t + " .iFrame-apps"); null != i.src && (i.src = i.src) } else $("#hf_ReloadApp").val(t), __doPostBack("hf_ReloadApp", "") } function Ga(e) { bi = !0, e && (Oi = !0, yi = !0), $("#updatePnl_AppList").sortable({ axis: "y", cancel: ".app-icon-category-list, #Category-Back, .app-popup", containment: "#updatePnl_AppList", opacity: .6, scrollSensitivity: 40, scrollSpeed: 40, start: function () { $(document).tooltip({ disabled: !0 }) }, stop: function () { var e = ""; $(".app-icon").each(function () { var a = $(this).attr("data-appid"); "" != a && -1 == e.indexOf(a) && (e += a + ",") }), Oi && $.ajax({ url: wi + "/App_UpdateIcons", type: "POST", data: '{ "appList": "' + escape(e) + '" }', contentType: "application/json; charset=utf-8" }), $(document).tooltip({ disabled: !1 }) } }), $("#updatePnl_AppList").disableSelection() } function qa(e, a, t, i, n, o, s, p, l) { var d = $(".app-main-holder[data-appid='" + e + "']"); if (null != t && "" != t) { d.find(".app-title").text(a), openWSE.ConvertBitToBoolean(l) && (d.addClass("app-maximized"), d.find(".maximize-button-app").addClass("active")), "" != o && d.css("width", o), "" != s && d.css("height", s), openWSE.ConvertBitToBoolean(p) ? (Va(d, a, i, n), ot(d)) : (d.css({ visibility: "visible", display: "block", zIndex: 3e3 }), openWSE.ConvertBitToBoolean(l) || (d.removeClass("app-maximized"), d.find(".maximize-button-app").removeClass("active"), parseInt(n) < 0 && (n = "0"), parseInt(i) < 0 && (i = "0"), d.css({ left: i, top: n }))), -1 == t.indexOf(".ascx") && (-1 != t.indexOf("ChatClient/ChatWindow.html") ? (d.find(".app-body").html("<iframe class='iFrame-apps' src='" + openWSE.siteRoot() + t + "' width='100%' frameborder='0'></iframe>"), tt(d), d.find("iframe").one("load", function () { tt(d), d.find(".loading-background-holder").each(function () { $(this).remove() }) })) : d.find(".app-body").load(openWSE.siteRoot() + "Apps/" + t, function () { d.find(".app-body").find("iframe").length > 0 && (d.find(".app-body").find(".loading-background-holder").length <= 0 && d.find(".app-body").append(Ci), tt(d), d.find(".app-body").find("iframe").one("load", function () { tt(d), d.find(".app-body").find(".loading-background-holder").each(function () { $(this).remove() }) })) })), wt(d); var r = d.parent().attr("id"); void 0 != r && null != r && "" != r && Ct(r, e) } } function Va(e, a, t, i) { var n = $(e); if (n.length > 0) { var o = n.attr("data-appid"), s = n.find(".app-header-icon"), p = n.find(".app-title"), l = !1, d = !1, r = "", c = "app-min-bar"; -1 != o.replace(/#/gi, "").indexOf("app-ChatClient-") && (c = "app-min-bar chat-modal", r = " chat-username='" + n.attr("chat-username") + "'"); var h = "<div data-appid='" + o + "' class='" + c + "'" + r + " data-x='" + t + "' data-y='" + i + "'>"; if (s.hasClass("display-none") || 0 == s.length || p.hasClass("display-none")) if ((s.hasClass("display-none") || 0 == s.length) && p.hasClass("display-none")) h += "<span class='app-title pad-right'>" + a + "</span>", h += "<a href='#" + o + "' class='exit-button-app-min'></a></div>"; else { var f = !1, m = !0; s.hasClass("display-none") || (h += s.outerHTML(), f = !0, "none" == s.css("display") && (l = !0)), p.hasClass("display-none") ? (h += "<span class='app-title pad-right display-none'>" + a + "</span>", d = !0, m = !1) : h += "<span class='app-title pad-right'>" + a + "</span>"; var u = ""; f && !m && (u = " style='margin-left: 5px;'"), h += "<a href='#" + o + "' class='exit-button-app-min'" + u + "></a></div>" } else h += s.outerHTML(), "none" == s.css("display") && (l = !0), h += "<span class='app-title pad-right'>" + a + "</span>", h += "<a href='#" + o + "' class='exit-button-app-min'></a></div>"; 0 == $(".app-min-bar[data-appid='" + o + "']").length && $("#minimized-app-bar").append(h), l && $(".app-min-bar[data-appid='" + o + "']").find(".app-header-icon").show(), d && $(".app-min-bar[data-appid='" + o + "']").attr("title", a), n.css({ visibility: "hidden", display: "block" }) } } function Ya(e, a) { var t = $(e).find(".app-icon-font").text(); "" == t && (t = $(e).find(".app-title").text(), "" == t && (t = $(e).find("span").text())); var i = $(e).attr("data-appid"); if (void 0 != i && null != i && "" != i) { var n = $(".app-main-holder[data-appid='" + i + "']"); $.ajax({ url: wi + "/App_Open", type: "POST", data: '{ "appId": "' + i + '","name": "' + t + '","workspace": "' + a + '","width": "' + n.width() + '","height": "' + n.height() + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function (e) { var o = e.d; if ("" != o) { ht(n), pt(a, i), Ct(a, i); var s = n.width(), p = n.height(); if ("block" != n.css("display") || "visible" != n.css("visibility")) { if (-1 != i.indexOf("app-ChatClient-")) { var l = n.attr("chat-username"); o = "ChatClient/ChatWindow.html?user=" + l + "&displayVersion=workspace" } if (null == n.css("left") && null == n.css("top") || "auto" == n.css("left") && "auto" == n.css("top") ? qa(i, t, o, "50px", "50px", s, p, "1", "0") : (parseInt(n.css("top")) < 0 && n.css("top", "50px"), parseInt(n.css("left")) < 0 && n.css("left", "50px"), qa(i, t, o, n.css("left"), n.css("top"), s, p, "1", "0")), n.css("display", "block"), n.css("visibility", "visible"), n.css("z-index", "3000"), 0 != $(".app-min-bar[data-appid='" + i + "']").length) { n.find(".loading-background-holder").length <= 0 && n.find(".app-body").append(Ci), n.hasClass("auto-full-page") || n.hasClass("auto-full-page-min") || n.hasClass("app-maximized") || n.hasClass("app-maximized-min") ? (dt(n), n.find(".maximize-button-app").addClass("active"), n.css("top", "0px")) : (n.find(".maximize-button-app").removeClass("active"), n.css("width", s), n.css("height", p), n.css("top", Pi)); var d = $(".app-min-bar[data-appid='" + i + "']").attr("data-x"), r = $(".app-min-bar[data-appid='" + i + "']").attr("data-y"); n.css({ visibility: "visible", display: "block" }).animate({ opacity: 1, filter: "alpha(opacity=100)", left: d, top: r }, openWSE_Config.animationSpeed), $.ajax({ url: wi + "/App_Move", type: "POST", data: '{ "appId": "' + i + '","name": "' + t + '","x": "' + d + '","y": "' + r + '","width": "' + s + '","height": "' + p + '","workspace": "' + a + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }), at(n) } else n.css({ top: Pi, visibility: "visible", display: "block" }).fadeIn(openWSE_Config.animationSpeed); if ($(".app-min-bar[data-appid='" + i + "']").remove(), 1 == ki) { var c = document.getElementById("hf_loadApp1"); 0 == xi.length ? (xi[0] = i, c.value = i, __doPostBack("hf_loadApp1", "")) : xi[xi.length - 1] = i } else o.indexOf(".ascx") > 0 && 0 == ki && n.find(".loading-background-holder").each(function () { $(this).remove() }) } } } }) } } function Ka(e, a, t) { if (void 0 != e && null != e && "" != e) { $("#ConfirmApp-element").remove(), u("Loading. Please Wait..."), cookie.set("active_app", e, 30); var i = $(".app-main-holder[data-appid='" + e + "']").width(), n = $(".app-main-holder[data-appid='" + e + "']").height(); $.ajax({ url: wi + "/App_Open_ChangeWorkspace", type: "POST", data: '{ "appId": "' + e + '","name": "' + a + '","workspace": "' + t + '","width": "' + i + '","height": "' + n + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function () { window.location = openWSE.siteRoot() + "Workspace.aspx" } }) } } function Qa(e, a) { "none" == $(".app-main-holder[data-appid='" + $(e).attr("data-appid") + "']").css("display") && (ki = a) } function Ja(e) { var a = $(".app-main-holder[data-appid='" + e + "']"); a.find("iframe").one("load", function () { a.find(".loading-background-holder").each(function () { $(this).remove() }) }) } function Xa(e) { for (var a = document.getElementById("hf_loadApp1"), t = 0; t < xi.length; t++) xi[t] == e && xi.splice(t, 1); var i = "#MainContent_" + e.replace(/-/gi, "_") + "_advPanel"; $(i).html(""), $(".move-holder").find(".main-div-app-bg").length > 0 && $(i).hide().append($(".move-holder").find(".main-div-app-bg")).show(); var n = $(i).closest(".app-body").parent().parent(); n.length > 0 && $(".move-holder").find(".outside-main-app-div").each(function () { 1 == $(".app-main-holder[data-appid='" + e + "']").length && ($(this).addClass(e + Li), n.append($(this))) }); var o = $(".app-main-holder[data-appid='" + e + "']"); tt(o), o.find(".loading-background-holder").each(function () { $(this).remove() }), xi.length > 0 && (a.value = xi[0], __doPostBack("hf_loadApp1", "")), ki = 0 } function Za() { $(".outside-main-app-div").each(function () { var e = $(this).closest(".app-body").parent().parent(); if (e.length > 0 && 1 == $("#" + $(this).attr("id")).length) { var a = $(this).closest(".app-body").parent().attr("data-appid"); $(this).addClass(a + Li), e.append($(this)) } }) } function et(e) { var a = $(".app-main-holder[data-appid='" + e + "']").parent(); $("." + e + Li).each(function () { a.length > 0 && 1 == $("#" + $(this).attr("id")).length && a.append($(this)) }) } function at(e) { $(e).find(".app-main-holder").each(function () { tt(this) }) } function tt(e) { var a = $(e); if (a.length > 0 && a.hasClass("app-main-holder")) { var t = a.outerHeight(), i = a.find(".app-head"), n = 0; i.length > 0 && "none" != i.css("display") && (n = i.outerHeight()); var o = t - (n + 2); if (a.find(".app-body").css({ height: o, width: a.width() }), a.find(".iFrame-apps").length > 0) { var s = 2; a.find(".app-title-bg-color").length > 0 && (s = a.find(".app-title-bg-color").outerHeight() + (s + 1)), a.find(".iFrame-apps").css("height", o - (s + 1)) } } } function it(e) { var a = $(e); a.length > 0 && ($wo = a.find(".app-overlay-fix"), 0 == $wo.length && ($wb = a.find(".app-body"), 1 == $wb.length && $wb.append("<div class='app-overlay-fix'></div>"))) } function nt(e) { $wo = $(e).find(".app-overlay-fix"), 1 == $wo.length && $wo.remove() } function ot(e) { var a = $(e), t = a.height(), i = $(window).height(), n = -(t + i); a.css({ visibility: "hidden", top: n, bottom: i, zIndex: -1 }), lt(e) } function st(e) { var a = $(e); a.css({ visibility: "visible", top: 0, bottom: 0, zIndex: "" }), dt(a) } function pt(e, a) { var t = $(".app-main-holder[data-appid='" + a + "']"); dt(t); var i = t.parent().attr("id"), n = "MainContent_" + e; if (i != n) { var o = t.find("iframe").length; o > 0 && (t.find(".loading-background-holder").length <= 0 && t.find(".app-body").append(Ci), Ja(a)), $("#" + n).prepend(t), Ct(e, a), et(a) } } function lt(e) { var a = $(e); a.hasClass("app-maximized") && (a.removeClass("app-maximized"), a.addClass("app-maximized-min")), a.hasClass("auto-full-page") && (a.removeClass("auto-full-page"), a.addClass("auto-full-page-min")) } function dt(e) { var a = $(e); a.hasClass("app-maximized-min") && (a.removeClass("app-maximized-min"), a.addClass("app-maximized")), a.hasClass("auto-full-page-min") && (a.removeClass("auto-full-page-min"), a.addClass("auto-full-page")), tt(e) } function rt(e) { if (!Wi) { Wi = !0, _i = $(e).attr("data-appid"); var a = ja(), t = $("#MainContent_" + a).find(".app-main-holder[data-appid='" + _i + "']"); if (t.length > 0) { var i = $(".app-min-bar[data-appid='" + _i + "']").attr("data-x"), n = $(".app-min-bar[data-appid='" + _i + "']").attr("data-y"); (null == i || "" == i) && (i = p.left - $("#workspace-selector").width()), (null == n || "" == n) && (n = 0), dt(t), t.css("left", i), t.css("top", n), t.addClass("app-min-bar-preview"), t.fadeTo(openWSE_Config.animationSpeed, .65) } } } function ct() { var e = $(".app-main-holder[data-appid='" + _i + "']"); if (e.hasClass("app-min-bar-preview")) e.css("opacity", "0.0"), e.css("filter", "alpha(opacity=0)"), e.removeClass("app-min-bar-preview"), lt(e), ot(e), _i = "", Wi = !1; else { var a = ja(), e = $("#MainContent_" + a).find(".app-main-holder[data-appid='" + _i + "']"); 0 == e.length && (_i = "", Wi = !1) } } function ht(e) { if (openWSE.IsComplexWorkspaceMode()) { var a = $(e); if (ft(a), a.length > 0) { a.addClass("selected"), a.css("z-index", "3000"); var t = a.attr("data-appid"); cookie.set("active_app", t, "30") } } } function ft(e) { if (openWSE.IsComplexWorkspaceMode()) { var a = $(e).attr("data-appid"); $(".app-main-holder").css("z-index", "1000"), $(".app-main-holder").removeClass("selected"), $(".app-main-holder").each(function () { var e = $(this).attr("data-appid"); "block" == $(this).css("display") && (e != a ? it(this) : e == a && $(this).find(".app-overlay-fix").remove()) }) } } function mt() { cookie.del("active_app"), $(".app-main-holder").each(function () { "block" == $(this).css("display") && it(this) }) } function ut() { if (openWSE.IsComplexWorkspaceMode()) { var e = cookie.get("active_app"); null != e && "" != e && void 0 != e ? ht($(".app-main-holder[data-appid='" + e + "']")) : mt() } } function vt() { var e = cookie.get("app_category_id"), a = cookie.get("app_category"); null != document.getElementById("Category-Back") && null != e && "" != e && null != a && "" != a && ($(".app-icon-category-list").hide(), $("#Category-Back").show(), $("." + e).show(), $("#Category-Back-Name").html(a), $("#Category-Back-Name-id").html(e)), Rt() } function gt(e, a, t, i) {
        $.ajax({
            url: wi + "/App_RemoteLoad", data: '{ "_Id": "' + escape(e) + '" }', contentType: "application/json; charset=utf-8", dataType: "json", type: "POST", success: function (e) {
                try {
                    null != e.d && $t(unescape(e.d[0]), unescape(e.d[1]), unescape(e.d[2]))
                } catch (n) { } g(), c(a, t, i)
            }, error: function () { g(), c(a, t, i) }
        })
    } function $t(e, a, t) { if ("close" == a) { var i = $(".app-main-holder[data-appid='" + e + "']"); "block" == i.css("display") && i.find(".exit-button-app").length > 0 && i.find(".exit-button-app").click() } else if ("workspace-selector" == e) { try { $(".workspace-selection-item").eq(parseInt(a) - 1).trigger("click") } catch (n) { } var o = "#MainContent_" + ja(), s = "#MainContent_workspace_" + a; Ha(a), Na(o, s) } else { var p = a.split(";"), l = "1"; if (l = "" != p[0] && "0" != p[0] ? p[0] : ja().replace("workspace_", ""), ki = openWSE.ConvertBitToBoolean(t) ? 1 : 0, -1 != e.indexOf("app-ChatClient-")) for (var d = e.replace("app-ChatClient-", ""), r = 0; r < $(".ChatUserNotSelected").length; r++) { var c = $(".ChatUserNotSelected").eq(r); if (1 == c.length && 1 == c.find(".usersclick[chat-userid='" + d + "']").length) { var h = $.trim(c.find(".usersclick[chat-userid='" + d + "']").html()), f = c.attr("chat-username"); return void chatClient.BuildChatWindow(f, d, h) } } var i = $(".app-icon[data-appid='" + e + "']"); if (0 == i.length) return; var m = p[2].replace("px", ""), u = p[3].replace("px", ""), v = p[4].replace("px", ""), g = p[5].replace("px", ""); if ("" != $("#hf_appContainer").val()) { var m = parseInt(m), u = parseInt(u), v = parseInt(v), g = parseInt(g); u + v > $("#container").width() && (u = Math.abs($("#container").width() - v) - 2), m + g > $("#container").height() && (m = Math.abs($("#container").height() - g) - 2) } if ($(".app-main-holder[data-appid='" + e + "']").css("block" == $(".app-main-holder[data-appid='" + e + "']").css("display") ? { top: m + "px", left: u + "px" } : { top: "auto", left: "auto" }), $(".app-main-holder[data-appid='" + e + "']").hasClass("ui-resizable") && $(".app-main-holder[data-appid='" + e + "']").css({ width: v + "px", height: g + "px" }), "block" == $(".app-main-holder[data-appid='" + e + "']").css("display")) { var b = $(".app-main-holder[data-appid='" + e + "']").find(".reload-button-app").parent(); xt(b) } Ya(i, "workspace_" + l), 0 == i.hasClass("active") && i.addClass("active"), bt(e, l, p[1]) } } function bt(e, a, t) { var i = $(".app-main-holder[data-appid='" + e + "']"); if ("block" == i.css("display")) { a = a.substring(a.lastIndexOf("_") + 1); try { $(".workspace-selection-item").eq(parseInt(a) - 1).trigger("click") } catch (n) { } var o = "#MainContent_" + ja(), s = "#MainContent_workspace_" + a; if (Ha(a), Na(o, s), Pt(a), "" != t) { var p = !1; switch (t) { case "minimize": if (0 == $(".app-min-bar[data-appid='" + e + "']").length) i.find(".minimize-button-app").length > 0 && (i.find(".minimize-button-app").click(), p = !0); else var l = setInterval(function () { "visible" == i.css("visibility") && (i.find(".minimize-button-app").click(), p = !0, clearInterval(l)) }, 50); break; case "maximize": i.find(".maximize-button-app").length > 0 && !i.hasClass("app-maximized") && (i.find(".maximize-button-app").click(), p = !0); break; case "normal": i.hasClass("app-maximized") && i.find(".maximize-button-app").length > 0 && (i.find(".maximize-button-app").click(), p = !0) } p || setTimeout(function () { $.ajax({ url: wi + "/App_Position", type: "POST", data: '{ "appId": "' + i.attr("data-appid") + '","posX": "' + i.css("left") + '","posY": "' + i.css("top") + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) }, openWSE_Config.animationSpeed) } } else setTimeout(function () { bt(e, a, t) }, 100) } function yt(e) { var a = ja(), t = $(e), i = t.find(".app-title").text(), n = t.css("left").replace("px", ""), o = t.css("top").replace("px", ""), s = t.width(), p = t.height(); ht(e), t.hasClass("app-maximized") ? (t.removeClass("app-maximized"), tt(e), t.find(".maximize-button-app").removeClass("active"), $.ajax({ url: wi + "/App_Maximize", type: "POST", data: '{ "appId": "' + t.attr("data-appid") + '","name": "' + i + '","x": "' + n + '","y": "' + o + '","width": "' + s + '","height": "' + p + '","workspace": "' + a + '","ismax": "0","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function () { Ei = !1, tt(e) }, error: function () { Ei = !1 } })) : (t.addClass("app-maximized"), tt(e), t.find(".maximize-button-app").addClass("active"), $.ajax({ url: wi + "/App_Maximize", type: "POST", data: '{ "appId": "' + t.attr("data-appid") + '","name": "' + i + '","x": "' + n + '","y": "' + o + '","width": "' + s + '","height": "' + p + '","workspace": "' + a + '","ismax": "1","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function () { Ei = !1, tt(e) }, error: function () { Ei = !1 } })) } function wt(e) { var a = $(e).attr("data-appid"); if (null != a && void 0 != a) if (-1 == a.indexOf("app-ChatClient-")) for (var t = $(".app-icon").find("span").length, i = 0; t > i; i++) { var n = $(".app-icon").eq(i).attr("data-appid"); n == a && 0 == $(".app-icon").eq(i).hasClass("active") && $(".app-icon").eq(i).addClass("active") } else { var o = $(".app-main-holder[data-appid='" + a + "']").attr("chat-username"); $(".ChatUserNotSelected[chat-username='" + o + "']").addClass("ChatUserSelected") } } function Ct(e, a) { if (openWSE_Config.ShowWorkspaceNumApp && openWSE.IsComplexWorkspaceMode()) { var t = $(".app-icon[data-appid='" + a + "']"); if (t.length > 0) { var i = "", n = a + "-workspace-reminder", o = "workspace-reminder font-no-bold " + n, s = "display:block;"; if (t.find(".app-icon-font").length > 0) { var p = t.find(".app-icon-font"); "none" == p.css("display") && (s = "display:none;") } $("." + n).length > 0 && $("." + n).remove(); var l = e.substring(e.lastIndexOf("_") + 1); i = "<span class='" + o + "' style='" + s + "'>" + l + "</span>", "" != i && t.append(i) } } } function St(e) { if (openWSE.IsComplexWorkspaceMode()) { var a = $(e).attr("data-appid"), t = $(".app-icon[data-appid='" + a + "']"); if (t.length > 0) { var i = a + "-workspace-reminder"; $("." + i).length > 0 && $("." + i).remove() } } } function kt(e) { var a = $(e).attr("data-appid"); if ($(".app-main-holder[data-appid='" + a + "']").find(".maximize-button-app").removeClass("active"), -1 == a.indexOf("app-ChatClient-")) for (var t = $(".app-icon").find("span").length, i = 0; t > i; i++) { var n = $(".app-icon").eq(i).attr("data-appid"); n == a && 1 == $(".app-icon").eq(i).hasClass("active") && $(".app-icon").eq(i).removeClass("active") } else { var o = $(".app-main-holder[data-appid='" + a + "']").attr("chat-username"); chatClient.displayMessageNoti(o); var s = $(".ChatUserNotSelected[chat-username='" + o + "']"); s.length > 0 && setTimeout(function () { s.removeClass("ChatUserSelected"), s.removeClass("chatisNew") }, openWSE_Config.animationSpeed), chatClient.notificationCleared = 1, document.title = chatClient.currTitle } } function _t(e, a) { $(".app-icon-category-list").hide(), $("#Category-Back").fadeIn(openWSE_Config.animationSpeed), 0 == openWSE_Config.animationSpeed ? $("." + e).show() : $("." + e).show("slide", { direction: "right" }, openWSE_Config.animationSpeed), $("#Category-Back-Name").html(a), $("#Category-Back-Name-id").html(e), cookie.set("app_category", a, "30"), cookie.set("app_category_id", e, "30") } function Wt() { openWSE.IsComplexWorkspaceMode() && ($(".app-main-holder").draggable({ scroll: !0, cancel: ".app-body, .exit-button-app, .minimize-button-app, .maximize-button-app, .options-button-app, .app-head-button-holder, .app-maximized, .auto-full-page", start: function (e) { var a = $(this); ht(a), It(this), a.css("opacity", "0.6"), a.css("filter", "alpha(opacity=60)"), $(".app-main-holder").each(function () { "block" == $(this).css("display") && it(this) }), e.stopPropagation() } }).resizable({ handles: "se, s, e, w", minWidth: 150, minHeight: 150, create: function () { var e = $(this); e.hasClass("no-resize") && (e.className = !e.hasClass("app-main") || e.hasClass("auto-full-page") || e.hasClass("auto-full-page-min") ? e.hasClass("app-main") && (e.hasClass("auto-full-page") || e.hasClass("auto-full-page-min")) ? e.hasClass("auto-full-page-min") ? "app-main-holder app-main auto-full-page-min ui-draggable" : "app-main-holder app-main auto-full-page ui-draggable" : !e.hasClass("app-main-nobg") || e.hasClass("auto-full-page") || e.hasClass("auto-full-page-min") ? "app-main-holder app-main-nobg auto-full-page ui-draggable" : "app-main-holder app-main-nobg ui-draggable" : "app-main-holder app-main ui-draggable", e.find(".ui-resizable-handle").remove()) } }), openWSE_Config.appSnapHelper && $(".app-main-holder").draggable({ snap: ".app-snap-helper", snapped: function (e, a) { Lt(a.snapElement) }, drag: function (e, a) { var t = $(this).data("ui-draggable"); $.each(t.snapElements, function (i, n) { n.snapping && t._trigger("snapped", e, $.extend({}, a, { snapElement: $(n.item) })) }) } }), "" != $("#hf_appContainer").val() && ($(".app-main-holder").draggable("option", "containment", $("#hf_appContainer").val()), $(".app-main-holder").resizable("option", "containment", "parent")), $(".app-main-holder").on("dragstop", function () { var e = $(this); e.css("opacity", "1.0"), e.css("filter", "alpha(opacity=100)"), this.offsetTop < 0 && e.animate({ top: 0 }, openWSE_Config.animationSpeed, function () { e.css("top", "0") }), this.offsetLeft < 0 && e.animate({ left: 0 }, openWSE_Config.animationSpeed, function () { e.css("left", "0") }); var a = e.find(".app-title").text(), t = ja(), i = e.width(), n = e.height(); nt(this), $.ajax({ url: wi + "/App_Move", type: "POST", data: '{ "appId": "' + e.attr("data-appid") + '","name": "' + a + '","x": "' + e.css("left") + '","y": "' + e.css("top") + '","width": "' + i + '","height": "' + n + '","workspace": "' + t + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) }), $(".app-main-holder").on("resize", function (e, a) { if (null != a) { var t = $(this); if (!t.hasClass("no-resize")) { var i = a.size.width, n = parseInt(t.css("min-width")); n > i && (i = n); var o = a.size.height, s = parseInt(t.css("min-height")); s > o && (o = s), t.css({ width: i, height: o }), tt(this), Ti = t.height() } } }), $(".app-main-holder").on("resizestart", function (e) { if ($(this).hasClass("app-maximized")) { $(this).removeClass("app-maximized"); var a = $(this).find(".maximize-button-app"); a.length > 0 && a.removeClass("active") } ht(this), $(".app-main-holder").each(function () { "block" == $(this).css("display") && it(this) }), e.stopPropagation() }), $(".app-main-holder").on("resizestop", function (e, a) { $(this).hasClass("no-resize") || (tt(this), Ti = 0, nt(this), $.ajax({ url: wi + "/App_Resize", type: "POST", data: '{ "appId": "' + $(this).attr("data-appid") + '","width": "' + a.size.width + '","height": "' + a.size.height + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" })) })) } function xt(e) { var a = ($(e).closest(".app-head-button-holder").parent().find(".app-title").text(), $(e).closest(".app-head-button-holder").parent()), t = a.attr("data-appid"); tt(a), $(".app-main-holder").css("z-index", "1000"), a.css("z-index", "3000"); var i = a.find(".options-button-app"), n = i.parent(); i.removeClass("active"), n.find(".app-popup-inner-app").hide(); var o = t + Li; if ($("." + o).each(function () { $(this).remove() }), a.find(".iFrame-apps").length > 0) { var s = a.find(".iFrame-apps")[0]; null != s.src && (null == a.find(".app-body").find("div").html() ? (a.find(".app-body").find(".loading-background-holder").length <= 0 && a.find(".app-body").append(Ci), a.find(".iFrame-apps").one("load", function () { a.find(".app-body").find(".loading-background-holder").each(function () { $(this).remove() }) })) : (a.find(".app-body").find("div").find(".loading-background-holder").length <= 0 && a.find(".app-body").find("div").append(Ci), a.find(".iFrame-apps").one("load", function () { a.find(".app-body").find("div").find(".loading-background-holder").each(function () { $(this).remove() }) })), s.src = s.src) } else a.find(".app-body").find(".loading-background-holder").length <= 0 && a.find(".app-body").append(Ci), $("#hf_ReloadApp").val(t), __doPostBack("hf_ReloadApp", "") } function Et(e) { var a = $(e).closest(".app-head-button-holder").parent(), t = a.attr("data-appid"); $("#hf_aboutstatsapp").val("about;" + t); var i = a.find(".options-button-app"), n = i.parent(); i.removeClass("active"), n.find(".app-popup-inner-app").hide(), $("#MainContent_pnl_aboutHolder").html(""), u("Loading. Please Wait..."), __doPostBack("hf_aboutstatsapp", "") } function Mt(e) { openWSE.ConfirmWindow("Are you sure you want to remove this app?", function () { $("#hf_aboutstatsapp").val("uninstall;" + e), $(".app-main-holder[data-appid='" + e + "']").find(".exit-button-app").trigger("click"), $(".app-main-holder[data-appid='" + e + "']").remove(), u("Removing App"), __doPostBack("hf_aboutstatsapp", "") }, null) } function At(e, a) { var t = $(e).closest(".app-head-button-holder").parent(), i = 315, n = 425; if (t.length > 0) { var o = t.find(".app-title").text(); i = t.width(), n = t.height() } t.fadeOut(openWSE_Config.animationSpeed, function () { t.hasClass("app-maximized") && t.removeClass("app-maximized"), St(t), kt(t); var e = 1, a = document.getElementById("hf_" + t.attr("id")); null != a && (e = 0), null == t.find(".app-body").find("div").html() ? 1 == e && t.find(".app-body").html("") : 1 == e && t.find(".app-body").find("div").html(""), t.css({ visibility: "hidden", left: "", top: "", width: "", height: "" }), t.find(".options-button-app").length > 0 && (t.find(".options-button-app").removeClass("active"), t.find(".app-popup-inner-app").hide()), $.ajax({ url: wi + "/App_Close", type: "POST", data: '{ "appId": "' + t.attr("data-appid") + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) }); var s = "width=" + i + "px,height=" + n + "px,location=no,menubar=no,toolbar=no,status=no,resizable=yes,scrollbars=yes"; myWindow = window.open(a, o, s), myWindow.focus() } function Tt(e, a) { var t = "width=400px,height=400px,location=no,menubar=no,toolbar=no,status=no,resizable=yes,scrollbars=yes"; myWindow = window.open(a, e, t), myWindow.focus(), $("#ConfirmApp-element").remove(), openWSE.LoadModalWindow(!1, "ConfirmApp-element", "") } function Ot(e, a) { if (openWSE.IsComplexWorkspaceMode()) { $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(); var t = "fullscreen=yes,location=no,menubar=no,toolbar=no,status=no,resizable=yes,scrollbars=yes"; myWindow = window.open(a, e, t), myWindow.focus() } else window.location.href = a.replace("?toolView=true", "") } function Pt(e) { var a = ""; if (a = $(e).length > 0 ? $.trim($(e).hasClass("app-popup-selector") || $(e).hasClass("app-options-workspace-switch") ? $(e).val() : $(e).text()) : e, "" != a && "-" != a) { Ha(a); var t = a; a = "workspace_" + a; var i = ja(); $_name = $(e).closest(".app-icon"), 0 == $_name.length && ($_name = $(e).closest(".app-head-button-holder").parent()); var n = 0, o = $_name.attr("data-appid"); "" != o && void 0 != o && null != o && (Ct(a, o), "block" == $("#" + o).css("display") && (n = 1)), (i != a || 0 == n || 1 == n && i == a) && ($.ajax({ url: wi + "/App_CurrentWorkspace", type: "POST", data: '{ "workspace": "' + t + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }), Ya($_name, a), i != a && (_id = "#MainContent_" + a, $("#workspace_holder .workspace-holder").each(function () { "visible" == $(this).css("visibility") && (openWSE_Config.taskBarShowAll || $("#minimized-app-bar").fadeOut(openWSE_Config.animationSpeed), $(this).fadeTo(openWSE_Config.animationSpeed, 0, function () { ot(this), openWSE_Config.taskBarShowAll || (Ba(this), La(_id)) })) }), $(_id).fadeTo(openWSE_Config.animationSpeed, 1), st($(_id)), at($(_id)), et(o), $(".app-options").css("visibility", "hidden"), setTimeout(function () { $(".app-popup").hide() }, openWSE_Config.animationSpeed))) } } function Rt() { $(".app-main-holder").each(function () { if ("block" == $(this).css("display")) { wt(this); var e = $(this).parent().attr("id"); void 0 != e && null != e && "" != e && Ct(e, $(this).attr("data-appid")) } }) } function It(e) { if (openWSE_Config.appSnapHelper && (zt(e), null != e)) { var a = $(e).data("ui-draggable"), t = ja(), i = $("#MainContent_" + t); i.length > 0 && i.find(".app-main-holder").each(function () { var t = $(this).attr("data-appid"); if ("block" == $(this).css("display") && "hidden" != $(this).css("visibility") && $(e).attr("data-appid") != t && 0 == $(".app-snap-helper[data-appid='" + t + "']").length) { var n = parseInt($(this).css("left").replace("px", "")) + 1, o = n + $(this).outerWidth() - 2, s = parseInt($(this).css("top").replace("px", "")) + 1, p = s + $(this).outerHeight() - 2; i.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='left' style='left: " + n + "px; top: 0; bottom: 0; width: 1px;'></div>"), i.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='right' style='left: " + o + "px; top: 0; bottom: 0; width: 1px;'></div>"), i.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='top' style='top: " + s + "px; left: 0; right: 0; height: 1px;'></div>"), i.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='bottom' style='top: " + p + "px; left: 0; right: 0; height: 1px;'></div>"), a && Bt(t, n, o, s, p, a) } }) } } function Bt(e, a, t, i, n, o) { var s = { height: $(".app-snap-helper[data-appid='" + e + "'][data-type='left']").height(), item: $(".app-snap-helper[data-appid='" + e + "'][data-type='left']")[0], left: a + $("#sidebar_menulinks").outerWidth() - 1, snapping: !1, top: $("#always-visible").outerHeight(), width: 1 }, p = { height: $(".app-snap-helper[data-appid='" + e + "'][data-type='right']").height(), item: $(".app-snap-helper[data-appid='" + e + "'][data-type='right']")[0], left: t + $("#sidebar_menulinks").outerWidth(), snapping: !1, top: $("#always-visible").outerHeight(), width: 1 }, l = { height: 1, item: $(".app-snap-helper[data-appid='" + e + "'][data-type='top']")[0], left: $("#sidebar_menulinks").outerWidth(), snapping: !1, top: i + $("#always-visible").outerHeight() - 1, width: $(".app-snap-helper[data-appid='" + e + "'][data-type='top']").width() }, d = { height: 1, item: $(".app-snap-helper[data-appid='" + e + "'][data-type='bottom']")[0], left: $("#sidebar_menulinks").outerWidth(), snapping: !1, top: n + $("#always-visible").outerHeight(), width: $(".app-snap-helper[data-appid='" + e + "'][data-type='bottom']").width() }; o.snapElements.push(s), o.snapElements.push(p), o.snapElements.push(l), o.snapElements.push(d) } function Lt(e) { e && ($(e).addClass("app-snap-helper-highlight"), setTimeout(function () { $(e).removeClass("app-snap-helper-highlight") }, 1500)) } function zt(e) { var a = $(e).data("ui-draggable"); a && (a.snapElements = new Array), $(".app-snap-helper").remove() } function jt() { var e = -1; if ("Microsoft Internet Explorer" == navigator.appName) { var a = navigator.userAgent, t = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"); null != t.exec(a) && (e = parseFloat(RegExp.$1)) } return e } function Nt() { var e = jt(); e > -1 && 8 > e && openWSE.AlertWindow("You might want to consider upgrading your copy of Internet Explorer. Some features may not work correctly.") } function Ht() { u("Loading Groups..."), $("#GroupLogin-element").remove(); var e = "<div id='GroupLogin-element' class='Modal-element'><div class='Modal-overlay'><div class='Modal-element-align'><div class='Modal-element-modal' data-setwidth='600'>", a = "<a href='#' onclick='openWSE.CloseGroupLoginModal();return false;' class='ModalExitButton'></a>"; e += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>" + a + "</div><span class='Modal-title'></span></div></div>", e += "<div class='ModalScrollContent'><div class='ModalPadContent'></div></div></div></div></div></div>", $("#extra_modal_holder").length > 0 ? $("#extra_modal_holder").append(e) : $("body").append(e), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/GetUserGroups", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (e) { var a = "<div class='table-settings-box no-border no-margin no-padding'><div class='td-settings-title'>Select a Group</div><div class='td-settings-ctrl'>"; try { for (var t = 0; t < e.d[0].length; t++) { var i = e.d[0][t][0], n = e.d[0][t][1], o = e.d[0][t][2], s = e.d[0][t][3], p = e.d[0][t][4], l = "style=\"background: url('" + p + "'); background-size: cover;\""; a += "<div class='group-selection-entry' onclick='openWSE.LoginAsGroup(\"" + i + "\")' title='Click to login' " + l + ">", a += "<div class='overlay'></div>", a += "<div class='group-selection-info'>", a += "<div class='group-name-info'>", a += "<span class='group-name'>" + n + "</span><div class='clear-space-five'></div>", a += "<span class='group-info'><b class='pad-right-sml'>Owner:</b>" + s + "</span>", a += "</div>", a += "<img class='group-img' alt='Group Logo' src='" + o + "' />", a += "</div></div>" } openWSE.ConvertBitToBoolean(e.d[1]) && (a += "<div class='logingroupselector-logout' onclick='openWSE.LoginAsGroup(\"\")'>", a += "<div>Log Out of Group</div>", a += "</div>"), a += "</div>", a += "<div class='td-settings-desc'>You must be apart of that group in order to login. Once logged in, all default settings for that group will be applied to your account. These settings will be removed once you log out of the group. Your Apps, Overlays, and Notifications will be overridden with the group's settings.</div></div>" } catch (d) { } $("#GroupLogin-element").find(".ModalPadContent").html(a), B(!0, "GroupLogin-element", "Group Login"), openWSE.RemoveUpdateModal(), $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), openWSE.RemoveWorkspaceSelectorActive(), ma(), cookie.del("top_menu") } }) } function Ut(e) { u("" != e ? "Logging into Group" : "Logging out of Group"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/LoginUnderGroup", type: "POST", data: '{ "id": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (a) { "true" == a.d ? location.reload() : window.location = "Default.aspx?group=" + e }, error: function () { g() } }) } function Ft() { B(!1, "GroupLogin-element", ""), $("#GroupLogin-element").remove() } function Dt() { var e = location.hash; try { if (-1 != e.indexOf("?iframecontent=")) { var a = e.split("?iframecontent="); a.length > 1 && openWSE.LoadIFrameContentHistory(a[1], "Content") } else if (-1 != e.indexOf("&iframecontent=")) { var a = e.split("&iframecontent="); a.length > 1 && openWSE.LoadIFrameContentHistory(a[1], "Content") } else -1 != e.indexOf("?help") || -1 != e.indexOf("&help") ? F() : ($("#iframe-container-helper").length > 0 && openWSE.CloseIFrameContent(), "block" == $("#help_main_holder").css("display") && Z()) } catch (t) { } } function Gt() { if (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i)) { var e = document.getElementsByTagName("head")[0]; meta = document.createElement("meta"), meta.name = "viewport", meta.id = "mobileViewport", meta.content = "width=device-width, initial-scale=0.70, user-scalable=no", e.appendChild(meta) } else $("#mobileViewport").length > 0 && $("#mobileViewport").remove() } function qt(e, a) { if (!openWSE_Config.demoMode) { u("Accepting. Please Wait..."); var t = $(e).closest("tr"), i = t.attr("id"), n = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/AcceptInviteNotifications"; $.ajax({ url: n, type: "POST", data: '{ "id": "' + i + '", "groupId": "' + a + '" }', contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && t.fadeOut(openWSE_Config.animationSpeed, function () { if (g(), t.remove(), "1" == $("#lbl_notifications").find("span").html()) ua(); else { var e = parseInt($("#lbl_notifications").find("span").html()); e -= 1, $("#lbl_notifications").html("<span>" + e + "</span>") } }) } }) } } function Vt(e) { var a = $("#" + e); if (a.length > 0) { var t = $.trim(a.val()); u("Submitting feedback..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/UpdateServerSettings.asmx/SubmitFeedback", data: "{ 'text': '" + t + "' }", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e }, success: function () { g(), a.val("Enter your comments here..."), a.css("color", "#B7B7B7") }, error: function () { openWSE.AlertWindow("An error occurred submitting your feedback! Please try again.") } }) } } function Yt() { $("#container").css("top", "0"), $("#always-visible, .sidebar-padding-menulinks").hide(); var e = $(window).height() - ($(".footer").height() + $("#app_title_bg").height()); $("#maincontent_overflow").css({ height: e }), $("#maincontent_overflow").width($(window).width()), $("#always-visible").find(".top-options").hide(), $("#DateDisplay").hide(), $("#localtime").hide(), $(window).resize() } function Kt() { $("#app_title_bg, #container-footer").hide(), $(".sitemenu-selection").addClass("mobile-mode"), $("#MainContent_pnlLinkBtns").css("height", "auto"), Jt() } function Qt() { $(".app-icon-links").removeClass("active"), $(".app-icon-sub-links").removeClass("active"); var e = window.location.href.toLowerCase(); $(".app-icon-links").each(function () { var a = $(this).attr("href").toLowerCase(); if (-1 != e.indexOf(a) && ($(this).addClass("active"), $(this).next().hasClass("app-icon-sub-link-holder"))) { $(this).next().show(); var t = $(this).find(".img-expand-sml"); 1 == t.length && (t.removeClass("img-expand-sml"), t.addClass("img-collapse-sml")) } }), $(".app-icon-sub-links").each(function () { var a = $(this).attr("href").toLowerCase(); if (-1 != e.indexOf(a)) { $(".app-icon-links").removeClass("active"), $(this).addClass("active"), $(this).parent().show(); var t = $(this).parent().prev().find(".img-expand-sml"); 1 == t.length && (t.removeClass("img-expand-sml"), t.addClass("img-collapse-sml")) } }) } function Jt() { var e = $(window).height() - ($(".footer").height() + $("#always-visible").height() + $("#app_title_bg").height()); "none" == $("#always-visible").css("display") && (e += $("#always-visible").height()), "none" == $(".footer").css("display") && (e += $(".footer").height()), "none" == $("#app_title_bg").css("display") && (e += $("#app_title_bg").height()), $("#maincontent_overflow").css({ height: e - 1 }), "pnl_OverlaysAll" == openWSE_Config.overlayPanelId && $("#pnl_OverlaysAll").height($(window).height()), "none" == $(".sidebar-padding-menulinks").css("display") ? $("#maincontent_overflow").width($(window).width()) : ($("#accordian-sidebar").css("height", e - 1 + "px"), $("#maincontent_overflow").css("width", $(window).width() - $(".sidebar-padding-menulinks").outerWidth() + "px")) } function Xt(e, a) { $(e).hasClass("img-expand-sml") ? ($(e).removeClass("img-expand-sml"), $(e).addClass("img-collapse-sml"), $(e).closest(".app-icon-links").parent().find("." + a).slideDown(openWSE_Config.animationSpeed)) : ($(e).removeClass("img-collapse-sml"), $(e).addClass("img-expand-sml"), $(e).closest(".app-icon-links").parent().find("." + a).slideUp(openWSE_Config.animationSpeed)) } function Zt() { var e = ""; return "" != openWSE_Config.siteRootFolder && (e = openWSE_Config.siteRootFolder + "/"), window.location.protocol + "//" + window.location.host + "/" + e } function ei(e) { if (1 == $(e).length) { var a = $(e)[0].className.split(/\s+/); return a } return new Array } function ai() { $(".sidebar-showhide-ctrl").hasClass("sidebar-hide") ? ($(".sidebar-showhide-ctrl").removeClass("sidebar-hide"), $(".sidebar-showhide-ctrl").addClass("sidebar-show"), ii(), cookie.set(Ji, "hide", 30)) : ($(".sidebar-showhide-ctrl").removeClass("sidebar-show"), $(".sidebar-showhide-ctrl").addClass("sidebar-hide"), ti(), cookie.del(Ji)), $(window).resize() } function ti() { var e = $("#sidebar_menulinks").outerWidth(); $("#sidebar_menulinks, #accordian-sidebar").removeClass("sidebar-minimized"), e -= $("#sidebar_menulinks").outerWidth(), e = Math.abs(e), $("#workspace_holder").length > 0 && $(".app-main-holder").each(function () { var a = $(this), t = $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").length > 0; if (!a.hasClass("auto-full-page") && !a.hasClass("app-maximized") && "block" == a.css("display")) { var i = parseInt(a.css("left").replace("px", "")); if (t && (i = parseInt($(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x"))), "NaN" != i.toString()) { var n = Math.abs(i - e); e > i && (n = i), a.css("left", n + "px"), t && $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x", n) } } }) } function ii() { var e = $("#sidebar_menulinks").outerWidth(); $("#sidebar_menulinks, #accordian-sidebar").addClass("sidebar-minimized"), e -= $("#sidebar_menulinks").outerWidth(), $("#workspace_holder").length > 0 && $(".app-main-holder").each(function () { var a = $(this), t = $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").length > 0; if (!a.hasClass("auto-full-page") && !a.hasClass("app-maximized") && "block" == a.css("display")) { var i = parseInt(a.css("left").replace("px", "")); if (t && (i = parseInt($(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x"))), "NaN" != i.toString()) { var n = e + i; a.css("left", n + "px"), t && $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x", n) } } }) } function ni() { if ($(".sidebar-showhide-ctrl").is(":visible")) { var e = cookie.get(Ji); null != e && "undefined" != e && "hide" == e && ($(".sidebar-showhide-ctrl").removeClass("sidebar-hide"), $(".sidebar-showhide-ctrl").addClass("sidebar-show"), ii(), $(window).resize()) } } function oi() { try { window.parent.location.reload() } catch (e) { window.location.reload() } } var si = "", pi = "", li = "", di = "", ri = 0, ci = "<div class='loading-icon-sml'></div>", hi = "<div class='loading-icon-lrg'></div>", fi = 0, mi = !1, ui = !1, vi = new Array, gi = "<div class='ddLoadingMessage'>" + ci + "<h3>Loading Notifications. Please Wait...</h3></div>", $i = 0, bi = !1, yi = !1, wi = "WebServices/SaveControls.asmx", Ci = "<div class='loading-background-holder'></div>", Si = 0, ki = 0, _i = "", Wi = !1, xi = new Array, Ei = !1, Mi = !1, Ai = !1, Ti = 0, Oi = !1, Pi = 34, Ri = 28, Ii = !1, Bi = !1, Li = "-outside-modal-window"; Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(function (e, a) { $("#pnl_aboutHolder").length > 0 && "" != $.trim($("#pnl_aboutHolder").html()) && "block" == $("#aboutApp-element").css("display") && (di = $.trim($("#pnl_aboutHolder").html())), L(a) }), Sys.WebForms.PageRequestManager.getInstance().add_endRequest(function () { $(".ui-tooltip-content").parents("div").remove(), "" != di && ($("#MainContent_pnl_aboutHolder").html(di), di = ""), g(), z(), fa(), c(si, pi, li), ya() }), $(document.body).on("click", ".RandomActionBtns", function () { u(0 != $(this).closest("#searchwrapper").length ? "Searching..." : "Updating. Please Wait...") }), $(document.body).on("click", "#lbtn_signoff", function () { u("Signing Off. Please Wait...") }), $(document.body).on("keypress", "#searchbox-app-search", function (e) { 13 == e.which && ($(this).focus(), event.preventDefault(), O()) }), $(document.body).on("click", "#container, #container_logo, .workspace-holder, .content-main, .Modal-overlay, #iframe-container-helper", function () { $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), openWSE.RemoveWorkspaceSelectorActive(), ma(), cookie.del("top_menu") }), $(document.body).on("click", ".top-options li.a", function () { var e = $(this).next(); if ($(".top-options li.a").removeClass("active"), 1 == e.length) if (e.is(":visible")) ma(), $(".top-options li.b").hide(), e.css("max-height", ""); else { $(".top-options li.b").hide(); var a = $(window).height() - 98; e.find(".li-pnl-tab").css("max-height", a), e.slideDown(openWSE_Config.animationSpeed), $(this).addClass("active"), e.find("input[type=text]").length > 0 && e.find("input[type=text]").focus(); var t = $("li.b").index(e); cookie.set("top_menu", t, "30") } else ma(), $(".top-options li.b").hide() }), $(document.body).on("click", ".help-icon", function () { U(!1) }), $(document.body).on("keydown", "#tb_weather_postalCode", function (e) { try { if (13 == e.which) return Sa(), !1 } catch (a) { if (13 == e.keyCode) return Sa(), !1; delete a } }), $(document.body).on("click", ".workspace-reminder", function () { var e = $(this).parent(); return $(".app-popup").css("display", "none"), $popup = e.find(".app-popup"), $popup.css("display", "block"), $popup.fadeIn(openWSE_Config.animationSpeed), !1 }), $(document.body).on("mouseover", ".app-icon", function () { var e = $(this).find(".app-options"); e.length > 0 && (Ii = !1, e.css("visibility", "visible")) }), $(document.body).on("mouseleave", ".app-icon", function () { var e = $(this).find(".app-options"), a = $(this).find(".app-popup"); e.length > 0 && a.length > 0 && "block" != a.css("display") && e.css("visibility", "hidden") }), $(document.body).on("mouseleave", ".app-popup", function () { Ii || $(this).hide() }), $(document.body).on("click", ".app-popup-selector", function () { Ii = !0 }), $(document.body).on("click", ".app-icon", function () { var e = $(this); if (openWSE.IsComplexWorkspaceMode() || Bi || -1 != window.location.href.toLowerCase().indexOf("appmanager.aspx")) if ($("#workspace_holder").length > 0) { var a = ja(); Ya(e, a), 0 == e.hasClass("active") && e.addClass("active"), $(".workspace-overlay-selector").hasClass("active") && $(".workspace-overlay-selector").removeClass("active") } else $("#app_tab_body").length > 0 && I(this); else window.location.href = openWSE.siteRoot() + "Workspace.aspx?AppPage=" + e.attr("data-appId"); return Bi = !1, !1 }), $(document.body).on("click", "#Category-Back", function () { var e = $("#Category-Back-Name-id").html(); $("#Category-Back").fadeOut(openWSE_Config.animationSpeed), $("." + e).length > 0 ? 0 == openWSE_Config.animationSpeed ? ($("." + e).hide(), $(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html(""), cookie.del("app_category"), cookie.del("app_category_id")) : $("." + e).hide("slide", { direction: "right" }, openWSE_Config.animationSpeed, function () { $(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html(""), cookie.del("app_category"), cookie.del("app_category_id") }) : ($(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html(""), cookie.del("app_category"), cookie.del("app_category_id")) }), $(document.body).on("click", ".minimize-button-app", function () {
        if (!Mi) {
            Mi = !0; var e = $(this).attr("href").replace("#", ""), a = $(".app-main-holder[data-appid='" + e + "']"), t = a.find(".app-title").text(), n = a.css("left"), o = a.css("top"), s = a.width(), p = a.height(), l = ja();
            0 == $(".app-min-bar[data-appid='" + e + "']").length && a.animate({ opacity: 0, left: $("#minimized-app-bar").css("width"), top: 0 }, openWSE_Config.animationSpeed, function () { Va(a, t, n, o), ot(a), i(!0), $.ajax({ url: wi + "/App_Minimize", type: "POST", data: '{ "appId": "' + e + '","name": "' + t + '","x": "' + n + '","y": "' + o + '","width": "' + s + '","height": "' + p + '","workspace": "' + l + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function () { Mi = !1 }, error: function () { Mi = !1 } }) })
        } return !1
    }), $(document.body).on("dblclick", ".app-head-dblclick", function () { return Ei || (Ei = !0, yt($(this).closest(".app-main-holder"))), !1 }), $(document.body).on("click", ".maximize-button-app", function () { return Ei || (Ei = !0, yt($(this).closest(".app-main-holder"))), !1 }), $(document.body).on("click", ".exit-button-app, .exit-button-app-min", function () { if (!Ai) { Ai = !0; var e = $(this).attr("href").replace("#", ""), a = $(".app-main-holder[data-appid='" + e + "']"); $(".app-min-bar[data-appid='" + e + "']").length > 0 && ($(".app-min-bar[data-appid='" + e + "']").remove(), i(!0)); { a.find(".app-title").text() } a.hasClass("app-min-bar-preview") && (a.css("opacity", "0.0"), a.css("filter", "alpha(opacity=0)"), a.removeClass("app-min-bar-preview"), Wi = !1, _i = "", dt(e)), St(a), kt(a), a.fadeOut(openWSE_Config.animationSpeed, function () { a.hasClass("app-maximized") && a.removeClass("app-maximized"), -1 != a.attr("data-appid").indexOf("app-ChatClient-") && a.remove(); var t = 1, i = document.getElementById("hf_" + e.replace(/#/gi, "")); null != i && (t = 0), null == a.find(".app-body").find("div").html() ? 1 == t && a.find(".app-body").html("") : 1 == t && a.find(".app-body").find("div").html(""), a.css({ visibility: "hidden", left: "", top: "", width: "", height: "" }), a.find(".app-body").css({ height: "", width: "" }), a.find(".options-button-app").length > 0 && (a.find(".options-button-app").removeClass("active"), a.find(".app-popup-inner-app").hide()); var n = a.attr("data-appid") + Li; $("." + n).each(function () { $(this).remove() }), $.ajax({ url: wi + "/App_Close", type: "POST", data: '{ "appId": "' + e + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function () { Ai = !1 }, error: function () { Ai = !1 } }) }) } return !1 }), $(document.body).on("click", ".app-min-bar", function () { var e = $(this).find("span").text(), a = ja(), t = $(this).attr("data-appid"), n = $(".app-main-holder[data-appid='" + t + "']"); n.hasClass("app-min-bar-preview") && (n.css("opacity", "0.0"), n.css("filter", "alpha(opacity=0)"), n.removeClass("app-min-bar-preview")); var o = n.width(), s = n.height(); return $.ajax({ url: wi + "/App_Open", type: "POST", data: '{ "appId": "' + t + '","name": "' + e + '","workspace": "' + a + '","width": "' + o + '","height": "' + s + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function (p) { var l = p.d; if ("" != l) { if (pt(a, t), Ct(a, t), "block" != n.css("display") || "visible" != n.css("visibility")) { var d = ""; d = null == n.find(".app-body").find("div").html() ? n.find(".app-body").html().trim() : n.find(".app-body").find("div").html().trim(); var r = "0"; if (n.hasClass("app-maximized") && (r = "1"), "" == d) { if (-1 != t.indexOf("app-ChatClient-")) { var c = n.attr("chat-username"); l = "ChatClient/ChatWindow.html?user=" + c + "&displayVersion=workspace" } null == n.css("left") && null == n.css("top") || "auto" == n.css("left") && "auto" == n.css("top") ? qa(t, e, l, "50px", "50px", o, s, "1", r) : (parseInt(n.css("top")) < 0 && n.css("top", "50px"), parseInt(n.css("left")) < 0 && n.css("left", "50px"), qa(t, e, l, n.css("left"), n.css("top"), o, s, "1", r)) } if (0 != $(".app-min-bar[data-appid='" + t + "']").length) { n.hasClass("auto-full-page") || n.hasClass("auto-full-page-min") || n.hasClass("app-maximized") || n.hasClass("app-maximized-min") ? (n.find(".maximize-button-app").addClass("active"), n.css("top", "0px"), n.hasClass("app-maximized-min") && (n.removeClass("app-maximized-min"), n.addClass("app-maximized")), n.hasClass("auto-full-page-min") && (n.removeClass("auto-full-page-min"), n.addClass("auto-full-page"))) : (n.find(".maximize-button-app").removeClass("active"), n.css("width", o), n.css("height", s), n.css("top", Pi)); var h = $(".app-min-bar[data-appid='" + t + "']").attr("data-x"), f = $(".app-min-bar[data-appid='" + t + "']").attr("data-y"); Wi && _i == t ? n.css({ visibility: "visible", display: "block", opacity: 1, left: h, top: f }) : n.css({ visibility: "visible", display: "block" }).animate({ opacity: 1, left: h, top: f }, openWSE_Config.animationSpeed), $.ajax({ url: wi + "/App_Move", type: "POST", data: '{ "appId": "' + t + '","name": "' + e + '","x": "' + h + '","y": "' + f + '","width": "' + o + '","height": "' + s + '","workspace": "' + a + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) } else n.css({ top: Pi, visibility: "visible", display: "block" }).fadeIn(openWSE_Config.animationSpeed); ht(n), $(".app-min-bar[data-appid='" + t + "']").length > 0 && $(".app-min-bar[data-appid='" + t + "']").remove() } Wi = !1, _i = "", i(!0), tt(n) } } }), !1 }), $(document.body).on("click", ".app-main-holder", function () { ht(this), Si = 1 }), $(document.body).on("click", ".workspace-holder", function () { openWSE.IsComplexWorkspaceMode() && 0 == Si && ($(".app-main-holder").removeClass("selected"), mt()), Si = 0 }), $(document.body).on("click", ".options-button-app", function () { var e = $(this), a = e.parent(); if ("block" == a.find(".app-popup-inner-app").css("display")) e.removeClass("active"), a.find(".app-popup-inner-app").slideUp(openWSE_Config.animationSpeed); else { e.addClass("active"); var t = a.find(".app-popup-inner-app").find(".app-options-workspace-switch"); if (t.length > 0) { var i = e.closest(".workspace-holder").attr("id").replace("MainContent_workspace_", ""); t.val(i) } a.find(".app-popup-inner-app").slideDown(openWSE_Config.animationSpeed), ht(a.parent()) } return !1 }), $(document.body).on("change", ".app-popup-selector, .app-options-workspace-switch", function () { if ("" != $.trim($(this).val()) && "-" != $.trim($(this).val())) if ($("#workspace_holder").length > 0) { Pt(this); var e = $(this).closest(".app-head-button-holder").parent().find(".options-button-app"); if (e.length > 0) { var a = e.parent(); e.removeClass("active"), a.find(".app-popup-inner-app").hide() } } else { var t = $(this).closest(".app-icon"); I(t) } }), $(document.body).on("click", ".app-options", function () { return $(".app-popup").css("display", "none"), $popup = $(this).find(".app-popup"), $popup.css("display", "block"), $popup.fadeIn(openWSE_Config.animationSpeed), !1 }), $(document.body).on("keypress", "input[type='text'], textarea", function (e) { if (!$(this).hasClass("mce-textbox") && !$(this).parent().hasClass("ace_editor")) { var a = e.which ? e.which : e.keyCode, t = String.fromCharCode(a); if (!t.match('^.*?(?=[^"#%&$*<>?{|}]).*$')) return !1 } }), $(document.body).on("click", "#sitestatus_app_bar", function () { u("Loading Information..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/UpdateServerSettings.asmx/AdminOnlineInformation", data: "{ }", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e }, success: function (e) { g(), f(e) }, error: function () { openWSE.AlertWindow("An error occurred. Please try again.") } }) }); var zi, ji = 0, Ni = !1; $(document.body).on("click", ".RadioButton-Toggle-Overlay", function () { var e = $(this).closest(".switch-slider"); if (Ni = !0, e.find(".cb-disable").hasClass("selected")) e.animate({ left: 0 }, openWSE_Config.animationSpeed, function () { e.find(".cb-enable").find("input").trigger("click") }); else { var a = e.parent().outerWidth() - e.find(".RadioButton-Toggle-Overlay").outerWidth() + 2; e.animate({ left: -a }, openWSE_Config.animationSpeed, function () { e.find(".cb-disable").find("input").trigger("click") }) } }), $(document.body).on("click", ".cb-enable, .cb-disable", function () { return Ni ? (openWSE.LoadingMessage1("Updating..."), void (Ni = !1)) : !1 }); var Hi = !1, Ui = !1, Fi = !1, Di = !1, Gi = !1, qi = 3; $(document.body).on("click", "#overlay_tab, #pnl_OverlaysAll", function (e) { "pnl_OverlaysAll" == openWSE_Config.overlayPanelId && ("block" != $("#pnl_OverlaysAll").css("display") ? $("#pnl_OverlaysAll").fadeIn(openWSE_Config.animationSpeed) : (e.target.id == $(this).attr("id") || 0 == e.target.className.indexOf("overlay-") && 0 != e.target.className.indexOf("overlay-entries")) && $("#pnl_OverlaysAll").fadeOut(openWSE_Config.animationSpeed)), $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), ma(), cookie.del("top_menu") }), $(document).keydown(function (e) { if (e = e || window.event, e.altKey && 79 == e.which && "pnl_OverlaysAll" == openWSE_Config.overlayPanelId && ("block" != $("#pnl_OverlaysAll").css("display") ? $("#pnl_OverlaysAll").fadeIn(openWSE_Config.animationSpeed) : $("#pnl_OverlaysAll").fadeOut(openWSE_Config.animationSpeed)), $("#workspace_holder").length > 0 && (e.altKey && 38 == e.which || e.altKey && 40 == e.which)) { var a = parseInt(ja().replace("workspace_", "")), t = $(".dropdown-db-selector").find("ul").find("li").length, i = null; if (i = $(".workspace-selection-item").eq(40 == e.which ? t >= a + 1 ? a : 0 : a - 1 >= 1 ? a - 2 : t - 1), null != i) { i.trigger("click"); var n = "#MainContent_" + openWSE.Getworkspace(), o = "#MainContent_workspace_" + i.html().replace("Workspace ", ""); openWSE.HoverWorkspacePreview(n, o) } } }), $(document.body).on("click", ".image-selector", function () { var e = $(this), a = $(this).find("img").attr("src"); openWSE_Config.demoMode ? (Ia(a), e.addClass("image-selector-active")) : (u("Saving Background"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + ja() + '","_img": "' + a + '" }', contentType: "application/json; charset=utf-8", success: function (a) { "" != a.d && (Ia(a.d), e.addClass("image-selector-active")), openWSE.RemoveUpdateModal() } })) }), jQuery.fn.outerHTML = function (e) { return e ? this.before(e).remove() : jQuery("<p>").append(this.eq(0).clone()).html() }, $(document.body).on("click", "#ddl_WorkspaceSelector", function (e) { var a = $(this).find(".dropdown-db-selector"); if (a.length > 0 && -1 == e.target.className.indexOf("workspace-selection-item")) if (a.css("min-width", $("#ddl_WorkspaceSelector").outerWidth()), "block" != a.css("display")) { a.css("top", $("#always-visible").outerHeight()), a.find(".workspace-selection-item").show(); for (var t = $(".selected-workspace").html().replace("Workspace ", ""), i = 0; i < a.find(".workspace-selection-item").length; i++) { var n = a.find(".workspace-selection-item").eq(i); n.html().replace("Workspace ", "") == t ? n.addClass("font-bold") : n.removeClass("font-bold") } openWSE_Config.hoverPreviewWorkspace && $(".workspace-selection-item").hover(function () { var e = "#MainContent_" + openWSE.Getworkspace(), a = "#MainContent_workspace_" + $(this).html().replace("Workspace ", ""); openWSE.HoverWorkspacePreview(e, a) }, function () { if ("block" == a.find("ul").css("display")) { var e = "#MainContent_workspace_" + $(this).html().replace("Workspace ", ""), t = "#MainContent_workspace_" + $(".selected-workspace").html().replace("Workspace ", ""); openWSE.HoverWorkspacePreview(e, t) } }), $("#ddl_WorkspaceSelector").addClass("active"), $("#ddl_WorkspaceSelector").parent().addClass("active"), a.slideDown(openWSE_Config.animationSpeed) } else openWSE.RemoveWorkspaceSelectorActive() }), $(document.body).on("click", ".workspace-selection-item", function () { openWSE.RemoveWorkspaceSelectorActive(); var e = $(".selected-workspace").html().replace("Workspace ", ""), a = $(this).html().replace("Workspace ", ""); if (e != a) { if (openWSE.SetWorkspaceNumber(a), !openWSE_Config.hoverPreviewWorkspace) { var t = "#MainContent_workspace_" + e, i = "#MainContent_workspace_" + a; openWSE.HoverWorkspacePreview(t, i) } $.ajax({ url: wi + "/App_CurrentWorkspace", type: "POST", data: '{ "workspace": "' + a + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) } }); var Vi = { timer: 2e3 }, Yi = function () { function e() { $("#always-visible, #container-footer").hover(function () { n || o || (t(), i = !0) }, function () { i = !1, setTimeout(function () { i || o || (i = !1, n = !0, a()) }, Vi.timer) }), $(document).keyup(function (e) { 27 == e.which && (o ? (o = !1, i = !1, n = !0, a(), openWSE.LoadingMessage1("AutoHide Mode On"), setTimeout(function () { openWSE.RemoveUpdateModal() }, Vi.timer)) : (o = !0, t(), i = !0, openWSE.LoadingMessage1("AutoHide Mode Off"), setTimeout(function () { openWSE.RemoveUpdateModal() }, Vi.timer))) }), setTimeout(function () { i || (i = !1, n = !0, a()) }, Vi.timer) } function a() { $("#always-visible, #container-footer").css("height", "8px"), $("#top-main-bar-top, .footer-padding").hide(), n = !1, $("#container, #iframe-container-helper").css("top", "8px"), $("#container, #iframe-container-helper").css("bottom", "8px"), $(window).resize() } function t() { $("#top-main-bar-top, .footer-padding").show(), $("#always-visible, #container-footer").css("height", ""), $("#container, #iframe-container-helper").css("top", ""), $("#container, #iframe-container-helper").css("bottom", ""), $(window).resize() } var i = !1, n = !1, o = !1; return { init: e } }(), Ki = { timer: 1e3 }, Qi = function () { function e() { $("#container").append("<div id='presentationmodeText'>Presentation Mode is Off</div>"), a("To start 'Presentation Mode', press the ESC key"), $(document).keyup(function (e) { 27 == e.which && ($("#PresentationActivate-element").length > 0 && openWSE.LoadModalWindow(!1, "PresentationActivate-element", ""), null != s && clearTimeout(s), $("#presentationmodeText").remove(), 0 == o ? (o = !0, n(), $("#container").append("<div id='presentationmodeText'>Presentation Mode is Off</div>"), $("#update-element").remove(), openWSE.LoadingMessage1("Presentation Mode Off"), s = setTimeout(function () { openWSE.RemoveUpdateModal() }, Ki.timer)) : 1 == o ? (o = 2, i(), $("#container").append("<div id='presentationmodeText'>Presentation Edit Mode</div>"), $("#update-element").remove(), openWSE.LoadingMessage1("Presentation Mode Edit"), s = setTimeout(function () { openWSE.RemoveUpdateModal() }, Ki.timer)) : (o = 0, t(), $("#update-element").remove(), openWSE.LoadingMessage1("Presentation Mode On"), s = setTimeout(function () { openWSE.RemoveUpdateModal() }, Ki.timer))) }) } function a(e) { $(window).load(function () { var a = "<div id='PresentationActivate-element' class='Modal-element' style='display: none;'>"; a += "<div class='Modal-overlay'>", a += "<div class='Modal-element-align'>", a += "<div class='Modal-element-modal' data-setwidth='445'>", a += "<div class='ModalScrollContent'><div class='ModalPadContent'><h3 class='pad-top'><b class='pad-right-sml'>Note:</b>" + e + "</h3>", a += "<div align='right'><input type='button' class='input-buttons' value='Ok' onclick='openWSE.LoadModalWindow(false, \"PresentationActivate-element\", \"\");setTimeout(function(){$(\"#PresentationActivate-element\").remove();},openWSE_Config.animationSpeed);' style='margin-top: 15px!important;' /></div><div class='clear-space-two'></div></div>", a += "</div></div></div></div></div>", $("body").append(a), openWSE.LoadModalWindow(!0, "PresentationActivate-element", "") }) } function t() { $("#always-visible").addClass("header-presentation"), $("#container-footer").addClass("footer-presentation"), $("#always-visible, #container-footer").addClass("header-footer-presentation"), $(".username-top-info").addClass("top-menu-color-presentation"), $("#container, #iframe-container-helper").addClass("container-presentation"), $("body").addClass("body-presentation-bg"), $(".app-maximized").addClass("app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected, .workspace-overlays").addClass("body-presentation-bg app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected").addClass("no-shadow-presentation"), $(".app-min-bar, .app-min-bar-alt, .ui-icon-gripsmall-diagonal-se").css("background-image", "none"), $(".sidebar-padding-menulinks").hide(), $(".app-head, .app-head-button-holder, .overlay-header").hide(), $("#top-main-bar-top, .footer-padding").hide(), $(window).resize(), isHiding = !1 } function i() { $("#always-visible").addClass("header-presentation"), $("#container-footer").addClass("footer-presentation"), $("#always-visible, #container-footer").addClass("header-footer-presentation"), $(".username-top-info").addClass("top-menu-color-presentation"), $("#container, .pnl-overlaysAll, #iframe-container-helper").addClass("container-presentation"), $("body").addClass("body-presentation-bg"), $("#top-main-bar-top, .footer-padding").hide(), $(".sidebar-padding-menulinks").hide(), $(window).resize() } function n() { $("#always-visible").removeClass("header-presentation"), $("#container-footer").removeClass("footer-presentation"), $("#always-visible, #container-footer").removeClass("header-footer-presentation"), $(".username-top-info").removeClass("top-menu-color-presentation"), $("#container, .pnl-overlaysAll, #iframe-container-helper").removeClass("container-presentation"), $("body").removeClass("body-presentation-bg"), $(".app-maximized").removeClass("app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected, .workspace-overlays").removeClass("body-presentation-bg app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected").removeClass("no-shadow-presentation"), $(".app-min-bar, .app-min-bar-alt, .ui-icon-gripsmall-diagonal-se").css("background-image", ""), $(".sidebar-padding-menulinks").show(), $(".app-head, .app-head-button-holder, .overlay-header").show(), $("#top-main-bar-top, .footer-padding").show(), $(".app-body").each(function () { var e = null; $(this).find(".main-div-app-bg").length > 0 && (e = $(this).find(".main-div-app-bg")), null != e && (e.css("top", ""), e.css("bottom", "")) }), $(window).resize() } var o = 2, s = null; return { init: e } }(); $.fn.AccordianTab = function (e) { function a() { p.find("." + d.headerClass).each(function () { 0 == $(this).find("." + d.menuDropDownClass).length && ($(this).append("<span class='" + d.menuDropDownClass + "'></span>"), d.startCollapsed ? ($(this).attr("title", d.expandTooltip), $(this).find("." + d.menuDropDownClass).addClass(d.collapsedClass), $(this).parent().find("." + d.bodyClass).hide()) : ($(this).attr("title", d.collapseTooltip), $(this).find("." + d.menuDropDownClass).addClass(d.expandedClass), $(this).parent().find("." + d.bodyClass).show())) }) } function t() { var e = !1; if ("function" == typeof cookie || "object" == typeof cookie) { if (d.createCookie) { var a = cookie.get("menubar-links-tab"); try { var t = a.split(","); if ("" != t && null != t) for (var i = 0; i < t.length; i++) if ("" != t[i]) { var s = p.find("#" + t[i]); if (s.length > 0) if (d.startCollapsed) { if (s.closest(".a-body").find("." + d.headerClass).attr("title", d.collapseTooltip), s.closest(".a-body").find("." + d.menuDropDownClass).removeClass(d.collapsedClass).addClass(d.expandedClass), s.show(), d.oneOpen) return } else (!d.allowCloseAll && n() > 1 || d.allowCloseAll || !d.startCollapsed && "block" == s.css("display")) && (s.closest(".a-body").find("." + d.headerClass).attr("title", d.expandTooltip), s.closest(".a-body").find("." + d.menuDropDownClass).removeClass(d.expandedClass).addClass(d.collapsedClass), s.hide()) } } catch (l) { } } else cookie.del("menubar-links-tab"); (!d.allowCloseAll && 0 == n() || !d.startCollapsed && n() == p.find("." + d.bodyClass).length) && (d.startCollapsed || o(), e = !0) } else e = !0; if (e && p.find("." + d.bodyClass).length > 0) { var s = p.find("." + d.bodyClass).eq(0); s.closest(".a-body").find("." + d.headerClass).attr("title", d.collapseTooltip), s.show(), s.closest(".a-body").find("." + d.menuDropDownClass).removeClass(d.collapsedClass).addClass(d.expandedClass) } } function i() { if (d.createCookie) { var e = ""; p.find("." + d.bodyClass).each(function () { "block" == $(this).css("display") && (e += $(this).attr("id") + ",") }), ("function" == typeof cookie || "object" == typeof cookie) && ("" != e ? cookie.set("menubar-links-tab", e, 30) : cookie.del("menubar-links-tab")) } } function n() { var e = 0; return p.find("." + d.bodyClass).each(function () { "block" == $(this).css("display") && e++ }), e } function o() { p.find("." + d.headerClass).each(function () { $(this).attr("title", d.expandTooltip), $(this).find("." + d.menuDropDownClass).addClass(d.collapsedClass), $(this).parent().find("." + d.bodyClass).hide() }) } function s() { var e = !1; p.find("." + d.bodyClass).each(function () { return "block" == $(this).css("display") ? void (e = !0) : void 0 }); var a = cookie.get("menubar-links-tab"); if (!e && "" != a && null != a) { var t = p.find("." + d.headerClass).find("." + d.menuDropDownClass), i = p.find("." + d.bodyClass); t.length > 0 && i.length > 0 && (t.eq(0).removeClass(d.collapsedClass).addClass(d.expandedClass), i.eq(0).show()) } } var p = this, l = { allowCloseAll: !0, oneOpen: !0, startCollapsed: !0, animationSpeed: 150, createCookie: !0, headerClass: "menu-title", bodyClass: "li-pnl-tab", collapsedClass: "menu-collapsed", expandedClass: "menu-expanded", menuDropDownClass: "menu-dd", expandTooltip: "Click to Expand", collapseTooltip: "Click to Collapse" }, d = $.extend({}, l, e); $(document).ready(function () { a(), t(), s(), 1 == $("." + d.headerClass).length && 1 == $("." + d.bodyClass).length && ($("." + d.headerClass).attr("title", ""), $("." + d.headerClass).css("cursor", "default"), $("." + d.headerClass).find("." + d.menuDropDownClass).remove(), $("." + d.bodyClass).show()) }), p.find("." + d.headerClass).on("click", function () { if ($("." + d.headerClass).length > 1 && $("." + d.bodyClass).length > 1) { var e = $(this).find("." + d.menuDropDownClass), a = $(this).parent().find("." + d.bodyClass); if (0 != e.length && 0 != a.length) { var t = ""; if (e.hasClass(d.collapsedClass) ? (t = d.collapseTooltip, $(this).attr("title", t), e.removeClass(d.collapsedClass).addClass(d.expandedClass), a.slideDown(d.animationSpeed)) : (!d.allowCloseAll && n() > 1 || d.allowCloseAll) && (t = d.expandTooltip, $(this).attr("title", t), e.removeClass(d.expandedClass).addClass(d.collapsedClass), a.slideUp(d.animationSpeed)), d.oneOpen && p.find("." + d.bodyClass).each(function () { $(this).attr("id") != a.attr("id") && ($(this).parent().find("." + d.headerClass).attr("title", d.expandTooltip), $(this).parent().find("." + d.headerClass).find("." + d.menuDropDownClass).removeClass(d.expandedClass).addClass(d.collapsedClass), $(this).slideUp(d.animationSpeed)) }), null != $(this).attr("aria-describedby") && "" != $(this).attr("aria-describedby")) { var o = $(this).attr("aria-describedby"); $("#" + o).find(".ui-tooltip-content").html(t) } setTimeout(function () { i() }, 2 * d.animationSpeed) } } }) }; var Ji = "sidebar-menu"; return { siteRoot: Zt, loadingImg: ci, loadingImg_lrg: hi, topBarHt: Pi, AdjustTableSettingsBox: h, GetPagedAddOverlayAndModel: o, IsComplexWorkspaceMode: s, PagedWorkspace: n, SetContainerTopPos: i, SetTrialText: r, ConvertBitToBoolean: l, OpenMobileWorkspace: d, init: e, OnError: a, AdjustContainerLogo: t, autoupdate: c, CloseAdminOnlineInformationWindow: m, LoadingMessage1: u, RemoveUpdateModal: g, AlertWindow: b, CloseAlertWindow: y, ReportAlert: w, ConfirmWindow: C, CloseConfirmWindow: S, StartMessageTickInterval: v, OnBrowserClose: k, CheckIfWorkspaceLinkAvailable: _, RadioButtonStyle: W, RatingStyleInit: E, UpdateAppRating: M, ResetRating: A, OpenAppNoti: T, SearchSite: O, ClearAppSearch: P, SearchExternalSite: R, LoadModalWindow: B, SaveInnerModalContent: L, LoadSavedInnerModalContent: z, LoadTopOptionsCookie: N, SetDropDownMaxHeight: H, ExpandAdminLinks: Xt, HelpOverlay: U, HelpMenuPageLoad: D, NewUserPageLoad: G, NewUserfinsh: X, OnEmailUpdate_KeyPress: K, OnPasswordUpdate_KeyPress: Q, UpdateEmail: q, UpdateAdminPassword: V, ShowUpdatesPopup: ea, ShowActivationPopup: aa, CloseUpdatesPopup: ta, OverlayDisable: ia, TryAddLoadOverlay: na, TryRemoveLoadOverlay: oa, CallOverlayList: sa, AddRemoveOverlayClick: pa, CreateOverlayTable: la, GetUserNotifications: ra, NotiActionsClearAll: va, NotiActionsHideInd: ga, LoadCreateAccountHolder: wa, LoadRecoveryPassword: Ca, SetPostalCode: Sa, WeatherBuilder: ka, LoadIFrameContent: _a, LoadIFrameContentHistory: Wa, CloseIFrameContent: xa, BackgroundSelector: Ma, ClearBackground: Aa, CloseBackgroundSelector: Ta, updateBackgroundURL: Oa, updateBackgroundColor: Pa, HideTasks: Ba, ShowTasks: La, LoadCurrentWorkspace: za, Getworkspace: ja, HoverWorkspacePreview: Na, SetWorkspaceNumber: Ha, RemoveWorkspaceSelectorActive: Ua, AutoRotateWorkspace: Fa, AutoUpdateOnRotate: Da, AppsSortUnlocked: Ga, CreateSOApp: qa, BuildAppMinIcon: Va, LoadApp: Ya, LoadAppFromSiteTools: Ka, DetermineNeedPostBack: Qa, WatchForLoad: Ja, LoadUserControl: Xa, MoveOutsideModalWindows: Za, ResizeAllAppBody: at, ResizeAppBody: tt, ApplyOverlayFix: it, RemoveOverlayFix: nt, MoveOffScreen: ot, MoveOnScreen_WorkspaceOnly: st, MoveToCurrworkspace: pt, SetAppMaxToMin: lt, SetAppMinToMax: dt, HoverOverAppMin: rt, HoverOutAppMin: ct, SetNoticiationsMaxHeight: $a, SetActiveApp: ht, SetDeactiveApps: ft, SetDeactiveAll: mt, LoadActiveAppCookie: ut, LoadCategoryCookies: vt, MaximizeApp: yt, StartRemoteLoad: gt, LoadRemotely: $t, SetRemoteLoadingOptions: bt, SetAppIconActive: wt, AddworkspaceAppNum: Ct, RemoveworkspaceAppNum: St, RemoveAppIconActive: kt, CategoryClick: _t, ApplyAppDragResize: Wt, ReloadApp: xt, AboutApp: Et, UninstallApp: Mt, PopOutFrame: At, PopOutFrameFromSiteTools: Tt, PopOutTool: Ot, MoveAppToworkspace: Pt, getInternetExplorerVersion: jt, checkVersion: Nt, GroupLoginModal: Ht, LoginAsGroup: Ut, CloseGroupLoginModal: Ft, AutoHideMode: Yi, PresentationMode: Qi, HashChange: Dt, AcceptGroupNotification: qt, SubmitFeedback: Vt, ToolView: Yt, MobileMode: Kt, ResizeContainer: Jt, GetElementClassList: ei, ShowHideAccordianSidebar: ai, ReloadPage: oi }
}(); $(window).resize(function () { openWSE.SetContainerTopPos(!0), openWSE.ResizeContainer(); var e = openWSE.Getworkspace(); openWSE.ResizeAllAppBody($($("#MainContent_" + e).length > 0 ? "#MainContent_" + e : "body")) }), $(document).ready(function () { openWSE.init(), openWSE.SetContainerTopPos(!1), openWSE.LoadCategoryCookies(), openWSE.LoadTopOptionsCookie(), openWSE.checkVersion(), openWSE.GetUserNotifications(!0), openWSE.HashChange(), openWSE.ResizeContainer(); var e = openWSE.Getworkspace(); openWSE.ResizeAllAppBody($("#MainContent_" + e)), $("#searchbox-app-search").length > 0 && $("#searchbox-app-search").autocomplete({ minLength: 1, autoFocus: !0, source: function (e, a) { $.ajax({ url: openWSE.siteRoot() + "WebServices/AutoComplete.asmx/GetAppSearchList", data: "{ 'prefixText': '" + e.term + "', 'count': '10' }", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e }, success: function (e) { a($.map(e.d, function (e) { return { label: e, value: e } })) } }) } }).focus(function () { $(this).autocomplete("search", "") }) }), $(function () { $(window).hashchange(function () { openWSE.HashChange() }), openWSE_Config.displayLoadingOnRedirect && ($("#lnk_BackToWorkspace, .app-icon-links, .app-icon-sub-links, .account-link-style").click("click", function (e) { "img-expand-sml" != e.target.className && "img-collapse-sml" != e.target.className && "_blank" != $(this).attr("target") && openWSE.LoadingMessage1("Loading...") }), openWSE.IsComplexWorkspaceMode() || $(".app-icon").click("click", function (e) { "app-options" != e.target.className && "_blank" != $(this).attr("target") && openWSE.LoadingMessage1("Loading...") })) }), window.onerror = function (e, a) { a = window.location.href, (-1 == a.toLowerCase().indexOf("networklog.aspx") || "Uncaught TypeError: boolean is not a function" != e && "Script error." != e) && (openWSE_Config.reportAlert ? openWSE.AlertWindow(e, a) : openWSE.OnError(e, a)) }, $(window).load(function () { openWSE.ApplyAppDragResize(); var e = openWSE.Getworkspace(); openWSE.ResizeAllAppBody($("#MainContent_" + e)), openWSE.AdjustContainerLogo(), $("#container_logo").length > 0 && $("#container_logo").css({ visibility: "visible" }), openWSE.LoadActiveAppCookie(), openWSE_Config.taskBarShowAll || ($(".app-min-bar").hide(), $("#MainContent_" + e).find(".app-main-holder").each(function () { var e = $(this).attr("data-appid"); 0 != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").length && "none" == $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").css("display") && $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").show() })), openWSE.MoveOutsideModalWindows() }), $.extend({ LoadingMessage: function () { try { var e = arguments[0], a = arguments[1]; (null == a || "" == a || void 0 == a) && (a = "Updating. Please Wait..."), $("#update-element").length > 0 && $("#update-element").remove(); var t = "<div id='update-element'><div class='update-element-overlay' style='position: absolute!important'><div class='update-element-align' style='position: absolute!important'>"; t += "<div class='update-element-modal'><h3 class='inline-block'>" + a + "</h3></div></div></div></div>", $(e).append(t), $("#update-element").fadeIn(openWSE_Config.animationSpeed) } catch (i) { } } }), function (e, a, t) { function i(e) { return e } function n(e) { return decodeURIComponent(e.replace(o, " ")) } var o = /\+/g, s = e.cookie = function (o, p, l) { if (p !== t) { if (l = e.extend({}, s.defaults, l), null === p && (l.expires = -1), "number" == typeof l.expires) { var d = l.expires, r = l.expires = new Date; r.setDate(r.getDate() + d) } return p = s.json ? JSON.stringify(p) : String(p), a.cookie = [encodeURIComponent(o), "=", s.raw ? p : encodeURIComponent(p), l.expires ? "; expires=" + l.expires.toUTCString() : "", l.path ? "; path=" + l.path : "", l.domain ? "; domain=" + l.domain : "", l.secure ? "; secure" : ""].join("") } for (var c, h = s.raw ? i : n, f = a.cookie.split("; "), m = 0; c = f[m] && f[m].split("=") ; m++) if (h(c.shift()) === o) { var u = h(c.join("=")); return s.json ? JSON.parse(u) : u } return null }; s.defaults = {}, e.removeCookie = function (a, t) { return null !== e.cookie(a, t) ? (e.cookie(a, null, t), !0) : !1 } }(jQuery, document); var cookie = { set: function (e, a, t) { if (openWSE_Config.saveCookiesAsSessions) { var i = openWSE.siteRoot() + "WebServices/SaveControls.asmx/SetCookie"; $.ajax({ url: i, type: "POST", data: '{ "name": "' + e + '","value": "' + a + '" }', contentType: "application/json; charset=utf-8" }) } else { { cookie.get(e) } if (t) { var n = new Date; n.setTime(n.getTime() + 24 * t * 60 * 60 * 1e3); var o = "; expires=" + n.toGMTString() } else var o = ""; document.cookie = e + "=" + a + o + "; path=/" } }, get: function (e) { var a = null; if (openWSE_Config.saveCookiesAsSessions) { var t = openWSE.siteRoot() + "WebServices/SaveControls.asmx/GetCookie"; $.ajax({ url: t, type: "POST", async: !1, data: '{ "name": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (e) { e && (a = e.d) } }) } else for (var i = e + "=", n = document.cookie.split(";"), o = 0; o < n.length; o++) { for (var s = n[o]; " " == s.charAt(0) ;) s = s.substring(1, s.length); if (0 == s.indexOf(i)) return s.substring(i.length, s.length) } return a }, del: function (e) { if (openWSE_Config.saveCookiesAsSessions) { var a = openWSE.siteRoot() + "WebServices/SaveControls.asmx/DelCookie"; $.ajax({ url: a, type: "POST", data: '{ "name": "' + e + '" }', contentType: "application/json; charset=utf-8" }) } else this.set(e, "", -1) } };
