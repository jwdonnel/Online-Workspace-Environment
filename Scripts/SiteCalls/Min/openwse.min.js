// -----------------------------------------------------------------------------------
//
//	openWSE v4.1
//	by John Donnelly
//	Last Modification: 5/25/2015
//
//	Licensed under the Creative Commons Attribution 2.5 License - http://creativecommons.org/licenses/by/2.5/
//  	- Free for use in both personal and commercial projects
//		- Attribution requires leaving author name, author link, and the license info intact.
//
//  Requirements:
//      jquery v1.11.1 - http://code.jquery.com/jquery-1.11.1.min.js
//      migrate.jquery.min.js - http://code.jquery.com/jquery-migrate-1.2.1.min.js
//
// -----------------------------------------------------------------------------------
var openWSE_Config = { siteName: "", demoMode: !1, siteTheme: "Standard", animationSpeed: 200, hoverPreviewWorkspace: !1, taskBarShowAll: !0, ShowWorkspaceNumApp: !0, desktopCSS: "site_desktop.css", mobileCSS: "site_mobile.css", winMinWidth: 800, minPasswordLength: 6, workspaceMode: "", overlayPanelId: "pnl_OverlaysAll", reportAlert: !0, siteRootFolder: "", displayLoadingOnRedirect: !0, saveCookiesAsSessions: !1, defaultBackgroundColor: "#FFFFFF", defaultBackgroundPosition: "right center", defaultBackgroundSize: "auto", defaultBackgroundRepeat: "repeat", appSnapHelper: !1, appStyle: "Style_1", onlyAllowOneAccordionOpen: !1, sidebarAccordionOn: !0 }, openWSE = function () {
    function e() { console.log(openWSE_Config), Jo = openWSE.siteRoot() + "WebServices/SaveControls.asmx", go(), yo(), Mo(), openWSE_Config.sidebarAccordionOn ? $("#accordian-sidebar").AccordianTab({ allowCloseAll: !0, oneOpen: openWSE_Config.onlyAllowOneAccordionOpen, startCollapsed: !0, animationSpeed: openWSE_Config.animationSpeed, createCookie: !0 }) : ($("#accordian-sidebar").addClass("accordion-off"), $("#accordian-sidebar").find(".menu-title").each(function () { $(this).attr("title", "") })), openWSE.CheckIfWorkspaceLinkAvailable() || $("#lnk_BackToWorkspace").length > 0 && $("#lnk_BackToWorkspace").remove() } function a(e, a) { var t = openWSE.siteRoot() + "WebServices/AppLog_Errors.asmx/AddError"; $.ajax({ url: t, type: "POST", data: '{ "message": "' + escape(e) + '","url": "' + escape(a) + '" }', contentType: "application/json; charset=utf-8" }) } function t() { if ($("#container_logo").length > 0) { var e = $("#container_logo").height(), a = $("#container_logo").width(), t = -(e / 2), o = -(a / 2); $("#container_logo").css({ marginLeft: o, marginTop: t }) } } function o(e) { pi = $("#always-visible").outerHeight(), di = $("#container-footer").outerHeight(), "none" == $("#always-visible").css("display") && (pi = 0), "none" == $("#container-footer").css("display") && (di = 0), $("#container, #iframe-container-helper").css("top", pi), $("#container, #iframe-container-helper, .administrator-workspace-note").css("bottom", di), t(), e && ($("#iframe-content-src").length > 0 && ($("#iframe-content-src").css("height", $(window).height() - ($("#always-visible").height() + $("#container-footer").height())), $("#iframe-content-src").css("width", $(window).width())), openWSE.SetNoticiationsMaxHeight(), openWSE.SetMaxHeightGroupLogin(), openWSE.SetDropDownMaxHeight()) } function i(e) { if (Ja("1"), "" != e && 0 != $(".app-icon[data-appid='" + e + "']").length) { ci = !0; var a = $($(".app-icon[data-appid='" + e + "']")[0]); $(".app-main-holder[data-appid='" + e + "']").addClass("auto-full-page"), $(".app-main-holder[data-appid='" + e + "']").find(".app-head, .app-head-button-holder").hide(), a.trigger("click") } } function n() { $("#" + openWSE_Config.overlayPanelId).append($(".addOverlay-bg")), $("#" + openWSE_Config.overlayPanelId).append($("#overlayEdit-element")), $(".addOverlay-bg").css({ bottom: $("#container-footer").outerHeight(), left: $("#sidebar_menulinks").outerWidth() }) } function s() { return "complex" == openWSE_Config.workspaceMode.toLowerCase() || "" == openWSE_Config.workspaceMode ? !0 : !1 } function l(e) { if (null != e && void 0 != e) { var a = $.trim(e.toString().toLowerCase()); if ("true" != a && "false" != a && "0" != a && "1" != a && "" != a) return !0; if ("1" == a || "true" == a || "" == a) return !0; if ("0" == a || "false" == a) return !1 } return !1 } function d() { var e = openWSE.siteRoot() + "AppRemote.aspx"; if (location.href.indexOf("SiteTools/") > 0) { var a = location.pathname; a += "" == location.search ? "?mobileMode=true" : "?" + location.search + "&mobileMode=true", e += "#?id=adminPages&category=" + escape(a) } return window.open(e, "_blank", "toolbar=no, scrollbars=yes, resizable=yes, width=340, height=550"), !1 } function r(e) { ("" == e || null == e) && (e = "0,0,0"), $("#pnl_groupHolder").length > 0 ? ($("#pnl_groupHolder").find("img").addClass("logo-backgroundcolor"), $(".logo-backgroundcolor").css("background-color", "rgba(" + e + ",0.4)")) : $("#container_logo").length > 0 && ($("#container_logo").addClass("logo-backgroundcolor"), $(".logo-backgroundcolor").css("background-color", "rgba(" + e + ",0.4)")) } function c() { $("#pnl_groupHolder").length > 0 ? ($("#pnl_groupHolder").find("img").removeClass("logo-backgroundcolor"), $("#pnl_groupHolder").find("img").css("background-color", "")) : $("#container_logo").length > 0 && ($("#container_logo").removeClass("logo-backgroundcolor"), $("#container_logo").css("background-color", "")) } function h(e) { var a = "<div class='trial-version-text'><span>Trial Version</span><span class='float-right'>Expires in " + e + "</span></div>"; $("#maincontent_overflow").prepend(a) } function u(e, a, t) { "" == Po && "" != e && (Po = e), "" == Ro && "" != a && (Ro = a), "" == zo && "" != t && (zo = t), "" != Po && "" != Ro && "" != zo && 0 == No && ($.ajax({ url: a, data: '{ "_appId": "' + escape(zo) + '" }', contentType: "application/json; charset=utf-8", dataType: "json", type: "POST", success: function (e) { var a = e.d[0]; if ("TURNOFF" == a) return void (No = 1); if ("refresh" == a) No = 0, document.getElementById(Po).value = "refresh", __doPostBack(Po, ""); else if ("workspace-check" == a) No = 0, u(Po, Ro, zo); else if ("false" != a && "" != a) try { openWSE.ConvertBitToBoolean(e.d[1]) ? (No = 0, b("Receiving Request..."), Ot(a, Po, Ro, zo)) : (No = 0, document.getElementById(Po).value = a, __doPostBack(Po, "")) } catch (t) { No = 0, u(Po, Ro, zo) } else No = 0, u(Po, Ro, zo) }, error: function () { No = 0, u(Po, Ro, zo) } }), No = 1) } function f() { 0 == $(".pnl-section").length && $(".table-settings-box").length > 0 ? $(".table-settings-box").eq($(".table-settings-box").length - 1).addClass("no-border") : $(".pnl-section").length > 0 && $(".table-settings-box").length > 0 && $(".pnl-section").each(function () { var e = $(this).find(".table-settings-box").length; $(this).find(".table-settings-box").eq(e - 1).addClass("no-border") }) } function m() { $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), openWSE.RemoveWorkspaceSelectorActive(), ka(), uo(), cookie.del("top_menu") } function g(e) { var a = $.trim(e.d); "" == a && (a = "No information available"); var t = "<div id='AdminOnlineInformation-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='325'>", t += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>", t += "<a href='#' onclick=\"openWSE.CloseAdminOnlineInformationWindow();return false;\" class='ModalExitButton'></a>", t += "</div><span class='Modal-title'></span></div></div>"; var o = "<input class='input-buttons no-margin' type='button' value='Close' onclick=\"openWSE.CloseAdminOnlineInformationWindow();\" />"; t += "<div class='ModalPadContent'><div class='pad-bottom-big'>" + a + "</div><div align='right' class='button-holder'>" + o + "</div></div>", t += "</div></div></div></div>", $("body").append(t), N(!0, "AdminOnlineInformation-element", "Site Information") } function v() { $("#AdminOnlineInformation-element").length > 0 && $("#AdminOnlineInformation-element").remove() } function b(e) { y(), -1 != e.indexOf("...") && (e = e.replace("...", "")), e += "<span class='progress inline-block'></span>"; var a = "<div id='update-element'><div class='update-element-overlay'><div class='update-element-align'>"; a += "<div class='update-element-modal'><h3 class='inline-block'>" + e + "</h3></div></div></div></div>", $("body").append(a), w($("#update-element").find(".progress")[0]), $("#update-element").show(); var t = $("#update-element").find(".update-element-modal"), o = -(t.outerWidth() / 2), i = -(t.outerHeight() / 2); t.css({ marginLeft: o, marginTop: i }) } function w(e) { fi = setInterval(function () { var a = ""; switch (mi) { case 0: a = ".", mi++; break; case 1: a = "..", mi++; break; case 2: a = "...", mi++; break; default: a = "", mi = 0 } $(e).html(a) }, 400) } function y() { mi = 0, null != fi && clearInterval(fi), $("#update-element").remove() } function k(e, a) { ("" == e || null == e) && (e = "An error has occured that was not specified."); var t = "<div id='AlertWindow-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='370'>", t += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>", t += "<a href='#' onclick=\"openWSE.CloseAlertWindow();return false;\" class='ModalExitButton'></a>", t += "</div><span class='Modal-title'></span></div></div>"; var o = "<input class='input-buttons confirm-ok-button' type='button' value='Ok' onclick=\"openWSE.CloseAlertWindow();\" style='width: 50px;' />", i = ""; openWSE_Config.reportAlert && (i = "<input class='input-buttons no-margin confirm-report-button' type='button' value='Report' onclick=\"openWSE.ReportAlert('" + escape(e) + "','" + escape(a) + "');\" style='margin-left: 16px!important;' />"), "" == openWSE_Config.siteTheme && (openWSE_Config.siteTheme = "Standard"); var n = "<img alt='confirm' src='" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Icons/alert.png' />"; t += "<div class='ModalPadContent'><div class='message-text'>" + n + e + "</div><div class='button-holder'>" + o + i + "</div></div>", t += "</div></div></div></div>", $("body").append(t), N(!0, "AlertWindow-element", "Message"), setTimeout(function () { $("#AlertWindow-element").find(".confirm-ok-button").focus() }, 250) } function C() { $("#AlertWindow-element").length > 0 && ($("#AlertWindow-element").hide(), $("#AlertWindow-element").remove()) } function S(e, t) { ("" == t || null == t) && (t = window.location.href), a(unescape(e), unescape(t)), C() } function _(e, a, t) { ("" == e || null == e) && (e = "Are you sure you want to continue?"); var o = "<div id='ConfirmWindow-element' class='Modal-element' style='display: none;'>"; o += "<div class='Modal-overlay'>", o += "<div class='Modal-element-align'>", o += "<div class='Modal-element-modal' data-setwidth='370'>", o += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'>", o += "<a href='#' onclick=\"openWSE.CloseConfirmWindow();return false;\" class='ModalExitButton confirm-cancel-button-header'></a>", o += "</div><span class='Modal-title'></span></div></div>"; var i = "<input class='input-buttons confirm-ok-button' type='button' value='Ok' style='width: 60px;' />", n = "<input class='input-buttons confirm-cancel-button' type='button' value='Cancel' />"; "" == openWSE_Config.siteTheme && (openWSE_Config.siteTheme = "Standard"); var s = "<img alt='confirm' src='" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Icons/confirm.png' />"; o += "<div class='ModalPadContent'><div class='message-text'>" + s + e + "</div><div class='button-holder'>" + i + n + "</div></div></div>", o += "</div></div></div></div>", $("body").append(o), $("#ConfirmWindow-element").find(".confirm-ok-button").one("click", function () { openWSE.CloseConfirmWindow(), null != a && a() }), $("#ConfirmWindow-element").find(".confirm-cancel-button, .confirm-cancel-button-header").one("click", function () { openWSE.CloseConfirmWindow(), null != t && t() }), N(!0, "ConfirmWindow-element", "Confirmation"), setTimeout(function () { $("#ConfirmWindow-element").find(".confirm-ok-button").focus() }, 250) } function W() { $("#ConfirmWindow-element").length > 0 && ($("#ConfirmWindow-element").hide(), $("#ConfirmWindow-element").remove()) } function x() { $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/OnBrowserClose", data: "", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e } }) } function E() { var e = !1; return $(".site-tools-tablist").each(function (a) { $(".site-tools-tablist").eq(a).find(".app-icon-links").each(function () { var a = $(this).find(".app-icon-font"); "workspace" == a.html().toLowerCase() && (e = !0) }) }), e } function M() { $(".switch").each(function () { var e = $(this); if (0 == e.find(".RadioButton-Toggle-Overlay").length) { var a = $(this).find(".cb-enable"), t = $(this).find(".cb-disable"); if (0 == e.find(".switch-slider").length) { e.append("<div class='switch-slider'><table class='switch-slider-table' cellpadding='0' cellspacing='0'><tbody><tr><td class='td-enable'></td><td class='td-switch' title='Click or Drag'></td><td class='td-disable'></td></tr></tbody></table></div>"), e.find(".td-enable").append(a), e.find(".td-switch").html("<span class='RadioButton-Toggle-Overlay'></span>"), e.find(".td-disable").append(t), a.removeClass("RandomActionBtns"), t.removeClass("RandomActionBtns"); var o = e.find(".cb-enable").outerWidth(); 0 == o && (o = e.find(".cb-enable").find("label").outerWidth()); var i = o + e.find(".RadioButton-Toggle-Overlay").outerWidth(); e.width(i - 2); var n = e.outerWidth() - e.find(".RadioButton-Toggle-Overlay").outerWidth() + 2, s = a.find("input"), l = t.find("input"); A(s) && s.prop("checked") || a.hasClass("selected") ? (a.addClass("selected"), t.removeClass("selected"), s.prop("checked", !0), l.prop("checked", !1), e.find(".switch-slider").css("left", 0)) : (t.addClass("selected"), a.removeClass("selected"), l.prop("checked", !0), s.prop("checked", !1), e.find(".switch-slider").css("left", -n)) } else e.find(".td-switch").html("<span class='RadioButton-Toggle-Overlay'></span>"); e.find(".switch-slider").draggable({ cancel: ".cb-enable, .cb-disable", axis: "x", drag: function (e, a) { var t = $(this).parent().outerWidth() - $(this).find(".RadioButton-Toggle-Overlay").outerWidth() + 2; return a.position.left < -t ? ($(this).css("left", -t), !1) : a.position.left >= 0 ? ($(this).css("left", 0), !1) : void 0 }, stop: function (a, t) { var o = $(this).parent().outerWidth() - $(this).find(".RadioButton-Toggle-Overlay").outerWidth() + 2, i = o / 2, n = !1, s = !0; e.find(".cb-disable").each(function () { { var e = $(this).find("input"); e.attr("checked") } $(this).hasClass("selected") && (s = !1) }), t.position.left > -i ? (n = !0, $(this).animate({ left: 0 }, openWSE_Config.animationSpeed)) : $(this).animate({ left: -(2 * i) }, openWSE_Config.animationSpeed), s && !n ? (gi = !0, e.find(".cb-disable").find("input").trigger("click")) : !s && n && (gi = !0, e.find(".cb-enable").find("input").trigger("click")) } }) } }) } function A(e) { var a = $(e)[0].attributes.checked; return "undefined" != typeof a && a !== !1 ? !0 : !1 } function T(e, a, t, o, i) { try { var n = !1; t && (n = !0); var s = openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme; $(e).attr("data-average", a), $(e).attr("data-id", "1"); var l = "big"; i || (l = "small"), $(e).jRating({ step: !0, type: l, showRateInfo: !1, canRateAgain: !0, nbRates: 100, bigStarsPath: s + "/Icons/star-rating-lrg.png", smallStarsPath: s + "/Icons/star-rating-sml.png", isDisabled: n, decimalLength: 2, length: 4, rateMax: 4, rateMin: 0, phpPath: "", sendRequest: !0, onClick: function (n, s) { $("#AppRating-element").remove(); var l = "<div id='AppRating-element' class='Modal-element'><div class='Modal-overlay'><div class='Modal-element-align'><div class='Modal-element-modal' style='min-width: 350px;'>"; l += "<div class='ModalHeader'><div><div class='app-head-button-holder-admin'></div><span class='Modal-title'></span></div></div>", l += "<div class='ModalScrollContent'><div class='ModalPadContent'></div></div></div></div></div></div>", $("#aboutApp-element").find(".ModalPadContent").append(l); var p = "<div class='pad-bottom'>Add a comment to your rating or just press Submit.</div>"; p += "<textarea id='app-rating-comment' rows='4' cols='40' style='width: 96%; font-family: arial; font-size: 14px; padding: 5px; border: 1px solid #DDD;'></textarea>", p += "<div class='clear-space'></div>", p += "<input class='float-right no-margin input-buttons' type='button' value='Cancel' onclick='openWSE.ResetRating(\"" + e + '", "' + a + '", ' + t + ', "' + o + '", ' + i + ');$("#AppRating-element").remove();\' />', p += "<input class='float-left no-margin input-buttons' type='button' value='Submit' onclick='openWSE.UpdateAppRating(\"" + e + '", "' + s + '", ' + t + ', "' + o + '", ' + i + ");' />", p += "<div class='clear-space-five'></div>", $("#AppRating-element").find(".ModalPadContent").html(p), N(!0, "AppRating-element", "Rating Comment") } }), i || $(e).find(".jStar").addClass("jStar-Small") } catch (p) { } } function I(e, a, t, o, i) { b("Updating rating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/SaveControls.asmx/UpdateAppRating", type: "POST", data: '{ "rating": "' + a + '","appId": "' + o + '","description": "' + $("#app-rating-comment").val() + '" }', contentType: "application/json; charset=utf-8", success: function () { $("#AppRating-element").remove(), openWSE.RemoveUpdateModal(), openWSE.ResetRating(e, a, t, o, i) } }) } function B(e, a, t, o, i) { $(e).html(""), T(e, a, t, o, i) } function O(e) { if ($(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), openWSE.IsComplexWorkspaceMode()) if ($("#workspace_holder").length > 0) { if ("none" == $(".app-main-holder[data-appid='" + e + "']").css("display")) { ei = 1; var a = Xa(); lt($(".app-main-holder[data-appid='" + e + "']"), a) } } else L($(".app-icon[data-appid='" + e + "']")); else window.location.href = openWSE.siteRoot() + "Workspace.aspx?AppPage=" + _id } function P() { var e = $.trim($("#searchbox-app-search").val()); "" != e && (b("Searching. Please Wait..."), document.getElementById("hf_SearchSite").value = e, $("#searchbox-app-search").val(""), __doPostBack("hf_SearchSite", "")) } function R() { $("#searchbox-app-search").val("workspace-selector" == $("#searchbox-app-search").parent().parent().attr("id") ? "Search" : "") } function z(e) { $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), window.open("http://google.com/search?q=" + e) } function L(e) { var a = $(e), t = "<div id='ConfirmApp-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' style='width: 400px; min-width: 400px;'>", t += "<div class='ModalHeader'><div><span class='Modal-title'></span></div></div>"; var o = a.find(".app-icon-font").text(); "" == o && (o = a.find(".app-title").text(), "" == o && (o = a.find("span").text())); var i = a.attr("data-appid"), n = ""; if ("" != a.attr("popoutloc") && void 0 != a.attr("popoutloc") && null != a.attr("popoutloc")) { var s = a.attr("popoutloc"); n = "<a href='#' class='float-right' onclick='openWSE.PopOutFrameFromSiteTools(\"" + o + '", "' + s + "\");return false;'>Open in new window</a>" } var l = "1"; "" != a.attr("currentworkspace") && void 0 != a.attr("currentworkspace") && null != a.attr("currentworkspace") && (l = a.attr("currentworkspace")); var p = "<input type='button' class='input-buttons' value='Yes' style='width: 50px;' onclick='openWSE.LoadAppFromSiteTools(\"" + i + '", "' + o + '", "workspace_' + l + "\");' />", d = "<input type='button' class='input-buttons no-margin' value='No' style='width: 50px; margin-left: 10px!important;' onclick=\"$('#ConfirmApp-element').remove();return false;\" />", r = "You must be on the workspace to load this app. Would you like to go back to your workspace?"; if (!openWSE.CheckIfWorkspaceLinkAvailable()) { p = ""; var d = "<input type='button' class='input-buttons no-margin' value='Close' onclick=\"$('#ConfirmApp-element').remove();return false;\" />"; r = "You are not authorized to use the workspace. ", "" != n && (r += "However, you can open this app in a seperate window.") } t += "<div class='ModalScrollContent'><div class='ModalPadContent'>", t += r + "<div class='clear' style='height: 20px;'></div>" + p + d + n, t += "<div class='clear-space'></div></div></div>", t += "</div></div></div></div>", $("body").append(t), openWSE.LoadModalWindow(!0, "ConfirmApp-element", "Open " + o) } function N(e, a, t) { 0 != a.indexOf("#") && (a = "#" + a); var o = $(a); if (e) { o.show(); var i = o.find(".Modal-element-modal"); "Style_2" == openWSE_Config.appStyle ? (o.addClass("modal-style2"), o.find(".ModalExitButton").html("<span></span>"), i.append(o.find(".ModalHeader"))) : o.addClass("modal-style1"); var n = "#container"; (0 == $("#container").length || o.hasClass("outside-main-app-div") && $(".workspace-holder").length > 0) && (n = $("#maincontent_overflow").length > 0 ? "#maincontent_overflow" : "body"), i.outerWidth() > $(n).width() ? (i.find(".ModalScrollContent").css("max-height", $(n).height()), i.css({ width: $(n).width(), minWidth: 50 })) : null != i.attr("data-setwidth") && "" != i.attr("data-setwidth") ? (null != i.attr("data-setmaxheight") && "" != i.attr("data-setmaxheight") ? i.find(".ModalScrollContent").css("max-height", parseInt(i.attr("data-setmaxheight"))) : i.find(".ModalScrollContent").css("max-height", Math.round(parseInt(i.attr("data-setwidth")) / 1.7)), i.css({ width: parseInt(i.attr("data-setwidth")), minWidth: parseInt(i.attr("data-setwidth")) })) : ($(n).width() > 100 && i.css("max-width", $(n).width() - 100), $(n).height() > 100 && i.find(".ModalScrollContent").css("max-height", $(n).height() - 100)), i.draggable({ containment: n, cancel: ".ModalScrollContent, .ModalPadContent, .ModalExitButton, .ModalButtonHolder", drag: function () { var e = $(this); if (e.css("opacity", "0.6"), e.css("filter", "alpha(opacity=60)"), e.find("iframe").length > 0) { var a = e.find(".ModalScrollContent"); $wo = a.find(".app-overlay-fix"), 0 == $wo.length && 1 == a.length && a.append("<div class='app-overlay-fix'></div>") } }, stop: function () { var e = $(this); e.css("opacity", "1.0"), e.css("filter", "alpha(opacity=100)"), $wo = $(this).find(".app-overlay-fix"), 1 == $wo.length && $wo.remove() } }), "" != t && o.find(".Modal-title").html(t), H(a) } else o.hide(), o.css("visibility", "hidden"), o.find(".Modal-title").html(""), setTimeout(function () { if (o.hasClass("outside-main-app-div")) for (var e = _o(o[0]), a = 0; a < e.length; a++) if (e[a].indexOf(hi) > 0) { var t = e[a].replace(hi, ""); Mt($(".app-main-holder[data-appid='" + t + "']")); break } }, 25) } function U(e) { try { var a = e.get_postBackElement(); null != a && ("hf_UpdateAll" == a.id || "MainContent_hf_UpdateAll" == a.id) && 0 == Go.length && (Go = new Array, $(".Modal-element").each(function () { var e = $(this); if ("block" == e.css("display") && 0 == e.find("iframe").length) { var a = escape($.trim(e.find(".ModalScrollContent").html())); if ("" != a && "undefined" != a && null != a) { var t = new Array; "" != e.attr("id") && (t[0] = e.attr("id"), t[1] = a, Go.push(t)) } } })) } catch (t) { } if ("none" != $(".Modal-element").css("display")) { var o = $(".Modal-element").find(".ModalScrollContent"); o.length > 0 && (Ho = o.scrollTop()) } } function j() { if (Go.length > 0 && ($(".Modal-element").each(function () { var e = $(this); if ("block" == e.css("display") && 0 == e.find("iframe").length) for (var a = 0; a < Go.length; a++) if (Go[a][0] == e.attr("id")) { var t = unescape(Go[a][1]); e.find(".ModalScrollContent").html(t); break } }), Go = new Array), "block" == $(".Modal-element").css("display")) { var e = $(".Modal-element").find(".ModalScrollContent"); e.length > 0 && (e.scrollTop(Ho), Ho = 0) } } function H(e) { if (null != e) { var a = $(e); a.find(".Modal-element-align").css({ marginTop: -(a.find(".Modal-element-modal").height() / 2), marginLeft: -(a.find(".Modal-element-modal").width() / 2) }), a.css("visibility", "visible") } } function F() { var e = cookie.get("top_menu"); "" != e && null != e && void 0 != e && $(".top-options li.b").each(function (a) { if (a == e) { $(this).show(); var t = $(this).prev(); 1 == t.length && t.addClass("active"), D() } }) } function D() { $(".top-options li.b").each(function () { if ($(this).is(":visible")) { var e = $(window).height() - 98; $(this).find(".li-pnl-tab").css("max-height", e) } }) } function G(e) { "none" == $("#help_main_holder").css("display") ? ($("#iframe-container-helper").length > 0 && Pa(), bi = e, setTimeout(function () { var e = "", a = window.location.hash; e = -1 == a.indexOf("#") && "#" != window.location.href.charAt(window.location.href.length - 1) ? "#?" : "" != a ? "&" : "?", -1 == a.indexOf("help") ? e += "help" : e = "", window.location += e }, openWSE_Config.animationSpeed)) : oa() } function q() { var e = Jo + "/GetTotalHelpPages"; bi || -1 == document.location.href.toLowerCase().indexOf("workspace.aspx") ? $.ajax({ url: e, type: "POST", data: '{ "currentPage": "' + document.location.href + '" }', contentType: "application/json; charset=utf-8", success: function (e) { var a = parseInt(e.d); a > 0 ? (Vo = a, Y(0, bi), $("#help_main_holder").fadeIn(openWSE_Config.animationSpeed)) : bi ? (K(), $("#help_main_holder").fadeIn(openWSE_Config.animationSpeed)) : (openWSE.AlertWindow("There are no help pages available for this webpage."), oa()) }, error: function () { bi ? (K(), $("#help_main_holder").fadeIn(openWSE_Config.animationSpeed)) : (openWSE.AlertWindow("There was an error retrieving the help pages. Please try again."), oa()) } }) : (V(), $("#help_main_holder").fadeIn(openWSE_Config.animationSpeed)) } function Y(e, a) { var t = "<span class='pad-left'>Welecome to " + openWSE_Config.siteName + "</span>"; a || (t = "<span class='pad-left'>" + openWSE_Config.siteName + " Help Pages</span>"); var o = ""; a || (o += "<input type='button' class='input-buttons-create float-right' onclick='openWSE.HelpOverlay(false, " + yi + ")' value='Close' />"), Vo > e + 1 ? o += "<input type='button' class='input-buttons-create float-right margin-left' onclick='openWSE.HelpMenuPageLoad(" + (e + 1).toString() + "," + a + ")' value='Next' />" : e + 1 == Vo && a && (o += "<input type='button' class='input-buttons-create float-right margin-left' onclick='openWSE.NewUserPageLoad()' value='Next' />"), e > 0 && (o += "<input type='button' class='input-buttons-create float-right margin-left' onclick='openWSE.HelpMenuPageLoad(" + (e - 1).toString() + "," + a + ")' value='Back' />"), $("#helpmenu_title").html("<div class='help-Title-Top'>" + t + o + "</div>"), e += 1; var i = document.location.href; i = i.substring(i.lastIndexOf("/") + 1), i = i.replace(i.substring(i.indexOf(".")), ""), b("Loading..."), $("#helpdiv_pageholder").load(openWSE.siteRoot() + "HelpPages/" + i + "/HelpPage" + e + ".html", function () { y(), $(".help-images-workspace-img").each(function () { if (!$(this).hasClass("ignoreSrc")) { var e = $(this).attr("src"); $(this).attr("src", openWSE.siteRoot() + "HelpPages/" + i + "/images/" + e) } }) }) } function V() { var e = "<span class='pad-left'>" + openWSE_Config.siteName + " Help Pages</span>", a = "<input type='button' class='input-buttons-create float-right' onclick='openWSE.HelpOverlay(false, " + yi + ")' value='Close' />"; $("#helpmenu_title").html("<div class='help-Title-Top'>" + e + a + "</div>"), $("#helpdiv_pageholder").html(ia()) } function K() { var e = "<span class='pad-left'>Welecome to " + openWSE_Config.siteName + "</span>", a = ""; a += "<input id='btnFinish' type='button' class='input-buttons-create float-right display-none' onclick='openWSE.NewUserfinsh()' value='Finish' />", Vo > 0 && (a += "<input type='button' class='input-buttons-create float-right margin-left' onclick='openWSE.HelpMenuPageLoad(" + (Vo - 1).toString() + ",true)' value='Back' />"), $("#helpmenu_title").html("<div class='help-Title-Top'>" + e + a + "</div>"), $("#helpdiv_pageholder").html("<div style='position: absolute; top: 50%; left: 50%; margin-left: -95px; margin-top: -45px; padding: 20px;'><div class='loading-icon-lrg margin-top-sml'></div><h3 style='color: #FFF; float: left; font-weight: bold;'>Loading Step....</h3></div>"), b("Loading..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/CheckForEmailAddress", data: "", type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { wi = openWSE.ConvertBitToBoolean(e.d[0]), yi = openWSE.ConvertBitToBoolean(e.d[1]); var a = ""; a = wi || yi ? X() : aa(), $("#helpdiv_pageholder").html(a), setTimeout(function () { vi ? $("#tb_emailaddress_update").focus() : $i && $("#tb_newpassword_update").focus() }, 500), y() } }) } function Q() { var e = $.trim($("#tb_emailaddress_update").val()); "" != e && (b("Updating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/AddEmailAddress", data: '{"email": "' + escape(e) + '"}', type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && (wi = !1, $("#update-email-helpdiv").remove()), 0 == $("#update-password-helpdiv").length && K(), y() } })) } function J() { var e = $.trim($("#tb_newpassword_update").val()), a = $.trim($("#tb_confirmnewpassword_update").val()); $("#span_passwordmismatch").html(""), "" == e ? $("#span_newpassword_update").show() : $("#span_newpassword_update").hide(), "" == a ? $("#span_confirmnewpassword_update").show() : $("#span_confirmnewpassword_update").hide(), e == a && "" != e && "" != a ? e.length < openWSE_Config.minPasswordLength ? $("#span_passwordmismatch").html("Password does not meet requirements.") : (b("Updating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/UpdateAdminPassword", data: '{"password1": "' + escape(e) + '"}', type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && (yi = !1, $("#update-password-helpdiv").remove()), 0 == $("#update-email-helpdiv").length && K(), y() } })) : "" != e && "" != a && $("#span_passwordmismatch").html("Passwords do not match.") } function X() { var e = ""; return wi ? (vi = !0, $i = !1, e += "<div id='update-email-helpdiv' class='pad-all' align='center'>", e += "<h3>Before you can continue, you must provide a valid email address.<br />This email address will be used for notifications and password recovery.<br />If you fail to provide a valid email address, you will not be able to use the password recovery feature on the login page.</h3>", e += "<div class='clear-space'></div>", e += "<div class='clear-space'></div>", e += "<h3>Please provide a valid email address</h3>", e += "<div class='clear-space'></div>", e += "<span class='pad-right font-bold'>Email Address</span><input type='text' id='tb_emailaddress_update' onkeypress='openWSE.OnEmailUpdate_KeyPress(event)' class='textEntry margin-right' style='width: 200px;' />", e += "<input type='button' class='input-buttons' onclick='openWSE.UpdateEmail()' value='Update' />", e += "<div class='clear-space'></div>", e += "<div class='clear-space'></div>", e += "<div class='clear-space'></div>", e += "</div>") : yi && (vi = !1, $i = !0, e += "<div id='update-password-helpdiv' class='pad-all' align='center'>", e += "<h3>You are currently signed in as Administrator. Create a new password for your Administrator account.</h3>", e += "<div class='clear-space-two'></div><small><b class='pad-right-sml'>Note:</b>Password must be at least " + openWSE_Config.minPasswordLength + " characters long.</small>", e += "<div class='clear-space'></div><table border='0' cellpadding='0' cellspacing='0'>", e += "<tr><td align='right'><span class='pad-right font-bold'>New Password:</span></td>", e += "<td align='left'><input type='password' id='tb_newpassword_update' onkeypress='openWSE.OnPasswordUpdate_KeyPress(event)' class='textEntry margin-right' style='width: 200px;' /><span id='span_newpassword_update' style='display: none; color: Red;'>*</span></td></tr>", e += "<tr><td></td><td><div class='clear-space'></div></td></tr>", e += "<tr><td align='right'><span class='pad-right font-bold'>Confirm New Password:</span></td>", e += "<td align='left'><input type='password' id='tb_confirmnewpassword_update' onkeypress='openWSE.OnPasswordUpdate_KeyPress(event)' class='textEntry margin-right' style='width: 200px;' /><span id='span_confirmnewpassword_update' style='display: none; color: Red;'>*</span></td></tr></table>", e += "<div class='clear-space'></div>", e += "<input type='button' class='input-buttons no-margin' onclick='openWSE.UpdateAdminPassword()' value='Change Password' />", e += "<div class='clear-space'></div>", e += "<span id='span_passwordmismatch' style='color: Red;'></div>", e += "</div>"), e } function Z(e) { (13 == e.which || 13 == e.keyCode) && (openWSE.UpdateEmail(), e.preventDefault()) } function ea(e) { (13 == e.which || 13 == e.keyCode) && (openWSE.UpdateAdminPassword(), e.preventDefault()) } function aa() { var e = ""; return ki ? e = ia() : (e = "<div class='pad-all' align='center'>", e += "<h3>You are now setup. Please click finish to load your workspace. You can change your email address within your 'Account Settings' page. If you need help in the future, click on the help icon at the bottom left hand corner of the workspace.</h3>", e += "<h3>By using this site you agree that OpenWSE can save cookies to your device. These cookies contain no information regarding your personal information.</h3>", e += "<div class='clear-space'></div>", e += "<a href='#' onclick='openWSE.HelpIntroRestart();return false;'>Go back to the Intro Pages</a>", e += "<div class='clear-space'></div>", e += "</div>", $("#btnFinish").removeClass("display-none")), e } function ta() { $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/UpdateAcctNewMember", data: "", type: "POST", contentType: "application/json; charset=utf-8", success: function (e) { var a = e.d; openWSE.ConvertBitToBoolean(a) && (window.location = openWSE.siteRoot() + "Workspace.aspx") } }) } function oa() { bi = !1, yi = !1, "block" == $("#help_main_holder").css("display") && $("#help_main_holder").fadeOut(openWSE_Config.animationSpeed, function () { $("#helpmenu_title, #helpdiv_1, #helpdiv_2").html("") }); try { var e = window.location.href; if (-1 != e.indexOf("?help")) { var a = e.split("?help"); if (a.length > 1) { var t = "?help" + a[1]; e = e.replace(t, ""), window.location = e } else e = e.replace("?help", ""); window.location = e } else if (-1 != e.indexOf("&help")) { var a = e.split("&help"); if (a.length > 1) { var t = "&help" + a[1]; e = e.replace(t, "") } else e = e.replace("&help", ""); window.location = e } } catch (o) { } } function ia() {
        var e = ""; switch (bi ? (e += "<input type='button' class='input-buttons float-right' value='Next' onclick='openWSE.HelpIntroNext();' style='margin-top:-20px; margin-right: 7%;' />", e += Ci > 0 ? "<input type='button' class='input-buttons float-left' value='Back' onclick='openWSE.HelpIntroBack();' style='margin-top:-20px; margin-left: 7%;' />" : "<input type='button' class='input-buttons float-left' value='Back' onclick='openWSE.HelpIntroBack();' style='margin-top:-20px; margin-left: 7%; visibility: hidden;' />") : (e += Ci > 3 ? "<input type='button' class='input-buttons float-right' value='Next' onclick='openWSE.HelpIntroNext();' style='margin-top:-20px; margin-right: 7%; visibility: hidden;' />" : "<input type='button' class='input-buttons float-right' value='Next' onclick='openWSE.HelpIntroNext();' style='margin-top:-20px; margin-right: 7%;' />", e += Ci > 0 ? "<input type='button' class='input-buttons float-left' value='Back' onclick='openWSE.HelpIntroBack();' style='margin-top:-20px; margin-left: 7%;' />" : "<input type='button' class='input-buttons float-left' value='Back' onclick='openWSE.HelpIntroBack();' style='margin-top:-20px; margin-left: 7%; visibility: hidden;' />"), Ci) {
            case 0: e += "<span class='intro-title'>Workspace App List</span>", e += "<div class='clear-space'></div>", e += "<div class='workspace-intro'>", e += "<img alt='workspace' src='" + So() + "Standard_Images/NewUserIntro/Workspace/workspace.png' />", e += "<div class='help-intro-overlay'>", e += "<div class='help-intro-circle' style='top: 7%; left: 0px; height: 62%; width: 9%; background-image: url(\"" + So() + "Standard_Images/NewUserIntro/Workspace/app-selector.png\");'></div>", e += "<div class='help-intro-text' style='top: 10%; left: 15%;'><ul>", e += "<li>All your available apps will open in the workspace portion of the page (where your custom background appears).</li>", e += "<li>You can load as many apps as you want and move them anywhere you like. The site will record the position and save it to the database where it can retrieve it on page loads.</li>", e += "<li>If you are logged into a group, you only see the apps availble to that group. Once you log out of that group, all your apps will appear again.</li>", e += "<li>If you have more than 1 total workspaces, When hovering over an app, you will see a box to the right that you can select. This will bring up a dropdown that will allow you to pick which workspace to load that app on.</li>", e += "</ul></div>", e += "</div>", e += "</div>";
                break; case 1: e += "<span class='intro-title'>Workspace Controls</span>", e += "<div class='clear-space'></div>", e += "<div class='workspace-intro'>", e += "<img alt='workspace' src='" + So() + "Standard_Images/NewUserIntro/Workspace/workspace.png' />", e += "<div class='help-intro-overlay'>", e += "<div class='help-intro-circle' style='top: 0%; left: 0px; height: 18%; width: 5%; background-image: url(\"" + So() + "Standard_Images/NewUserIntro/Workspace/workspace-selector.png\");'></div>", e += "<div class='help-intro-circle' style='top: 0%; right: 0px; height: 47%; width: 27.5%; background-image: url(\"" + So() + "Standard_Images/NewUserIntro/Workspace/top-right-btns.png\");'></div>", e += "<div class='help-intro-text' style='top: 5%; left: 14%; width: 25%;'>You can select the workspace you want to work on. Apps can be placed in each workspace anyway you want.</div>", e += "<div class='help-intro-text' style='top: 5%; right: 30%; width: 15%;'>The top buttons to the left will show you different features such as:<br /><ul class='pad-left-big'><li>Group Login</li><li>Login/Logout</li><li>Overlay View</li><li>Notifications</li><li>Search</li></ul></div>", e += "</div>", e += "</div>"; break; case 2: e += "<span class='intro-title'>Workspace Opened App</span>", e += "<div class='clear-space'></div>", e += "<div class='workspace-intro'>", e += "<img alt='workspace' src='" + So() + "Standard_Images/NewUserIntro/Workspace/workspace.png' />", e += "<div class='help-intro-overlay'>", e += "<div class='help-intro-circle' style='top: 7%; left: 0px; height: 62%; width: 9%; background-image: url(\"" + So() + "Standard_Images/NewUserIntro/Workspace/app-selector-with-openapp.png\");'></div>", e += "<div class='help-intro-circle' style='top: 7%; left: 15%; height: 63%; width: 51%; background-image: url(\"" + So() + "Standard_Images/NewUserIntro/Workspace/app.png\");'></div>", e += "<div class='help-intro-text' style='bottom: 5%; left: 15%;'><ul>", e += "<li>All apps are configurable to your liking. Each app will also come with option buttons, which can be found at the top right of the app header (If App Style is Style 2)</li>", e += "<li>Moving, resizing, minimizing, maximizing, and closing will be saved to your profile. This way each time you login, these settings will be applied to make it look and feel like you never left.</li>", e += "</ul></div>", e += "</div>", e += "</div>"; break; case 3: e += "<span class='intro-title'>App Options</span>", e += "<div class='clear-space'></div>", e += "<div class='workspace-intro'>", e += "<img alt='workspace' src='" + So() + "Standard_Images/NewUserIntro/Workspace/workspace.png' />", e += "<div class='help-intro-overlay'>", e += "<div class='help-intro-no-circle' style='top: 7%; left: 0px; height: 62%; width: 9%; background-image: url(\"" + So() + "Standard_Images/NewUserIntro/Workspace/app-selector-with-openapp.png\");'><div class='help-intro-overlay'></div></div>", e += "<div class='help-intro-no-circle' style='top: 7%; left: 15%; height: 63%; width: 51%; background-image: url(\"" + So() + "Standard_Images/NewUserIntro/Workspace/app.png\");'><div class='help-intro-overlay'></div></div>", e += "<div class='help-intro-circle' style='top: 6%; left: 46%; height: 19%; width: 20%; background-image: url(\"" + So() + "Standard_Images/NewUserIntro/Workspace/app-options.png\");'></div>", e += "<div class='help-intro-text' style='bottom: 5%; left: 15%;'><ul>", e += "<li>Each app will have the options menu at the top right of app header bar.</li>", e += "<li>You will have up to 4 options to choose from: Refresh, Pop app out, About, and Move to Workspace Number.</li>", e += "</ul></div>", e += "</div>", e += "</div>"; break; case 4: e += "<span class='intro-title'>Minimized App</span>", e += "<div class='clear-space'></div>", e += "<div class='workspace-intro'>", e += "<img alt='workspace' src='" + So() + "Standard_Images/NewUserIntro/Workspace/workspace.png' />", e += "<div class='help-intro-overlay'>", e += "<div class='help-intro-no-circle' style='top: 7%; left: 0px; height: 62%; width: 9%; background-image: url(\"" + So() + "Standard_Images/NewUserIntro/Workspace/app-selector-with-openapp.png\");'><div class='help-intro-overlay'></div></div>", e += "<div class='help-intro-circle' style='top: 0; left: 7%; height: 1%; width: 3%; background-image: url(\"" + So() + "Standard_Images/NewUserIntro/Workspace/app-minimized.png\");'></div>", e += "<div class='help-intro-text' style='top: 10%; left: 15%;'><ul>", e += "<li>When apps are minimized, they will be moved completely off the screen.</li>", e += "<li>If you hover over the minimized app, a preview will be shown with the exact place the app was before being minimized. (Only if option is on in settings)</li>", e += "<li>You can close out of the app by clicking on the 'x' to the right of the minimized button.</li>", e += "<li>To restore the app, simply click on the minimized button at the top. You can also click on the app icon under your Available Apps.</li>", e += "</ul></div>", e += "</div>", e += "</div>"; break; default: bi && (ki = !1, K())
        } return e
    } function na() { Ci = 0, ki = !0, K() } function sa() { Ci++, bi ? K() : $("#helpdiv_pageholder").html(ia()) } function la() { Ci--, 0 > Ci && (Ci = 0), bi ? K() : $("#helpdiv_pageholder").html(ia()) } function pa(e) { $(window).load(function () { var a = unescape(e), t = "<div id='OpenWSEUpdates-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='550'>", t += "<div class='ModalHeader'><div><span class='Modal-title'></span></div></div>", t += "<div class='ModalScrollContent'><div class='ModalPadContent'>" + a + "</div></div>", t += "</div></div></div></div></div>", $("body").append(t), openWSE.LoadModalWindow(!0, "OpenWSEUpdates-element", "Site Updates") }) } function da(e) { $(window).load(function () { var a = unescape(e), t = "<div id='Activation-element' class='Modal-element' style='display: none;'>"; t += "<div class='Modal-overlay'>", t += "<div class='Modal-element-align'>", t += "<div class='Modal-element-modal' data-setwidth='500'>", t += "<div class='ModalHeader'><div><span class='Modal-title'></span></div></div>"; var o = "<img alt='' class='float-left pad-right-sml' src='" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/App/approve.png' style='height: 17px;' />", i = "<span style='font-size: 15px'>Got it</span>", n = "<a href='" + openWSE.siteRoot() + "Workspace.aspx' class='input-buttons no-margin' style='text-decoration: none!important;'>" + o + " " + i + "</a>"; t += "<div class='ModalScrollContent'><div class='ModalPadContent'>" + a + "<div class='clear-space'></div><div align='center'>" + n + "</div>", t += "</div></div></div></div></div></div></div>", $("body").append(t), openWSE.LoadModalWindow(!0, "Activation-element", "Activation") }) } function ra() { $("#OpenWSEUpdates-element").remove() } function ca(e) { b("Closing Overlay..."); var a = $(e).closest(".workspace-overlay-selector"); 0 == a.length && (a = $("." + e)), a.remove(), $.ajax({ url: Jo + "/Overlay_Disable", type: "POST", data: '{ "classes": "' + a.attr("class") + '" }', contentType: "application/json; charset=utf-8", success: function (e) { ua(e.d), y() }, error: function () { y() } }) } function ha(e) { for (var a = e.split(","), t = "#" + openWSE_Config.overlayPanelId, o = 0; o < a.length; o++) "" != a[o] && ($(t).find("." + a[o]).length > 0 && $(t).find("." + a[o]).remove(), $(t).hide().prepend($(".move-holder").find("." + a[o])).show()); "" != e && va() } function ua(e) { var a = $("." + e); a.length > 0 && a.remove(), va() } function fa() { b("Loading..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/GetUserOverlays", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (e) { var a = ""; if (null != e.d) { a += "<div class='add-rss-list-header'>Available Overlays</div>"; for (var t = 0; t < e.d.length; t++) { var o = "Add Overlay", i = ""; openWSE.ConvertBitToBoolean(e.d[t][3]) && (o = "Remove Overlay", i = "add-rss-list-item-hasitem"); var n = "<table width='100%'><tr><td style='width: 170px;'><div class='pad-right-big'>" + e.d[t][0] + "</div></td><td align='left'>" + e.d[t][2] + "</td></tr></table>"; a += "<div class='add-rss-list-item " + i + "' title='" + o + "' onclick=\"openWSE.AddRemoveOverlayClick('" + e.d[t][1] + "', this);\">" + n + "</div>" } 0 == e.d.length && (a += "<div class='emptyGridView'>No overlays available</div>") } $("#overlayEdit-element").find("#overlay-edit-list").html(a), y(), N(!0, "overlayEdit-element", "Add/Remove Overlay") }, error: function () { y(), openWSE.AlertWindow("There was an error retrieving your overlays. Please try again.") } }) } function ma(e, a) { $(a).hasClass("add-rss-list-item-hasitem") ? (ca(e), $(a).removeClass("add-rss-list-item-hasitem")) : (b("Adding Overlay..."), $(a).addClass("add-rss-list-item-hasitem"), $("#hf_loadOverlay1").val(e), __doPostBack("hf_loadOverlay1", "")) } function ga() { $(".overlay-table").length > 0 && $(".overlay-table").remove(); var e = $("#" + openWSE_Config.overlayPanelId); if (e.length > 0) { var a = 0; $(".workspace-overlay-selector").each(function (t) { t % Si == 0 && (a++, e.append("<table id='overlay-table-id-" + a + "' class='overlay-table' cellpadding='0' cellspacing='0'></table>"), $("#overlay-table-id-" + a).append("<tr></tr>")); var o = $("#overlay-table-id-" + a).find("tr").eq(0); o.append("<td class='overlay-cell-" + t + "'></td>"), $("#overlay-table-id-" + a).find(".overlay-cell-" + t).append($(this)) }), "pnl_OverlaysAll" != openWSE_Config.overlayPanelId && 0 != $("#MainContent_pnl_adminnote").length && (e.prepend($("#MainContent_pnl_adminnote")), $("#MainContent_pnl_adminnote").removeClass("administrator-workspace-note").addClass("workspace-overlays administrator-workspace-note-overlay")) } } function va() { $(".workspace-overlay-selector").each(function () { $("#" + openWSE_Config.overlayPanelId).append($(this)) }), ga() } function $a(e) { if (!openWSE_Config.demoMode && $("#notification-tab-b").is(":visible") && !Fo) { Fo = !0, 0 == $(".ddLoadingMessage").length && e && $(".table-notiMessages-div").prepend(qo); var a = new Array; $("#table_NotiMessages tr").each(function (e) { a[e] = $(this).attr("id") }); var t = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/LoadUserNotifications"; $.ajax({ url: t, type: "POST", data: '{ "_currIds": "' + a + '","siteTheme": "' + openWSE_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $(".ddLoadingMessage").remove(), null != e.d && "" != e.d ? ($("#NotificationHolder").html($.trim(e.d)), $("#no-notifications-id").length > 0 ? $("#lb_clearNoti").hide() : $("#lb_clearNoti").show()) : $("#lb_clearNoti").hide(), Fo = !1, Wa(), xa(), ba() }, error: function () { $(".ddLoadingMessage").remove(), xa(), $("#NotificationHolder").html("<h3 class='pad-top-big pad-bottom' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), $("#lb_clearNoti").hide(), Fo = !1 } }) } } function ba() { var e = document.getElementById("table-notiMessages-div-id"); if (null != e) { var a = $("#table-notiMessages-div-id").innerHeight(), t = parseInt($("#table-notiMessages-div-id").css("max-height")); if (a >= e.scrollHeight || e.scrollHeight < t) { var o = parseInt($("#lbl_notifications").find("span").html()), i = parseInt($("#table_NotiMessages tr").length); o > i && ($(".ddLoadingMessage").remove(), $("#NotificationHolder").append(qo), wa()) } } } function wa() { if (!openWSE_Config.demoMode && $("#notification-tab-b").is(":visible") && !Do && !Fo) { Do = !0; var e = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/LoadMoreUserNotifications", a = new Array; $("#table_NotiMessages tr").each(function (e) { a[e] = $(this).attr("id") }), $.ajax({ url: e, type: "POST", data: '{ "_currIds": "' + a + '","_currCount": "' + parseInt($("#table_NotiMessages tr").length) + '","siteTheme": "' + openWSE_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $(".ddLoadingMessage").remove(), null != e.d && "" != e.d && $("#table_NotiMessages").append($.trim(e.d)), Wa(), xa(), Do = !1, ba() }, error: function () { $(".ddLoadingMessage").remove(), xa(), $("#NotificationHolder").append("<h3 class='pad-bottom-big' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), Do = !1 } }) } } function ya() { if (!openWSE_Config.demoMode && $("#notification-tab-b").is(":visible") && !Do) { Do = !0; var e = new Array; $("#table_NotiMessages tr").each(function (a) { e[a] = $(this).attr("id") }); var a = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/RefreshUserNotifications"; $.ajax({ url: a, type: "POST", data: '{ "_currIds": "' + e + '","siteTheme": "' + openWSE_Config.siteTheme + '" }', contentType: "application/json; charset=utf-8", success: function (e) { if ($(".ddLoadingMessage").remove(), null != e.d[0] && "" != e.d[0]) if ($("#table_NotiMessages").length > 0) $("#table_NotiMessages").prepend($.trim(e.d[0])); else { var a = "<table ID='table_NotiMessages' class='table-notiMessages' cellpadding='5' cellspacing='5'>"; a += $.trim(e.d[0]) + "</table>", $("#NotificationHolder").html(a) } if (null != e.d[1]) for (var t = 0; t < e.d[1].length; t++) { var o = e.d[1][t]; $("#" + o).fadeOut(openWSE_Config.animationSpeed, function () { $("#" + o).remove() }) } "0" == $("#lbl_notifications").find("span").html() && ($("#NotificationHolder").html("<h3 id='no-notifications-id'>No notifications available.</h3>"), $("#lb_clearNoti").hide()), Wa(), xa(), Do = !1 }, error: function () { $(".ddLoadingMessage").remove(), xa(), $("#NotificationHolder").html("<h3 class='pad-top-big pad-bottom-big' style='color: Red; text-align: center;'>Error retrieving notifications!</h3>"), Do = !1 } }) } } function ka() { $(".ddLoadingMessage").remove(), $("#NotificationHolder").html(""), $("#lb_clearNoti").hide(), Fo = !1 } function Ca() { $(".ddLoadingMessage").remove(), $("#lbl_notifications").removeClass("notifications-new"), $("#lbl_notifications").addClass("notifications-none"), $("#lbl_notifications").html("<span>0</span>"), $("#NotificationHolder").html("<h3 id='no-notifications-id'>No notifications available.</h3>"), $("#lb_clearNoti").hide() } function Sa() { if (!openWSE_Config.demoMode) { b("Clearing Notifications..."); var e = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/DeleteNotifications"; $.ajax({ url: e, type: "POST", data: '{ "id": "ClearAll" }', contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && (y(), Ca(), m()) } }) } } function _a(e) { if (!openWSE_Config.demoMode) { b("Deleting. Please Wait..."); var a = $(e).closest("tr"), t = a.attr("id"), o = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/DeleteNotifications"; $.ajax({ url: o, type: "POST", data: '{ "id": "' + t + '" }', contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && a.fadeOut(openWSE_Config.animationSpeed, function () { if (y(), a.remove(), "1" == $("#lbl_notifications").find("span").html()) Ca(); else { var e = parseInt($("#lbl_notifications").find("span").html()); e -= 1, $("#lbl_notifications").html("<span>" + e + "</span>") } }) } }) } } function Wa() { if ($("#notification-tab-b").is(":visible")) { var e = 65, a = $(window).height() - (e + pi), t = 7, o = $(window).width() - t; $(".table-notiMessages-div").css({ maxHeight: a, maxWidth: o }), ba() } } function xa() { $(".table-notiMessages-div").scroll(function () { var e = document.getElementById("table-notiMessages-div-id"); if (null != e) { var a = $(".table-notiMessages-div"), t = a.scrollTop(), o = a.innerHeight(); if (t > 0 && t + o >= e.scrollHeight) { var i = parseInt($("#lbl_notifications").find("span").html()), n = parseInt($("#table_NotiMessages tr").length); i > n && ($(".ddLoadingMessage").remove(), $("#NotificationHolder").append(qo), wa()) } } }) } function Ea() { try { var e = document.getElementById("hf_noti_update_hiddenField").value; "" == e && (e = "0"), openWSE.ConvertBitToBoolean(e) && ($("#noti-update-element").show(), setTimeout(function () { $("#noti-update-element").fadeOut(openWSE_Config.animationSpeed, function () { $("#hf_noti_update_hiddenField").val("false") }) }, 2500)) } catch (a) { } } function Ma() { "none" != $("#Login-holder").css("display") ? ($("#Login-holder").hide(), $("#iframe-createaccount-holder").html("<iframe id='iframe-demo' src='" + So() + "SiteTools/iframes/CreateAccount.aspx' frameborder='0' width='315px' style='visibility: hidden;'></iframe>"), $("#iframe-createaccount-holder").append("<div style='text-align: center;'><h3 id='loadingControls'>Loading Controls. Please Wait...</h3></div>"), $("#CreateAccount-holder").fadeIn(openWSE_Config.animationSpeed), $("#iframe-demo").load(function () { $("#loadingControls").remove(), $("#register_password_cancel").show(), $("#iframe-demo").css({ height: "475px", visibility: "visible" }) })) : ($("#CreateAccount-holder, #ForgotPassword-holder, #register_password_cancel").hide(), $("#iframe-createaccount-holder").html(""), $("#Login-holder").fadeIn(openWSE_Config.animationSpeed)) } function Aa() { $("#tb_username_recovery").val(""), $("#lbl_passwordResetMessage").html(""), $("#UserNameRequired_recovery").css("visibility", "hidden"), $("#Login-holder").hide(), $("#register_password_cancel").show(), $("#ForgotPassword-holder").fadeIn(openWSE_Config.animationSpeed) } function Ta() { var e = $.trim($("#tb_weather_postalCode").val()); "" != e && (cookie.set("weather_postal", e, "30"), Ia(openWSE_Config.siteTheme)) } function Ia(e) { var a = "66212", t = cookie.get("weather_postal"); "" == $.trim(t) || null == t || void 0 == t ? (a = $.trim($("#tb_weather_postalCode").val()), cookie.set("weather_postal", a, "30")) : a = t, "" == a && (a = "66212"), "" != e && (openWSE_Config.siteTheme = e); var o = "//builder.zoomradar.net/weather_builder/widget.page.php?s=250x250&z=" + a + "&i=1&c=5&ft=Current%20Weather", i = '<iframe src="' + o + '" width="250" height="250" style="border: 0; opacity: 0.85; filter:alpha(opacity=85);" frameborder="0"></iframe>', a = "<span>Postal Code:</span><input id='tb_weather_postalCode' type='text' class='textEntry margin-left margin-right' maxlength='10' value='" + a + "' style='width: 60px;' />", n = "<a href='#' onclick='openWSE.SetPostalCode();return false;' class='img-refresh-alt pad-all-sml margin-right-big margin-bottom-sml float-right' title='Refresh weather'></a>"; $("#Weather_Overlay_Position").html(i + "<div class='clear-space-two'></div><div id='weather-button-holder' class='overlay-header' style='height: 25px;'>" + n + a + "</div>") } function Ba(e, a) { if ($("#iframe-container-helper").length > 0) Pa(), setTimeout(function () { Ba(e, a) }, openWSE_Config.animationSpeed); else { var t = "", o = window.location.hash; t = -1 == o.indexOf("#") && "#" != window.location.href.charAt(window.location.href.length - 1) ? "#?" : "" != o ? "&" : "?", t += "iframecontent=" + e, window.location += t } } function Oa(e, a) { if ($("#iframe-container-helper").length > 0) Pa(), setTimeout(function () { Oa(e, a) }, openWSE_Config.animationSpeed); else { var t = $(window).height() - ($("#always-visible").height() + $("#container-footer").height()); Ra(e) || (e = openWSE.siteRoot() + e); var i = "<iframe id='iframe-content-src' src='" + e + "' width='100%' frameborder='0' style='height: " + t + "px;'></iframe>", n = "<div id='iframe-container-helper'>" + i + "<div class='loading-background-holder'></div></div>", s = "<div id='iframe-container-close-btn'><a href='#' onclick='openWSE.CloseIFrameContent();return false;'>Close " + a + "</a></div>"; $("#workspace-selector").hide(), $("#top-main-bar-top").append(s), $("body").append(n), $("#container").hide(), $("#minimized-app-bar").hide(), $("#iframe-container-helper").fadeIn(openWSE_Config.animationSpeed), document.getElementById("iframe-content-src").onload = function () { $(document).ready(function () { setTimeout(function () { $("#iframe-container-helper").find(".loading-background-holder").remove() }, 150) }) }, $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), cookie.del("top_menu"), "none" == $("#always-visible").css("display") && $("#always-visible").show(), o(!0) } } function Pa() { "none" == $("#always-visible").find(".top-options").css("display") && $("#always-visible").hide(), $("#container").show(), $("#iframe-container-helper").html(""), $("#iframe-container-helper").fadeOut(openWSE_Config.animationSpeed, function () { $("#iframe-container-helper").remove(), $("#iframe-container-close-btn").remove(), $("#workspace-selector").show(), $("#minimized-app-bar").show(), o(!0) }); try { var e = window.location.href; if (-1 != e.indexOf("?iframecontent=")) { var a = e.split("?iframecontent="); if (a.length > 1) { var t = "?iframecontent=" + a[1]; e = e.replace(t, ""), window.location = e } } else if (-1 != e.indexOf("&iframecontent=")) { var a = e.split("&iframecontent="); if (a.length > 1) { var t = "&iframecontent=" + a[1]; e = e.replace(t, ""), window.location = e } } } catch (i) { } $(window).resize() } function Ra(e) { var a = e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/); return "string" == typeof a[1] && a[1].length > 0 && a[1].toLowerCase() !== location.protocol ? !0 : "string" == typeof a[2] && a[2].length > 0 && a[2].replace(new RegExp(":(" + { "http:": 80, "https:": 443 }[location.protocol] + ")?$"), "") !== location.host ? !0 : !1 } function za() { try { $("#background_selector_overlay").length > 0 && $("#background_selector_overlay").remove(), _i || ($("body").append("<script type='text/javascript' src='" + openWSE.siteRoot() + "WebControls/jscolor/jscolor.js'></script>"), _i = !0), b("Loading Backgrounds"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/GetServerImageList", type: "POST", data: '{ "_workspace": "' + Xa().replace("workspace_", "") + '", "folder": "' + Wi + '" }', contentType: "application/json; charset=utf-8", success: function (e) { if (6 == e.d.length) { $("#background-selector-holder").html(""); var a = "<div id='background-settings-div'>", t = "<div id='background-view-div' align='center' style='display: none;'>"; t += "<a href='#' class='float-left' onclick=\"openWSE.ViewBackgroundList();return false;\"><span class='pg-prev-btn float-left' style='padding: 0px; margin-right: 5px; margin-top: -1px;'></span>Go Back</a>", t += "<div class='clear-space'></div>", "" != e.d[0] && (a += "<a href='" + So() + "SiteTools/UserMaintenance/AcctSettings.aspx?tab=BackgroundEditor' class='float-right'>More Background Settings<span class='pg-next-btn float-right' style='padding: 0px; margin-left: 3px;'></span></a>", a += "<div class='clear-space-two'></div>"), a += "<div class='table-settings-box' style='margin-top: 0px !important;'>", a += "<div class='td-settings-title'>Workspace Background</div>", a += "<div class='title-line'></div>", a += "<div class='td-settings-ctrl'>", a += "<input id='tb_solidColorBg' type='text' class='textEntry float-left margin-right color' style='width: 75px;' />", a += "<input id='btn_urlbgcolor' type='button' value='Add Color' class='input-buttons float-left' onclick='openWSE.updateBackgroundColor()' />", a += "<div class='clear' style='height: 20px;'></div>", a += "<input id='tb_imageurl' type='text' value='Link to image' class='textEntry' onfocus=\"if(this.value=='Link to image')this.value=''\" onblur=\"if(this.value=='')this.value='Link to image'\" value='Link to image' style='width:355px;'>", a += "<input id='btn_urlupdate' type='button' value='Add Url' class='input-buttons margin-left' onclick='openWSE.updateBackgroundURL()' />", a += "<div class='pad-top pad-bottom'><small>Copy and paste any link that contains an image.</small></div>", "" != e.d[0] ? (a += "<div class='clear' style='height: 20px;'></div>", a += "<iframe src='" + e.d[0] + "' frameborder='0' style='width: 100%; height: 70px; overflow: hidden;'></iframe>", t += "<small class='float-right'>Click on the background that you would like to apply to your workspace.</small>", t += "<div class='float-left'><span class='font-bold pad-right'>Folder</span><select id='dd_userimagefolder' onchange='openWSE.ChangeImageFolder();'><option value='user'>User Uploads</options><option value='public'>Public</option></select></div>", t += "<div class='clear-space'></div>") : Wi = "public", a += "<div class='clear' style='height: 20px;'></div>", a += "<a href='#' onclick=\"openWSE.ViewBackgroundList();return false;\" class='input-buttons' style='padding-right: 15px!important;'><span class='img-background float-left pad-right'></span>Select a Background</a>", a += "<a href='#' class='float-right' onclick='openWSE.ClearBackground();return false;'>Clear All Backgrounds</a>", a += "</div>", a += "<div class='td-settings-desc'>Your connection speed will slow down with the larger images. Each image has the size details when you hover over them. Solid color backgrounds will be the quickest if you have a slower internet connection.</div>", a += "</div>", t += "<div class='img-list-selector'>" + e.d[1] + "</div></div>", "" != e.d[2] && (a += "<div class='table-settings-box'>", a += "<div class='td-settings-title'>Background Position</div>", a += "<div class='title-line'></div>", a += "<div class='td-settings-ctrl'>", a += "<select class='background-setting-select' onchange=\"openWSE.UpdateBackgroundSetting(this);\" data-name='backgroundposition'>", a += "<option value='left top'>Left Top</option>", a += "<option value='left center'>Left Center</option>", a += "<option value='left bottom'>Left Bottom</option>", a += "<option value='right top'>Right Top</option>", a += "<option value='right center'>Right Center</option>", a += "<option value='right bottom'>Right Bottom</option>", a += "<option value='center top'>Center Top</option>", a += "<option value='center center'>Center Center</option>", a += "<option value='center bottom'>Center Bottom</option>", a += "</select>", a += "</div>", a += "<div class='td-settings-desc'>Select the position of the background. Applys for all workspaces and background images.</div>", a += "</div>"), "" != e.d[3] && (a += "<div class='table-settings-box'>", a += "<div class='td-settings-title'>Background Size</div>", a += "<div class='title-line'></div>", a += "<div class='td-settings-ctrl'>", a += "<select class='background-setting-select' onchange=\"openWSE.UpdateBackgroundSetting(this);\" data-name='backgroundsize'>", a += "<option value='auto'>Normal</option>", a += "<option value='100% 100%'>Stretch</option>", a += "<option value='cover'>Cover</option>", a += "<option value='contain'>Contain</option>", a += "</select>", a += "</div>", a += "<div class='td-settings-desc'>Select the size of the background. Applys for all workspaces and background images.</div>", a += "</div>"), "" != e.d[4] && (a += "<div class='table-settings-box'>", a += "<div class='td-settings-title'>Repeat Background</div>", a += "<div class='title-line'></div>", a += "<div class='td-settings-ctrl'>", a += "<select class='background-setting-select' onchange=\"openWSE.UpdateBackgroundSetting(this);\" data-name='backgroundrepeat'>", a += "<option value='1'>Yes</option>", a += "<option value='0'>No</option>", a += "</select>", a += "</div>", a += "<div class='td-settings-desc'>Turn on/off repeating the background image. Applys for all workspaces and background images.</div>", a += "</div>"), "" != e.d[5] && (a += "<div class='table-settings-box'>", a += "<div class='td-settings-title'>Default Background Color</div>", a += "<div class='title-line'></div>", a += "<div class='td-settings-ctrl'>", a += "<div class='float-left'><input id='tb_defaultbackgroundcolor' type='text' class='textEntry float-left margin-right color' style='width: 75px;' /></div>", a += "<input id='btn_defaultbackgroundcolor' type='button' value='Update' class='input-buttons float-left background-setting-color' onclick='openWSE.UpdateBackgroundSetting(this)' data-name='backgroundcolor' />", a += "<div class='clear'></div>", a += "</div>", a += "<div class='td-settings-desc'>Set the default background color. Applys for all workspaces and background images.</div>", a += "</div>"), a += "</div>", $("#background-selector-holder").html(a + t), "" != e.d[0] && $("#background-selector-holder").find("#dd_userimagefolder").val(Wi), "" != e.d[2] && $(".background-setting-select[data-name='backgroundposition']").val(e.d[2]), "" != e.d[3] && $(".background-setting-select[data-name='backgroundsize']").val(e.d[3]), "" != e.d[4] && $(".background-setting-select[data-name='backgroundrepeat']").val("true" == e.d[4] || "1" == e.d[4] ? "1" : "0"), "" != e.d[5] && $("#tb_defaultbackgroundcolor").val(e.d[5]), xi && ($("#background-settings-div").hide(), $("#background-view-div").show(), xi = !1); try { jscolor.init() } catch (o) { } N(!0, "BackgroundSelector-element", "Select a new background") } else k("There was an error pulling the backgrounds down from the server. Please try again.", window.location.href); y() } }) } catch (e) { y() } } function La() { b("Updating..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + Xa() + '","_img": "","folder": "' + Wi + '" }', contentType: "application/json; charset=utf-8", success: function (e) { var a = ""; 0 == $("#app_title_bg").length ? ($("#maincontent_overflow").css("background", ""), $("#maincontent_overflow").hasClass("maincontent_overflow-main-bg") || $("#maincontent_overflow").addClass("maincontent_overflow-main-bg"), a = "#maincontent_overflow") : $(".workspace-backgrounds-fixed").length > 0 ? ($("#MainContent_bg_" + Xa()).css("background", openWSE_Config.defaultBackgroundColor + " url('" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Body/default-bg.jpg') " + openWSE_Config.defaultBackgroundRepeat + " " + openWSE_Config.defaultBackgroundPosition), $("#MainContent_bg_" + Xa()).css("background-size", openWSE_Config.defaultBackgroundSize), a = "#MainContent_bg_" + Xa()) : ($("#app_title_bg").css("background", openWSE_Config.defaultBackgroundColor + " url('" + openWSE.siteRoot() + "App_Themes/" + openWSE_Config.siteTheme + "/Body/default-bg.jpg') " + openWSE_Config.defaultBackgroundRepeat + " " + openWSE_Config.defaultBackgroundPosition), $("#app_title_bg").css("background-size", openWSE_Config.defaultBackgroundSize), a = "#app_title_bg"), $("#tb_imageurl").val("Link to image"), $("#tb_solidColorBg").val("FFFFFF"), $("#tb_solidColorBg").attr("style", "width: 75px;"), 3 == e.d.length && 6 == e.d[2].length && $("#BackgroundSelector-element").find(".img-list-selector").html(e.d[2][1]); var t = Bo(a); -1 != t && clearInterval(Ri[t].obj), openWSE.RemoveUpdateModal(), Ga() } }) } function Na() { $("#background_selector_overlay").fadeOut(openWSE_Config.animationSpeed, function () { $("#background_selector_overlay").remove() }) } function Ua() { var e = $.trim($("#background-selector-holder").find("#tb_imageurl").val()); "" != e && Ha(e) } function ja() { var e = $("#background-selector-holder").find("#tb_solidColorBg").val(); 6 == e.length && Ha(e) } function Ha(e) { openWSE_Config.demoMode ? Fa(e, "30000") : (b("Saving Background"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + Xa().replace("workspace_", "") + '","_img": "' + e + '","folder": "' + Wi + '" }', contentType: "application/json; charset=utf-8", success: function (e) { $("#background-selector-holder").find("#tb_imageurl").val("Link to image"), $("#background-selector-holder").find("#tb_solidColorBg").val("FFFFFF"), 3 == e.d.length && (Fa(e.d[0], e.d[1]), 6 == e.d[2].length && $("#BackgroundSelector-element").find(".img-list-selector").html(e.d[2][1])), openWSE.RemoveUpdateModal(), Ga() } })) } function Fa(e, a) { for (var t = "", o = e, i = e.split("|"), n = new Array, s = 0; s < i.length; s++) "" != i[s] && n.push(i[s]); n.length > 0 && (e = n[n.length - 1]), e.length > 6 && -1 == e.indexOf("http") && -1 == e.indexOf("www.") && (e = So() + e), 0 == $("#app_title_bg").length && 0 == $(".workspace-backgrounds-fixed").length ? ($("#maincontent_overflow").hasClass("maincontent_overflow-main-bg") && $("#maincontent_overflow").removeClass("maincontent_overflow-main-bg"), e.length > 6 ? ($("#maincontent_overflow").css("background-image", "url('" + e + "')"), $("#maincontent_overflow").css("background-color", openWSE_Config.defaultBackgroundColor), $("#maincontent_overflow").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#maincontent_overflow").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#maincontent_overflow").css("background-size", openWSE_Config.defaultBackgroundSize)) : $("#maincontent_overflow").css("background", "#" + e), t = "#maincontent_overflow") : $(".workspace-backgrounds-fixed").length > 0 ? (e.length > 6 ? ($("#MainContent_bg_" + Xa()).css("background", openWSE_Config.defaultBackgroundColor + " url('" + e + "') " + openWSE_Config.defaultBackgroundRepeat + " " + openWSE_Config.defaultBackgroundPosition), $("#MainContent_bg_" + Xa()).css("background-size", openWSE_Config.defaultBackgroundSize)) : $("#MainContent_bg_" + Xa()).css("background", "#" + e), t = "#MainContent_bg_" + Xa()) : (e.length > 6 ? ($("#app_title_bg").css("background", openWSE_Config.defaultBackgroundColor + " url('" + e + "') " + openWSE_Config.defaultBackgroundRepeat + " " + openWSE_Config.defaultBackgroundPosition), $("#app_title_bg").css("background-size", openWSE_Config.defaultBackgroundSize)) : $("#app_title_bg").css("background", "#" + e), t = "#app_title_bg"), openWSE.BackgroundLoop(o, a, t) } function Da() { Wi = $("#background-selector-holder").find("#dd_userimagefolder").val(), xi = !0, za() } function Ga() { $("#hf_refreshbackgroundList").length > 0 && !openWSE_Config.demoMode && (b("Updating..."), $("#hf_refreshbackgroundList").val((new Date).toString()), __doPostBack("hf_refreshbackgroundList", "")) } function qa() {
        "none" == $("#background-view-div").css("display") ? ($("#background-settings-div").hide(), $("#background-view-div").show()) : ($("#background-view-div").hide(), $("#background-settings-div").show())
    } function Ya(e) { if ($(e).length > 0) { var a = $(e).attr("data-name"), t = $(e).val(); switch ($(e).hasClass("background-setting-color") && (t = $.trim($("#tb_defaultbackgroundcolor").val()), openWSE_Config.defaultBackgroundColor = "#" + t), a) { case "backgroundposition": openWSE_Config.defaultBackgroundPosition = t; break; case "backgroundsize": openWSE_Config.defaultBackgroundSize = t; break; case "backgroundrepeat": openWSE_Config.defaultBackgroundRepeat = "1" == t ? "repeat" : "no-repeat" } Va(), openWSE_Config.demoMode || $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveBackgroundSetting", type: "POST", data: '{ "name": "' + a + '","value": "' + t + '" }', contentType: "application/json; charset=utf-8", success: function () { Ga() } }) } } function Va() { if (0 == $("#app_title_bg").length && 0 == $(".workspace-backgrounds-fixed").length) $("#maincontent_overflow").css("background-color", openWSE_Config.defaultBackgroundColor), $("#maincontent_overflow").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#maincontent_overflow").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#maincontent_overflow").css("background-size", openWSE_Config.defaultBackgroundSize); else if ($(".workspace-backgrounds-fixed").length > 0) for (var e = 0; e < $(".workspace-holder").length; e++) $("#MainContent_bg_" + (e + 1)).css("background-color", openWSE_Config.defaultBackgroundColor), $("#MainContent_bg_" + (e + 1)).css("background-position", openWSE_Config.defaultBackgroundPosition), $("#MainContent_bg_" + (e + 1)).css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#MainContent_bg_" + (e + 1)).css("background-size", openWSE_Config.defaultBackgroundSize); else $("#app_title_bg").css("background-color", openWSE_Config.defaultBackgroundColor), $("#app_title_bg").css("background-position", openWSE_Config.defaultBackgroundPosition), $("#app_title_bg").css("background-repeat", openWSE_Config.defaultBackgroundRepeat), $("#app_title_bg").css("background-size", openWSE_Config.defaultBackgroundSize) } function Ka(e) { $(e).find(".app-main-holder").each(function () { var e = $(this).attr("data-appid"); 0 != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").length && "none" != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").css("display") && $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").hide() }) } function Qa(e) { $(e).find(".app-main-holder").each(function () { var e = $(this).attr("data-appid"); 0 != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").length && "none" == $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").css("display") && $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").show() }), $("#minimized-app-bar").fadeIn(openWSE_Config.animationSpeed) } function Ja(e) { et(e), id = "#MainContent_workspace_" + e, $t($(id)), $(id).css({ visibility: "visible", opacity: 1, filter: "alpha(opacity=100)" }), $("#workspace_holder .workspace-holder").each(function () { "visible" != $(this).css("visibility") && kt(this) }) } function Xa() { for (var e = $("#workspace_holder").find(".workspace-holder"), a = e.length, t = 0; a > t; t++) if ("visible" == e.eq(t).css("visibility")) { var o = e.eq(t).attr("id"); return "workspace_" + o.substring(o.lastIndexOf("_") + 1) } return "workspace_1" } function Za(e, a) { kt($(e)), Ct($(a)), openWSE_Config.taskBarShowAll || (Ka($(e)), Qa($(a))), $(e).css({ opacity: 0, filter: "alpha(opacity=0)" }), openWSE_Config.animationSpeed > 0 ? $(a).fadeTo(openWSE_Config.animationSpeed, 1) : $(a).css({ opacity: 1, filter: "alpha(opacity=100)" }), $t($(a)) } function et(e) { $("#ddl_WorkspaceSelector").find(".selected-workspace").html("Workspace " + e) } function at() { $("#ddl_WorkspaceSelector").removeClass("active"), $("#ddl_WorkspaceSelector").parent().removeClass("active"), $("#ddl_WorkspaceSelector").find(".dropdown-db-selector").hide() } function tt(e, a, t, o) { setTimeout(function () { a == t ? a = 1 : a++; var i = "#MainContent_workspace_" + a; et(a); var n = !1, s = !1; $("#workspace_holder .workspace-holder").each(function () { "visible" == $(this).css("visibility") && (openWSE_Config.taskBarShowAll || $("#minimized-app-bar").fadeOut(openWSE_Config.animationSpeed), $(this).fadeTo(openWSE_Config.animationSpeed, 0, function () { return n ? void 0 : (n = !0, kt(this), Ct($(i)), openWSE_Config.taskBarShowAll || (Ka(this), Qa($(i))), $(i).find(".app-main-holder").each(function () { o && ot(this) }), $t($(i)), $(i).fadeTo(openWSE_Config.animationSpeed, 1, function () { s || (s = !0) }), !1) })) }), tt(e, a, t, o) }, 1e3 * e) } function ot(e) { var a = ($(e).find(".app-title").text(), $(e)), t = a.attr("data-appid"); if ("block" == a.css("display")) if (bt($(".app-main-holder[data-appid='" + t + "']")), $(".app-main-holder").css("z-index", "1000"), a.css("z-index", "3000"), a.find(".iFrame-apps").length > 0) { var o = $get(t + " .iFrame-apps"); null != o.src && (o.src = o.src) } else $("#hf_ReloadApp").val(t), __doPostBack("hf_ReloadApp", "") } function it(e) { Ko = !0, e && (li = !0, Qo = !0), $("#updatePnl_AppList").sortable({ axis: "y", cancel: ".app-icon-category-list, #Category-Back, .app-popup", containment: "#updatePnl_AppList", opacity: .6, scrollSensitivity: 40, scrollSpeed: 40, start: function () { $(document).tooltip({ disabled: !0 }) }, stop: function () { var e = ""; $(".app-icon").each(function () { var a = $(this).attr("data-appid"); "" != a && -1 == e.indexOf(a) && (e += a + ",") }), li && $.ajax({ url: Jo + "/App_UpdateIcons", type: "POST", data: '{ "appList": "' + escape(e) + '" }', contentType: "application/json; charset=utf-8" }), $(document).tooltip({ disabled: !1 }) } }), $("#updatePnl_AppList").disableSelection() } function nt(e, a, t, o, i, n, s, l, p) { var d = $(".app-main-holder[data-appid='" + e + "']"); if (null != t && "" != t) { t = unescape(t), d.find(".app-title").text(a), openWSE.ConvertBitToBoolean(p) && (d.addClass("app-maximized"), d.find(".maximize-button-app").addClass("active")), "" != n && d.css("width", n), "" != s && d.css("height", s), openWSE.ConvertBitToBoolean(l) ? (st(d, a, o, i), kt(d)) : (d.css({ visibility: "visible", display: "block", zIndex: 3e3 }), openWSE.ConvertBitToBoolean(p) || (d.removeClass("app-maximized"), d.find(".maximize-button-app").removeClass("active"), parseInt(i) < 0 && (i = "0"), parseInt(o) < 0 && (o = "0"), d.css({ left: o, top: i }))), gt(t) || (-1 != t.indexOf("ChatClient/ChatWindow.html") ? (d.find(".app-body").html("<iframe class='iFrame-apps' src='" + openWSE.siteRoot() + t + "' width='100%' frameborder='0'></iframe>"), bt(d), d.find("iframe").one("load", function () { bt(d), d.find(".loading-background-holder").each(function () { $(this).remove() }) })) : mt(t) || vt(t) ? (d.find(".app-body").html("<iframe class='iFrame-apps' src='" + t + "' width='100%' frameborder='0'></iframe>"), bt(d), d.find("iframe").one("load", function () { bt(d), d.find(".loading-background-holder").each(function () { $(this).remove() }) })) : d.find(".app-body").load(t, function () { d.find(".app-body").find("iframe").length > 0 && (d.find(".app-body").find(".loading-background-holder").length <= 0 && d.find(".app-body").append(Xo), bt(d), d.find(".app-body").find("iframe").one("load", function () { bt(d), d.find(".app-body").find(".loading-background-holder").each(function () { $(this).remove() }) })) })), Lt(d); var r = d.parent().attr("id"); void 0 != r && null != r && "" != r && Nt(r, e) } } function st(e, a, t, o) { var i = $(e); if (i.length > 0) { var n = i.attr("data-appid"), s = i.find(".app-header-icon"), l = i.find(".app-title"), p = !1, d = !1, r = "", c = "app-min-bar"; -1 != n.replace(/#/gi, "").indexOf("app-ChatClient-") && (c = "app-min-bar chat-modal", r = " chat-username='" + i.attr("chat-username") + "'"); var h = "<div data-appid='" + n + "' class='" + c + "'" + r + " data-x='" + t + "' data-y='" + o + "'>"; if (s.hasClass("display-none") || 0 == s.length || l.hasClass("display-none")) if ((s.hasClass("display-none") || 0 == s.length) && l.hasClass("display-none")) h += "<span class='app-title pad-right'>" + a + "</span>", h += "<a href='#" + n + "' class='exit-button-app-min'></a></div>"; else { var u = !1, f = !0; s.hasClass("display-none") || (h += s.outerHTML(), u = !0, "none" == s.css("display") && (p = !0)), l.hasClass("display-none") ? (h += "<span class='app-title pad-right display-none'>" + a + "</span>", d = !0, f = !1) : h += "<span class='app-title pad-right'>" + a + "</span>"; var m = ""; u && !f && (m = " style='margin-left: 5px;'"), h += "<a href='#" + n + "' class='exit-button-app-min'" + m + "></a></div>" } else h += s.outerHTML(), "none" == s.css("display") && (p = !0), h += "<span class='app-title pad-right'>" + a + "</span>", h += "<a href='#" + n + "' class='exit-button-app-min'></a></div>"; 0 == $(".app-min-bar[data-appid='" + n + "']").length && $("#minimized-app-bar").append(h), p && $(".app-min-bar[data-appid='" + n + "']").find(".app-header-icon").show(), d && $(".app-min-bar[data-appid='" + n + "']").attr("title", a), i.css({ visibility: "hidden", display: "block" }) } } function lt(e, a) { var t = $(e).find(".app-icon-font").text(); "" == t && (t = $(e).find(".app-title").text(), "" == t && (t = $(e).find("span").text())); var o = $(e).attr("data-appid"); if (void 0 != o && null != o && "" != o) { var i = $(".app-main-holder[data-appid='" + o + "']"), n = i.attr("data-content"); "" == n || null == n || void 0 == n ? $.ajax({ url: Jo + "/App_Open", type: "POST", data: '{ "appId": "' + o + '","name": "' + t + '","workspace": "' + a + '","width": "' + i.width() + '","height": "' + i.height() + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function (e) { "" != e.d && pt(i, o, a, e.d, t) } }) : (pt(i, o, a, n, t), $.ajax({ url: Jo + "/App_Open_NoContent", type: "POST", data: '{ "appId": "' + o + '","name": "' + t + '","workspace": "' + a + '","width": "' + i.width() + '","height": "' + i.height() + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" })) } } function pt(e, a, t, o, i) { var n = $(e); Mt(n), St(t, a), Nt(t, a); var s = n.width(), l = n.height(); if ("block" != n.css("display") || "visible" != n.css("visibility")) { if (-1 != a.indexOf("app-ChatClient-")) { var p = n.attr("chat-username"); o = "ChatClient/ChatWindow.html?user=" + p + "&displayVersion=workspace" } if (null == n.css("left") && null == n.css("top") || "auto" == n.css("left") && "auto" == n.css("top") ? nt(a, i, o, "50px", "50px", s, l, "1", "0") : (parseInt(n.css("top")) < 0 && n.css("top", "50px"), parseInt(n.css("left")) < 0 && n.css("left", "50px"), nt(a, i, o, n.css("left"), n.css("top"), s, l, "1", "0")), n.css("display", "block"), n.css("visibility", "visible"), n.css("z-index", "3000"), 0 != $(".app-min-bar[data-appid='" + a + "']").length) { n.find(".loading-background-holder").length <= 0 && n.find(".app-body").append(Xo), n.hasClass("auto-full-page") || n.hasClass("auto-full-page-min") || n.hasClass("app-maximized") || n.hasClass("app-maximized-min") ? (Wt(n), n.find(".maximize-button-app").addClass("active"), n.css("top", "0px")) : (n.find(".maximize-button-app").removeClass("active"), n.css("width", s), n.css("height", l), n.css("top", pi)); var d = $(".app-min-bar[data-appid='" + a + "']").attr("data-x"), r = $(".app-min-bar[data-appid='" + a + "']").attr("data-y"); n.css({ visibility: "visible", display: "block" }).animate({ opacity: 1, filter: "alpha(opacity=100)", left: d, top: r }, openWSE_Config.animationSpeed), $.ajax({ url: Jo + "/App_Move", type: "POST", data: '{ "appId": "' + a + '","name": "' + i + '","x": "' + d + '","y": "' + r + '","width": "' + s + '","height": "' + l + '","workspace": "' + t + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }), $t(n) } else n.css({ top: pi, visibility: "visible", display: "block" }).fadeIn(openWSE_Config.animationSpeed); if ($(".app-min-bar[data-appid='" + a + "']").remove(), 1 == ei) { var c = document.getElementById("hf_loadApp1"); 0 == oi.length ? (oi[0] = a, c.value = a, __doPostBack("hf_loadApp1", "")) : oi[oi.length - 1] = a } else gt(o) && 0 == ei && n.find(".loading-background-holder").each(function () { $(this).remove() }) } } function dt(e, a, t) { if (void 0 != e && null != e && "" != e) { $("#ConfirmApp-element").remove(), b("Loading. Please Wait..."), cookie.set("active_app", e, 30); var o = $(".app-main-holder[data-appid='" + e + "']").width(), i = $(".app-main-holder[data-appid='" + e + "']").height(); $.ajax({ url: Jo + "/App_Open_ChangeWorkspace", type: "POST", data: '{ "appId": "' + e + '","name": "' + a + '","workspace": "' + t + '","width": "' + o + '","height": "' + i + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function () { window.location = openWSE.siteRoot() + "Workspace.aspx" } }) } } function rt(e, a) { "none" == $(".app-main-holder[data-appid='" + $(e).attr("data-appid") + "']").css("display") && (ei = a) } function ct(e) { var a = $(".app-main-holder[data-appid='" + e + "']"); a.find("iframe").one("load", function () { a.find(".loading-background-holder").each(function () { $(this).remove() }) }) } function ht(e) { for (var a = document.getElementById("hf_loadApp1"), t = 0; t < oi.length; t++) oi[t] == e && oi.splice(t, 1); var o = "#MainContent_" + e.replace(/-/gi, "_") + "_advPanel"; $(o).html(""), $(".move-holder").find(".main-div-app-bg").length > 0 && $(o).hide().append($(".move-holder").find(".main-div-app-bg")).show(); var i = $(".app-main-holder[data-appid='" + e + "']"), n = $(o).closest(".app-body").parent().parent(); n.length > 0 && (1 == i.length && i.find(".outside-main-app-div").each(function () { $(this).addClass(e + hi), n.append($(this)) }), $(".move-holder").find(".outside-main-app-div").length > 0 && $(".move-holder").find(".outside-main-app-div").each(function () { 1 == i.length && ($(this).addClass(e + hi), n.append($(this))) })), bt(i), i.find(".loading-background-holder").each(function () { $(this).remove() }), oi.length > 0 && (a.value = oi[0], __doPostBack("hf_loadApp1", "")), ei = 0 } function ut() { $(".outside-main-app-div").each(function () { var e = $(this).closest(".app-body").parent().parent(); if (e.length > 0 && 1 == $("#" + $(this).attr("id")).length) { var a = $(this).closest(".app-body").parent().attr("data-appid"); $(this).addClass(a + hi), e.append($(this)) } }) } function ft(e) { var a = $(".app-main-holder[data-appid='" + e + "']").parent(); $("." + e + hi).each(function () { a.length > 0 && 1 == $("#" + $(this).attr("id")).length && a.append($(this)) }) } function mt(e) { return e = e.toLowerCase(), e.length > 5 && ".aspx" == e.substring(e.length - 5) ? !0 : !1 } function gt(e) { return e = e.toLowerCase(), e.length > 5 && ".ascx" == e.substring(e.length - 5) ? !0 : !1 } function vt(e) { return e = e.toLowerCase(), -1 != e.indexOf("http://") || -1 != e.indexOf("https://") || -1 != e.indexOf("www.") ? !0 : !1 } function $t(e) { $(e).find(".app-main-holder").each(function () { bt(this) }) } function bt(e) { var a = $(e); if (a.length > 0 && a.hasClass("app-main-holder")) { var t = a.outerHeight(), o = a.find(".app-head"), i = 0; o.length > 0 && "none" != o.css("display") && (i = o.outerHeight()); var n = t - (i + 2); if (a.find(".app-body").css({ height: n, width: a.width() }), a.find(".iFrame-apps").length > 0) { var s = 2; a.find(".app-title-bg-color").length > 0 && (s = a.find(".app-title-bg-color").outerHeight() + (s + 1)), a.find(".iFrame-apps").css("height", n - (s + 1)) } } } function wt(e) { var a = $(e); a.length > 0 && ($wo = a.find(".app-overlay-fix"), 0 == $wo.length && ($wb = a.find(".app-body"), 1 == $wb.length && $wb.append("<div class='app-overlay-fix'></div>"))) } function yt(e) { $wo = $(e).find(".app-overlay-fix"), 1 == $wo.length && $wo.remove() } function kt(e) { var a = $(e), t = a.height(), o = $(window).height(), i = -(t + o); a.css({ visibility: "hidden", top: i, bottom: o, zIndex: -1 }), _t(e) } function Ct(e) { var a = $(e); a.css({ visibility: "visible", top: 0, bottom: 0, zIndex: "" }), Wt(a) } function St(e, a) { var t = $(".app-main-holder[data-appid='" + a + "']"); Wt(t); var o = t.parent().attr("id"), i = "MainContent_" + e; if (o != i) { var n = t.find("iframe").length; n > 0 && (t.find(".loading-background-holder").length <= 0 && t.find(".app-body").append(Xo), ct(a)), $("#" + i).prepend(t), Nt(e, a), ft(a), bt(t) } } function _t(e) { var a = $(e); a.hasClass("app-maximized") && (a.removeClass("app-maximized"), a.addClass("app-maximized-min")), a.hasClass("auto-full-page") && (a.removeClass("auto-full-page"), a.addClass("auto-full-page-min")) } function Wt(e) { var a = $(e); a.hasClass("app-maximized-min") && (a.removeClass("app-maximized-min"), a.addClass("app-maximized")), a.hasClass("auto-full-page-min") && (a.removeClass("auto-full-page-min"), a.addClass("auto-full-page")), bt(e) } function xt(e) { if (!ti) { ti = !0, ai = $(e).attr("data-appid"); var a = Xa(), t = $("#MainContent_" + a).find(".app-main-holder[data-appid='" + ai + "']"); if (t.length > 0) { var o = $(".app-min-bar[data-appid='" + ai + "']").attr("data-x"), i = $(".app-min-bar[data-appid='" + ai + "']").attr("data-y"); (null == o || "" == o) && (o = p.left - $("#workspace-selector").width()), (null == i || "" == i) && (i = 0), Wt(t), t.css("left", o), t.css("top", i), t.addClass("app-min-bar-preview"), t.fadeTo(openWSE_Config.animationSpeed, .65) } } } function Et() { var e = $(".app-main-holder[data-appid='" + ai + "']"); if (e.hasClass("app-min-bar-preview")) e.css("opacity", "0.0"), e.css("filter", "alpha(opacity=0)"), e.removeClass("app-min-bar-preview"), _t(e), kt(e), ai = "", ti = !1; else { var a = Xa(), e = $("#MainContent_" + a).find(".app-main-holder[data-appid='" + ai + "']"); 0 == e.length && (ai = "", ti = !1) } } function Mt(e) { if (openWSE.IsComplexWorkspaceMode()) { var a = $(e); if (At(a), a.length > 0) { a.addClass("selected"), a.css("z-index", "3000"); var t = a.attr("data-appid"); cookie.set("active_app", t, "30") } } } function At(e) { if (openWSE.IsComplexWorkspaceMode()) { var a = $(e).attr("data-appid"); $(".app-main-holder").css("z-index", "1000"), $(".app-main-holder").removeClass("selected"), $(".app-main-holder").each(function () { var e = $(this).attr("data-appid"); "block" == $(this).css("display") && (e != a ? wt(this) : e == a && $(this).find(".app-overlay-fix").remove()) }) } } function Tt() { cookie.del("active_app"), $(".app-main-holder").each(function () { "block" == $(this).css("display") && wt(this) }) } function It() { if (openWSE.IsComplexWorkspaceMode()) { var e = cookie.get("active_app"); null != e && "" != e && void 0 != e ? Mt($(".app-main-holder[data-appid='" + e + "']")) : Tt() } } function Bt() { var e = cookie.get("app_category_id"), a = cookie.get("app_category"); null != document.getElementById("Category-Back") && null != e && "" != e && null != a && "" != a && ($(".app-icon-category-list").hide(), $("#Category-Back").show(), $("." + e).show(), $("#Category-Back-Name").html(a), $("#Category-Back-Name-id").html(e)), ao() } function Ot(e, a, t, o) { $.ajax({ url: Jo + "/App_RemoteLoad", data: '{ "_Id": "' + escape(e) + '" }', contentType: "application/json; charset=utf-8", dataType: "json", type: "POST", success: function (e) { try { null != e.d && Pt(unescape(e.d[0]), unescape(e.d[1]), unescape(e.d[2])) } catch (i) { } y(), u(a, t, o) }, error: function () { y(), u(a, t, o) } }) } function Pt(e, a, t) { if ("close" == a) { var o = $(".app-main-holder[data-appid='" + e + "']"); "block" == o.css("display") && o.find(".exit-button-app").length > 0 && (si = !1, o.find(".exit-button-app").click()) } if ("close-all" == a) $(".app-main-holder").each(function () { "block" == $(this).css("display") && $(this).find(".exit-button-app").length > 0 && (si = !1, $(this).find(".exit-button-app").click()) }); else if ("workspace-selector" == e) { try { $(".workspace-selection-item").eq(parseInt(a) - 1).trigger("click") } catch (i) { } var n = "#MainContent_" + Xa(), s = "#MainContent_workspace_" + a; et(a), Za(n, s) } else { var l = a.split(";"), p = "1"; if (p = "" != l[0] && "0" != l[0] ? l[0] : Xa().replace("workspace_", ""), ei = openWSE.ConvertBitToBoolean(t) ? 1 : 0, -1 != e.indexOf("app-ChatClient-")) for (var d = e.replace("app-ChatClient-", ""), r = 0; r < $(".ChatUserNotSelected").length; r++) { var c = $(".ChatUserNotSelected").eq(r); if (1 == c.length && 1 == c.find(".usersclick[chat-userid='" + d + "']").length) { var h = $.trim(c.find(".usersclick[chat-userid='" + d + "']").html()), u = c.attr("chat-username"); return void chatClient.BuildChatWindow(u, d, h) } } var o = $(".app-icon[data-appid='" + e + "']"); if (0 == o.length) return; var f = l[2].replace("px", ""), m = l[3].replace("px", ""), g = l[4].replace("px", ""), v = l[5].replace("px", ""); if ("" != $("#hf_appContainer").val()) { var f = parseInt(f), m = parseInt(m), g = parseInt(g), v = parseInt(v); m + g > $("#container").width() && (m = Math.abs($("#container").width() - g) - 2), f + v > $("#container").height() && (f = Math.abs($("#container").height() - v) - 2) } if ($(".app-main-holder[data-appid='" + e + "']").css("block" == $(".app-main-holder[data-appid='" + e + "']").css("display") ? { top: f + "px", left: m + "px" } : { top: "auto", left: "auto" }), $(".app-main-holder[data-appid='" + e + "']").hasClass("ui-resizable") && $(".app-main-holder[data-appid='" + e + "']").css({ width: g + "px", height: v + "px" }), "block" == $(".app-main-holder[data-appid='" + e + "']").css("display")) { var b = $(".app-main-holder[data-appid='" + e + "']").find(".reload-button-app").parent(); Vt(b) } lt(o, "workspace_" + p), 0 == o.hasClass("active") && o.addClass("active"), Rt(e, p, l[1]) } } function Rt(e, a, t) { var o = $(".app-main-holder[data-appid='" + e + "']"); if ("block" == o.css("display")) { a = a.substring(a.lastIndexOf("_") + 1); try { $(".workspace-selection-item").eq(parseInt(a) - 1).trigger("click") } catch (i) { } var n = "#MainContent_" + Xa(), s = "#MainContent_workspace_" + a; if (et(a), Za(n, s), eo(a), "" != t) { var l = !1; switch (t) { case "minimize": if (0 == $(".app-min-bar[data-appid='" + e + "']").length) o.find(".minimize-button-app").length > 0 && (o.find(".minimize-button-app").click(), l = !0); else var p = setInterval(function () { "visible" == o.css("visibility") && (o.find(".minimize-button-app").click(), l = !0, clearInterval(p)) }, 50); break; case "maximize": o.find(".maximize-button-app").length > 0 && !o.hasClass("app-maximized") && (o.find(".maximize-button-app").click(), l = !0); break; case "normal": o.hasClass("app-maximized") && o.find(".maximize-button-app").length > 0 && (o.find(".maximize-button-app").click(), l = !0) } l || setTimeout(function () { $.ajax({ url: Jo + "/App_Position", type: "POST", data: '{ "appId": "' + o.attr("data-appid") + '","posX": "' + o.css("left") + '","posY": "' + o.css("top") + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) }, openWSE_Config.animationSpeed) } } else setTimeout(function () { Rt(e, a, t) }, 100) } function zt(e) { var a = Xa(), t = $(e), o = t.find(".app-title").text(), i = t.css("left").replace("px", ""), n = t.css("top").replace("px", ""), s = t.width(), l = t.height(); Mt(e), t.hasClass("app-maximized") ? (t.removeClass("app-maximized"), bt(e), t.find(".maximize-button-app").removeClass("active"), $.ajax({ url: Jo + "/App_Maximize", type: "POST", data: '{ "appId": "' + t.attr("data-appid") + '","name": "' + o + '","x": "' + i + '","y": "' + n + '","width": "' + s + '","height": "' + l + '","workspace": "' + a + '","ismax": "0","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function () { ii = !1, bt(e) }, error: function () { ii = !1 } })) : (t.addClass("app-maximized"), bt(e), t.find(".maximize-button-app").addClass("active"), $.ajax({ url: Jo + "/App_Maximize", type: "POST", data: '{ "appId": "' + t.attr("data-appid") + '","name": "' + o + '","x": "' + i + '","y": "' + n + '","width": "' + s + '","height": "' + l + '","workspace": "' + a + '","ismax": "1","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function () { ii = !1, bt(e) }, error: function () { ii = !1 } })) } function Lt(e) { var a = $(e).attr("data-appid"); if (null != a && void 0 != a) if (-1 == a.indexOf("app-ChatClient-")) for (var t = $(".app-icon").find("span").length, o = 0; t > o; o++) { var i = $(".app-icon").eq(o).attr("data-appid"); i == a && 0 == $(".app-icon").eq(o).hasClass("active") && $(".app-icon").eq(o).addClass("active") } else { var n = $(".app-main-holder[data-appid='" + a + "']").attr("chat-username"); $(".ChatUserNotSelected[chat-username='" + n + "']").addClass("ChatUserSelected") } } function Nt(e, a) { if (openWSE_Config.ShowWorkspaceNumApp && openWSE.IsComplexWorkspaceMode()) { var t = $(".app-icon[data-appid='" + a + "']"); if (t.length > 0) { var o = "", i = a + "-workspace-reminder", n = "workspace-reminder font-no-bold " + i, s = "display:block;"; if (t.find(".app-icon-font").length > 0) { var l = t.find(".app-icon-font"); "none" == l.css("display") && (s = "display:none;") } $("." + i).length > 0 && $("." + i).remove(); var p = e.substring(e.lastIndexOf("_") + 1); o = "<span class='" + n + "' style='" + s + "'>" + p + "</span>", "" != o && t.append(o) } } } function Ut(e) { if (openWSE.IsComplexWorkspaceMode()) { var a = $(e).attr("data-appid"), t = $(".app-icon[data-appid='" + a + "']"); if (t.length > 0) { var o = a + "-workspace-reminder"; $("." + o).length > 0 && $("." + o).remove() } } } function jt(e) { var a = $(e).attr("data-appid"); if ($(".app-main-holder[data-appid='" + a + "']").find(".maximize-button-app").removeClass("active"), -1 == a.indexOf("app-ChatClient-")) for (var t = $(".app-icon").find("span").length, o = 0; t > o; o++) { var i = $(".app-icon").eq(o).attr("data-appid"); i == a && 1 == $(".app-icon").eq(o).hasClass("active") && $(".app-icon").eq(o).removeClass("active") } else { var n = $(".app-main-holder[data-appid='" + a + "']").attr("chat-username"); chatClient.displayMessageNoti(n); var s = $(".ChatUserNotSelected[chat-username='" + n + "']"); s.length > 0 && setTimeout(function () { s.removeClass("ChatUserSelected"), s.removeClass("chatisNew") }, openWSE_Config.animationSpeed), chatClient.notificationCleared = 1, document.title = chatClient.currTitle } } function Ht(e, a) { $(".app-icon-category-list").hide(), $("#Category-Back").fadeIn(openWSE_Config.animationSpeed), 0 == openWSE_Config.animationSpeed ? $("." + e).show() : $("." + e).show("slide", { direction: "right" }, openWSE_Config.animationSpeed), $("#Category-Back-Name").html(a), $("#Category-Back-Name-id").html(e), cookie.set("app_category", a, "30"), cookie.set("app_category_id", e, "30") } function Ft() { openWSE.IsComplexWorkspaceMode() && ($(".app-main-holder").draggable({ scroll: !0, cancel: ".app-body, .exit-button-app, .minimize-button-app, .maximize-button-app, .options-button-app, .app-head-button-holder, .app-maximized, .auto-full-page", start: function (e) { var a = $(this); Mt(a), to(this), a.css("opacity", "0.6"), a.css("filter", "alpha(opacity=60)"), $(".app-main-holder").each(function () { "block" == $(this).css("display") && wt(this) }), e.stopPropagation() } }).resizable({ handles: "se, s, e", minWidth: 150, minHeight: 150, create: function () { var e = $(this); e.hasClass("no-resize") && (e.className = !e.hasClass("app-main") || e.hasClass("auto-full-page") || e.hasClass("auto-full-page-min") ? e.hasClass("app-main") && (e.hasClass("auto-full-page") || e.hasClass("auto-full-page-min")) ? e.hasClass("auto-full-page-min") ? "app-main-holder app-main auto-full-page-min ui-draggable" : "app-main-holder app-main auto-full-page ui-draggable" : !e.hasClass("app-main-nobg") || e.hasClass("auto-full-page") || e.hasClass("auto-full-page-min") ? "app-main-holder app-main-nobg auto-full-page ui-draggable" : "app-main-holder app-main-nobg ui-draggable" : "app-main-holder app-main ui-draggable", e.find(".ui-resizable-handle").remove()) } }), openWSE_Config.appSnapHelper && $(".app-main-holder").draggable({ snap: ".app-snap-helper", snapped: function (e, a) { io(a.snapElement) }, drag: function (e, a) { var t = $(this).data("ui-draggable"); $.each(t.snapElements, function (o, i) { i.snapping && t._trigger("snapped", e, $.extend({}, a, { snapElement: $(i.item) })) }) } }), "" != $("#hf_appContainer").val() && ($(".app-main-holder").draggable("option", "containment", $("#hf_appContainer").val()), $(".app-main-holder").resizable("option", "containment", "parent")), $(".app-main-holder").on("dragstop", function () { var e = $(this); e.css("opacity", "1.0"), e.css("filter", "alpha(opacity=100)"), this.offsetTop < 0 && e.animate({ top: 0 }, openWSE_Config.animationSpeed, function () { e.css("top", "0") }), this.offsetLeft < 0 && e.animate({ left: 0 }, openWSE_Config.animationSpeed, function () { e.css("left", "0") }); var a = e.find(".app-title").text(), t = Xa(), o = e.width(), i = e.height(); yt(this), $.ajax({ url: Jo + "/App_Move", type: "POST", data: '{ "appId": "' + e.attr("data-appid") + '","name": "' + a + '","x": "' + e.css("left") + '","y": "' + e.css("top") + '","width": "' + o + '","height": "' + i + '","workspace": "' + t + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) }), $(".app-main-holder").on("resize", function (e, a) { if (null != a) { var t = $(this); if (t.hasClass("no-resize")) t.css({ width: Ei, height: Mi }); else { var o = a.size.width, i = parseInt(t.css("min-width")); i > o && (o = i); var n = a.size.height, s = parseInt(t.css("min-height")); s > n && (n = s), t.css({ width: o, height: n }), Ei = o, Mi = n, Dt(this, o, n) } bt(this) } }), $(".app-main-holder").on("resizestart", function (e) { if (ui = !0, $(this).hasClass("app-maximized")) { $(this).removeClass("app-maximized"); var a = $(this).find(".maximize-button-app"); a.length > 0 && a.removeClass("active") } null != $(this).data("ui-resizable") && (Ai = $(this).data("ui-resizable").axis), Mt(this), to(this), $(".app-main-holder").each(function () { "block" == $(this).css("display") && wt(this) }), e.stopPropagation() }), $(".app-main-holder").on("resizestop", function (e, a) { ui = !1, $(this).hasClass("no-resize") || (bt(this), Ei = 0, Mi = 0, yt(this), $.ajax({ url: Jo + "/App_Resize", type: "POST", data: '{ "appId": "' + $(this).attr("data-appid") + '","width": "' + a.size.width + '","height": "' + a.size.height + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" })) })) } function Dt(e, a, t) { if (openWSE_Config.appSnapHelper) for (var o = $(e), i = o.position().top, n = o.position().left, s = Xa(), l = $("#MainContent_" + s), p = 0; p < l.find(".app-snap-helper").length; p++) { var d = l.find(".app-snap-helper").eq(p); if (Gt(e, d, n, a) || qt(e, d, i, t)) { Yt(e, d); break } } } function Gt(e, a, t, o) { var i = $(a).attr("data-type"), n = $(a).position().left, s = $(a).outerWidth(); if (!("se" != Ai && "e" != Ai || "left" != i && "right" != i)) { var l = t + o; if (l >= n + s - 10 && n + s + 10 >= l) return Ei -= l - (n - 2), !0 } return !1 } function qt(e, a, t, o) { var i = $(a).attr("data-type"), n = $(a).position().top, s = $(a).outerHeight(); if (!("se" != Ai && "s" != Ai || "top" != i && "bottom" != i)) { var l = t + o; if (l >= n + s - 10 && n + s + 10 >= l) return Mi -= l - (n - 1), !0 } return !1 } function Yt(e, a) { io(a), $(e).addClass("no-resize"), setTimeout(function () { $(e).removeClass("no-resize") }, 200) } function Vt(e) { var a = ($(e).closest(".app-head-button-holder").parent().find(".app-title").text(), $(e).closest(".app-head-button-holder").parent()), t = a.attr("data-appid"); bt(a), $(".app-main-holder").css("z-index", "1000"), a.css("z-index", "3000"); var o = a.find(".options-button-app"), i = o.parent(); o.removeClass("active"), i.find(".app-popup-inner-app").hide(); var n = t + hi; if ($("." + n).each(function () { $(this).remove() }), a.find(".iFrame-apps").length > 0) { var s = a.find(".iFrame-apps")[0]; null != s.src && (null == a.find(".app-body").find("div").html() ? (a.find(".app-body").find(".loading-background-holder").length <= 0 && a.find(".app-body").append(Xo), a.find(".iFrame-apps").one("load", function () { a.find(".app-body").find(".loading-background-holder").each(function () { $(this).remove() }) })) : (a.find(".app-body").find("div").find(".loading-background-holder").length <= 0 && a.find(".app-body").find("div").append(Xo), a.find(".iFrame-apps").one("load", function () { a.find(".app-body").find("div").find(".loading-background-holder").each(function () { $(this).remove() }) })), s.src = s.src) } else $("#MainContent_" + t.replace(/-/g, "_") + "_advPanel").length > 0 && $("#MainContent_" + t.replace(/-/g, "_") + "_advPanel").hide(), a.find(".app-body").find(".loading-background-holder").length <= 0 && a.find(".app-body").append(Xo), $("#hf_ReloadApp").val(t), __doPostBack("hf_ReloadApp", "") } function Kt(e) { var a = $(e).closest(".app-head-button-holder").parent(), t = a.attr("data-appid"); $("#hf_aboutstatsapp").val("about;" + t); var o = a.find(".options-button-app"), i = o.parent(); o.removeClass("active"), i.find(".app-popup-inner-app").hide(), $("#MainContent_pnl_aboutHolder").html(""), b("Loading. Please Wait..."), __doPostBack("hf_aboutstatsapp", "") } function Qt(e) { openWSE.ConfirmWindow("Are you sure you want to remove this app?", function () { $("#hf_aboutstatsapp").val("uninstall;" + e), $(".app-main-holder[data-appid='" + e + "']").find(".exit-button-app").trigger("click"), $(".app-main-holder[data-appid='" + e + "']").remove(), b("Removing App"), __doPostBack("hf_aboutstatsapp", "") }, null) } function Jt(e, a) { var t = $(e).closest(".app-head-button-holder").parent(), o = 315, i = 425; if (t.length > 0) { var n = t.find(".app-title").text(); o = t.width(), i = t.height() } t.fadeOut(openWSE_Config.animationSpeed, function () { t.hasClass("app-maximized") && t.removeClass("app-maximized"), Ut(t), jt(t); var e = 1, a = document.getElementById("hf_" + t.attr("id")); null != a && (e = 0), null == t.find(".app-body").find("div").html() ? 1 == e && t.find(".app-body").html("") : 1 == e && t.find(".app-body").find("div").html(""), t.css({ visibility: "hidden", left: "", top: "", width: "", height: "" }), t.find(".options-button-app").length > 0 && (t.find(".options-button-app").removeClass("active"), t.find(".app-popup-inner-app").hide()), $.ajax({ url: Jo + "/App_Close", type: "POST", data: '{ "appId": "' + t.attr("data-appid") + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) }); var s = "width=" + o + "px,height=" + i + "px,location=no,menubar=no,toolbar=no,status=no,resizable=yes,scrollbars=yes"; myWindow = window.open(a, n, s), myWindow.focus() } function Xt(e, a) { var t = "width=400px,height=400px,location=no,menubar=no,toolbar=no,status=no,resizable=yes,scrollbars=yes"; myWindow = window.open(a, e, t), myWindow.focus(), $("#ConfirmApp-element").remove(), openWSE.LoadModalWindow(!1, "ConfirmApp-element", "") } function Zt(e, a) { if (openWSE.IsComplexWorkspaceMode()) { $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(); var t = "fullscreen=yes,location=no,menubar=no,toolbar=no,status=no,resizable=yes,scrollbars=yes"; myWindow = window.open(a, e, t), myWindow.focus() } else window.location.href = a.replace("?toolView=true", "") } function eo(e) {
        var a = "";
        if (a = $(e).length > 0 ? $.trim($(e).hasClass("app-popup-selector") || $(e).hasClass("app-options-workspace-switch") ? $(e).val() : $(e).text()) : e, "" != a && "-" != a) { et(a); var t = a; a = "workspace_" + a; var o = Xa(); $_name = $(e).closest(".app-icon"), 0 == $_name.length && ($_name = $(e).closest(".app-head-button-holder").parent()); var i = 0, n = $_name.attr("data-appid"); "" != n && void 0 != n && null != n && (Nt(a, n), "block" == $("#" + n).css("display") && (i = 1)), (o != a || 0 == i || 1 == i && o == a) && ($.ajax({ url: Jo + "/App_CurrentWorkspace", type: "POST", data: '{ "workspace": "' + t + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }), lt($_name, a), o != a && (_id = "#MainContent_" + a, $("#workspace_holder .workspace-holder").each(function () { "visible" == $(this).css("visibility") && (openWSE_Config.taskBarShowAll || $("#minimized-app-bar").fadeOut(openWSE_Config.animationSpeed), $(this).fadeTo(openWSE_Config.animationSpeed, 0, function () { kt(this), openWSE_Config.taskBarShowAll || (Ka(this), Qa(_id)) })) }), $(_id).fadeTo(openWSE_Config.animationSpeed, 1), Ct($(_id)), $t($(_id)), ft(n), $(".app-options").css("visibility", "hidden"), setTimeout(function () { $(".app-popup").hide() }, openWSE_Config.animationSpeed))) }
    } function ao() { $(".app-main-holder").each(function () { if ("block" == $(this).css("display")) { Lt(this); var e = $(this).parent().attr("id"); void 0 != e && null != e && "" != e && Nt(e, $(this).attr("data-appid")) } }) } function to(e) { if (openWSE_Config.appSnapHelper && (no(e), null != e)) { var a = $(e).data("ui-draggable"), t = Xa(), o = $("#MainContent_" + t); o.length > 0 && o.find(".app-main-holder").each(function () { var t = $(this).attr("data-appid"); if ("block" == $(this).css("display") && "hidden" != $(this).css("visibility") && $(e).attr("data-appid") != t && 0 == $(".app-snap-helper[data-appid='" + t + "']").length) { var i = parseInt($(this).css("left").replace("px", "")) + 1, n = i + $(this).outerWidth() - 2, s = parseInt($(this).css("top").replace("px", "")) + 1, l = s + $(this).outerHeight() - 2; o.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='left' style='left: " + i + "px; top: 0; bottom: 0; width: 1px;'></div>"), o.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='right' style='left: " + n + "px; top: 0; bottom: 0; width: 1px;'></div>"), o.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='top' style='top: " + s + "px; left: 0; right: 0; height: 1px;'></div>"), o.append("<div class='app-snap-helper' data-appid='" + t + "' data-type='bottom' style='top: " + l + "px; left: 0; right: 0; height: 1px;'></div>"), a && oo(t, i, n, s, l, a) } }) } } function oo(e, a, t, o, i, n) { var s = { height: $(".app-snap-helper[data-appid='" + e + "'][data-type='left']").height(), item: $(".app-snap-helper[data-appid='" + e + "'][data-type='left']")[0], left: a + $("#sidebar_menulinks").outerWidth() - 1, snapping: !1, top: $("#always-visible").outerHeight(), width: 1 }, l = { height: $(".app-snap-helper[data-appid='" + e + "'][data-type='right']").height(), item: $(".app-snap-helper[data-appid='" + e + "'][data-type='right']")[0], left: t + $("#sidebar_menulinks").outerWidth(), snapping: !1, top: $("#always-visible").outerHeight(), width: 1 }, p = { height: 1, item: $(".app-snap-helper[data-appid='" + e + "'][data-type='top']")[0], left: $("#sidebar_menulinks").outerWidth(), snapping: !1, top: o + $("#always-visible").outerHeight() - 1, width: $(".app-snap-helper[data-appid='" + e + "'][data-type='top']").width() }, d = { height: 1, item: $(".app-snap-helper[data-appid='" + e + "'][data-type='bottom']")[0], left: $("#sidebar_menulinks").outerWidth(), snapping: !1, top: i + $("#always-visible").outerHeight(), width: $(".app-snap-helper[data-appid='" + e + "'][data-type='bottom']").width() }; n.snapElements.push(s), n.snapElements.push(l), n.snapElements.push(p), n.snapElements.push(d) } function io(e) { e && ($(e).addClass("app-snap-helper-highlight"), setTimeout(function () { $(e).removeClass("app-snap-helper-highlight") }, 1500)) } function no(e) { var a = $(e).data("ui-draggable"); a && (a.snapElements = new Array), $(".app-snap-helper").remove() } function so() { var e = -1; if ("Microsoft Internet Explorer" == navigator.appName) { var a = navigator.userAgent, t = new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"); null != t.exec(a) && (e = parseFloat(RegExp.$1)) } return e } function lo() { var e = so(); e > -1 && 8 > e && openWSE.AlertWindow("You might want to consider upgrading your copy of Internet Explorer. Some features may not work correctly.") } function po() { $("#group_tab").find(".a").hasClass("active") ? setTimeout(function () { $("#group_tab").find("#grouplistdiv").html("") }, openWSE_Config.animationSpeed) : co() } function ro() { $("#group_tab").find(".a").hasClass("active") && co() } function co() { var e = $("#group_tab").find("#grouplistdiv"); e.html(Yo), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/GetUserGroups", type: "POST", data: "{ }", contentType: "application/json; charset=utf-8", success: function (a) { var t = "<div class='table-settings-box no-border no-margin no-padding'><div class='td-settings-ctrl'>"; try { for (var o = 0; o < a.d[0].length; o++) { var i = a.d[0][o][0], n = a.d[0][o][1], s = a.d[0][o][2], l = a.d[0][o][3], p = a.d[0][o][4], d = "style=\"background: url('" + p + "'); background-size: cover;\""; t += "<div class='group-selection-entry' onclick='openWSE.LoginAsGroup(\"" + i + "\")' title='Click to login' " + d + ">", t += "<div class='overlay'></div>", t += "<div class='group-selection-info'>", t += "<div class='group-name-info'>", t += "<span class='group-name'>" + n + "</span><div class='clear-space-five'></div>", t += "<span class='group-info'><b class='pad-right-sml'>Owner:</b>" + l + "</span>", t += "</div>", t += "<img class='group-img' alt='Group Logo' src='" + s + "' />", t += "</div></div>" } openWSE.ConvertBitToBoolean(a.d[1]) && (t += "<div class='logingroupselector-logout' onclick='openWSE.LoginAsGroup(\"\")'>", t += "<div>Log Out of Group</div>", t += "</div>"), t += "</div>", t += "<div class='td-settings-desc'>You must be apart of that group in order to login. Once logged in, all default settings for that group will be applied to your account. These settings will be removed once you log out of the group. Your Apps, Overlays, and Notifications will be overridden with the group's settings.</div></div>" } catch (r) { } e.html(t), fo() } }) } function ho(e) { b("" != e ? "Logging into Group" : "Logging out of Group"), $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), openWSE.RemoveWorkspaceSelectorActive(), uo(), cookie.del("top_menu"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/LoginUnderGroup", type: "POST", data: '{ "id": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (a) { "true" == a.d ? location.reload() : window.location = "Default.aspx?group=" + e }, error: function () { y() } }) } function uo() { setTimeout(function () { $("#group_tab").find("#grouplistdiv").html("") }, openWSE_Config.animationSpeed) } function fo() { if ($("#group_tab").find(".b").is(":visible")) { var e = 65, a = $(window).height() - (e + pi); $("#grouplistdiv").css({ maxHeight: a }) } } function mo() { var e = location.hash; try { if (-1 != e.indexOf("?iframecontent=")) { var a = e.split("?iframecontent="); a.length > 1 && openWSE.LoadIFrameContentHistory(a[1], "Content") } else if (-1 != e.indexOf("&iframecontent=")) { var a = e.split("&iframecontent="); a.length > 1 && openWSE.LoadIFrameContentHistory(a[1], "Content") } else -1 != e.indexOf("?help") || -1 != e.indexOf("&help") ? q() : ($("#iframe-container-helper").length > 0 && openWSE.CloseIFrameContent(), "block" == $("#help_main_holder").css("display") && oa()) } catch (t) { } } function go() { if (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i)) { var e = document.getElementsByTagName("head")[0]; meta = document.createElement("meta"), meta.name = "viewport", meta.id = "mobileViewport", meta.content = "width=device-width, initial-scale=0.70, user-scalable=no", e.appendChild(meta) } else $("#mobileViewport").length > 0 && $("#mobileViewport").remove() } function vo(e, a) { if (!openWSE_Config.demoMode) { b("Accepting. Please Wait..."); var t = $(e).closest("tr"), o = t.attr("id"), i = openWSE.siteRoot() + "WebServices/NotificationRetrieve.asmx/AcceptInviteNotifications"; $.ajax({ url: i, type: "POST", data: '{ "id": "' + o + '", "groupId": "' + a + '" }', contentType: "application/json; charset=utf-8", success: function (e) { openWSE.ConvertBitToBoolean(e.d) && t.fadeOut(openWSE_Config.animationSpeed, function () { if (y(), t.remove(), "1" == $("#lbl_notifications").find("span").html()) Ca(); else { var e = parseInt($("#lbl_notifications").find("span").html()); e -= 1, $("#lbl_notifications").html("<span>" + e + "</span>") } }) } }) } } function $o(e) { var a = $("#" + e); if (a.length > 0) { var t = $.trim(a.val()); b("Submitting feedback..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/UpdateServerSettings.asmx/SubmitFeedback", data: "{ 'text': '" + t + "' }", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e }, success: function () { y(), a.val("Enter your comments here..."), a.css("color", "#B7B7B7") }, error: function () { openWSE.AlertWindow("An error occurred submitting your feedback! Please try again.") } }) } } function bo() { $("#container").css("top", "0"), $("#always-visible, .sidebar-padding-menulinks").hide(); var e = $(window).height() - ($(".footer").height() + $("#app_title_bg").height()); $("#maincontent_overflow").css({ height: e }), $("#maincontent_overflow").width($(window).width()), $("#always-visible").find(".top-options").hide(), $("#DateDisplay").hide(), $("#localtime").hide(), $(window).resize() } function wo() { $("#app_title_bg, #container-footer").hide(), $(".sitemenu-selection").addClass("mobile-mode"), $("#MainContent_pnlLinkBtns").css("height", "auto"), ko() } function yo() { $(".app-icon-links").removeClass("active"), $(".app-icon-sub-links").removeClass("active"); var e = window.location.href.toLowerCase(); $(".app-icon-links").each(function () { var a = $(this).attr("href").toLowerCase(); if (-1 != e.indexOf(a) && ($(this).addClass("active"), $(this).next().hasClass("app-icon-sub-link-holder"))) { $(this).next().show(); var t = $(this).find(".img-expand-sml"); 1 == t.length && (t.removeClass("img-expand-sml"), t.addClass("img-collapse-sml")) } }), $(".app-icon-sub-links").each(function () { var a = $(this).attr("href").toLowerCase(); if (-1 != e.indexOf(a)) { $(".app-icon-links").removeClass("active"), $(this).addClass("active"), $(this).parent().show(); var t = $(this).parent().prev().find(".img-expand-sml"); 1 == t.length && (t.removeClass("img-expand-sml"), t.addClass("img-collapse-sml")) } }) } function ko() { var e = $(window).height() - ($(".footer").height() + $("#always-visible").height() + $("#app_title_bg").height()); "none" == $("#always-visible").css("display") && (e += $("#always-visible").height()), "none" == $(".footer").css("display") && (e += $(".footer").height()), "none" == $("#app_title_bg").css("display") && (e += $("#app_title_bg").height()), $("#maincontent_overflow").css({ height: e - 1 }), "pnl_OverlaysAll" == openWSE_Config.overlayPanelId && $("#pnl_OverlaysAll").height($(window).height()), "none" == $(".sidebar-padding-menulinks").css("display") ? $("#maincontent_overflow").width($(window).width()) : ($("#accordian-sidebar").css("height", e - 1 + "px"), $("#maincontent_overflow").css("width", $(window).width() - $(".sidebar-padding-menulinks").outerWidth() + "px")), ui || $(".app-snap-helper").remove() } function Co(e, a) { $(e).hasClass("img-expand-sml") ? ($(e).removeClass("img-expand-sml"), $(e).addClass("img-collapse-sml"), $(e).closest(".app-icon-links").parent().find("." + a).slideDown(openWSE_Config.animationSpeed)) : ($(e).removeClass("img-collapse-sml"), $(e).addClass("img-expand-sml"), $(e).closest(".app-icon-links").parent().find("." + a).slideUp(openWSE_Config.animationSpeed)) } function So() { var e = ""; return "" != openWSE_Config.siteRootFolder && (e = openWSE_Config.siteRootFolder + "/"), window.location.protocol + "//" + window.location.host + "/" + e } function _o(e) { if (1 == $(e).length) { var a = $(e)[0].className.split(/\s+/); return a } return new Array } function Wo() { $(".sidebar-showhide-ctrl").hasClass("sidebar-hide") ? ($(".sidebar-showhide-ctrl").removeClass("sidebar-hide"), $(".sidebar-showhide-ctrl").addClass("sidebar-show"), Eo(), cookie.set(Pi, "hide", 30)) : ($(".sidebar-showhide-ctrl").removeClass("sidebar-show"), $(".sidebar-showhide-ctrl").addClass("sidebar-hide"), xo(), cookie.del(Pi)), $(window).resize() } function xo() { var e = $("#sidebar_menulinks").outerWidth(); $("#sidebar_menulinks, #accordian-sidebar").removeClass("sidebar-minimized"), e -= $("#sidebar_menulinks").outerWidth(), e = Math.abs(e), $("#workspace_holder").length > 0 && $(".app-main-holder").each(function () { var a = $(this), t = $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").length > 0; if (!a.hasClass("auto-full-page") && !a.hasClass("app-maximized") && "block" == a.css("display")) { var o = parseInt(a.css("left").replace("px", "")); if (t && (o = parseInt($(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x"))), "NaN" != o.toString()) { var i = Math.abs(o - e); e > o && (i = o), a.css("left", i + "px"), t && $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x", i) } } }) } function Eo() { var e = $("#sidebar_menulinks").outerWidth(); $("#sidebar_menulinks, #accordian-sidebar").addClass("sidebar-minimized"), e -= $("#sidebar_menulinks").outerWidth(), $("#workspace_holder").length > 0 && $(".app-main-holder").each(function () { var a = $(this), t = $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").length > 0; if (!a.hasClass("auto-full-page") && !a.hasClass("app-maximized") && "block" == a.css("display")) { var o = parseInt(a.css("left").replace("px", "")); if (t && (o = parseInt($(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x"))), "NaN" != o.toString()) { var i = e + o; a.css("left", i + "px"), t && $(".app-min-bar[data-appid='" + a.attr("data-appid") + "']").attr("data-x", i) } } }) } function Mo() { if ($(".sidebar-showhide-ctrl").is(":visible")) { var e = cookie.get(Pi); null != e && "undefined" != e && "hide" == e && ($(".sidebar-showhide-ctrl").removeClass("sidebar-hide"), $(".sidebar-showhide-ctrl").addClass("sidebar-show"), Eo(), $(window).resize()) } } function Ao() { try { window.parent.location.reload() } catch (e) { window.location.reload() } } function To() { if (location.href.indexOf("SiteTools/") > 0 && -1 == location.href.indexOf("AppRemote.aspx") && $(".sitemenu-selection").length > 0) { $(".sitemenu-selection").removeClass("mobile-mode"); var e = 0, a = 0; $(".sitemenu-selection").find("li").each(function () { e += $(this).outerWidth(), $(this).outerWidth() > a && (a = $(this).outerWidth()) }), e += a, $("#maincontent_overflow").outerWidth() < e && $(".sitemenu-selection").addClass("mobile-mode") } } function Io(e, a, t) { if ($(t).length > 0) { for (var o = e.split("|"), i = new Array, n = 0; n < o.length; n++) "" != o[n] && i.push(o[n]); var s = Bo(t); -1 == s && i.length > 1 ? (Ri.push({ obj: null, loopIndex: 1, div: t, list: i }), s = Ri.length - 1) : -1 != s && (clearInterval(Ri[s].obj), Ri[s].obj = null, Ri[s].loopIndex = i.length - 1, Ri[s].list = i), Ri.length > 0 && null != Ri[s] && Ri[s].list.length > 1 && (Ri[s].obj = setInterval(function () { var e = Ri[s].list[Ri[s].loopIndex]; if (null == e || void 0 == e) { Ri[s].loopIndex = 0; var e = Ri[s].list[Ri[s].loopIndex] } null != e && void 0 != e && (e.length > 6 ? (-1 == e.toLowerCase().indexOf("http") && -1 == e.toLowerCase().indexOf("www.") && (e = So() + e), $(t).css("background", openWSE_Config.defaultBackgroundColor + " url('" + e + "') " + openWSE_Config.defaultBackgroundRepeat + " " + openWSE_Config.defaultBackgroundPosition), $(t).css("background-size", openWSE_Config.defaultBackgroundSize)) : $(t).css("background", "#" + e)), Ri[s].loopIndex++, Ri[s].loopIndex >= Ri[s].list.length && (Ri[s].loopIndex = 0) }, a)) } } function Bo(e) { for (var a = 0; a < Ri.length; a++) if (Ri[a].div == e) return a; return -1 } function Oo() { var e = "<div id='UserProfileImageUpdate-element' class='Modal-element'>"; e += "<div class='Modal-overlay'>", e += "<div class='Modal-element-align'>", e += "<div class='Modal-element-modal' data-setwidth='500'>", e += "<div class='ModalHeader'><div>", e += "<div class='app-head-button-holder-admin'>", e += "<a href='#' onclick=\"$('#UserProfileImageUpdate-element').remove();return false;\" class='ModalExitButton'></a>", e += "</div><span class='Modal-title'></span></div></div>", e += "<div class='ModalScrollContent'>", e += "<div class='ModalPadContent'>", e += "<h3 id='UserProfileImageUpload_loading' class='pad-all'>Loading. Please Wait...</h3>", e += "<iframe id='UserProfileImageUpload_frame' src='" + So() + "SiteTools/iframes/UserProfileImageUpload.aspx' width='100%' height='60px' frameborder='0' style='visibility: hidden;' />", e += "</div></div>", e += "<div class='ModalButtonHolder'><input type='button' class='input-buttons no-margin' value='Close' onclick=\"$('#UserProfileImageUpdate-element').remove();\" /></div>", e += "</div></div></div></div>", $("#UserProfileImageUpdate-element").length > 0 && $("#UserProfileImageUpdate-element").remove(), $("body").append(e), $("#UserProfileImageUpload_frame").one("load", function () { $("#UserProfileImageUpdate-element").find("#UserProfileImageUpload_loading").remove(), $("#UserProfileImageUpload_frame").css({ visibility: "visible", height: 100 }) }), N(!0, "UserProfileImageUpdate-element", "Update Profile Image"), $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), openWSE.RemoveWorkspaceSelectorActive(), ka(), uo(), cookie.del("top_menu") } var Po = "", Ro = "", zo = "", Lo = "", No = 0, Uo = "<div class='loading-icon-sml'></div>", jo = "<div class='loading-icon-lrg'></div>", Ho = 0, Fo = !1, Do = !1, Go = new Array, qo = "<div class='ddLoadingMessage'>" + Uo + "<h3>Loading Notifications. Please Wait...</h3></div>", Yo = "<div class='ddLoadingMessage'>" + Uo + "<h3>Loading Groups. Please Wait...</h3></div>", Vo = 0, Ko = !1, Qo = !1, Jo = "WebServices/SaveControls.asmx", Xo = "<div class='loading-background-holder'></div>", Zo = 0, ei = 0, ai = "", ti = !1, oi = new Array, ii = !1, ni = !1, si = !1, li = !1, pi = 34, di = 28, ri = !1, ci = !1, hi = "-outside-modal-window", ui = !1; Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(function (e, a) { $("#pnl_aboutHolder").length > 0 && "" != $.trim($("#pnl_aboutHolder").html()) && "block" == $("#aboutApp-element").css("display") && (Lo = $.trim($("#pnl_aboutHolder").html())), U(a) }), Sys.WebForms.PageRequestManager.getInstance().add_endRequest(function () { $(".ui-tooltip-content").parents("div").remove(), "" != Lo && ($("#MainContent_pnl_aboutHolder").html(Lo), Lo = ""), y(), j(), ya(), u(Po, Ro, zo), Ea() }), $(document.body).on("click", ".RandomActionBtns", function () { b(0 != $(this).closest(".searchwrapper").length ? "Searching..." : "Updating. Please Wait...") }), $(document.body).on("click", "#lbtn_signoff", function () { b("Logging Off. Please Wait...") }), $(document.body).on("keypress", "#searchbox-app-search", function (e) { 13 == e.which && ($(this).focus(), event.preventDefault(), P()) }), $(document.body).on("click", "#container, #container_logo, .workspace-holder, .content-main, .Modal-overlay, #iframe-container-helper", function () { m() }), $(document.body).on("click", ".top-options li.a", function () { var e = $(this).next(); if ($(".top-options li.a").removeClass("active"), 1 == e.length) if (e.is(":visible")) ka(), $(".top-options li.b").hide(), e.css("max-height", ""); else { $(".top-options li.b").hide(); var a = $(window).height() - 98; e.find(".li-pnl-tab").css("max-height", a), e.slideDown(openWSE_Config.animationSpeed), $(this).addClass("active"), e.find("input[type=text]").length > 0 && e.find("input[type=text]").focus(); var t = $("li.b").index(e); cookie.set("top_menu", t, "30") } else ka(), $(".top-options li.b").hide() }), $(document.body).on("click", ".help-icon", function () { G(!1) }), $(document.body).on("keydown", "#tb_weather_postalCode", function (e) { try { if (13 == e.which) return Ta(), !1 } catch (a) { if (13 == e.keyCode) return Ta(), !1; delete a } }), $(document.body).on("click", ".workspace-reminder", function () { var e = $(this).parent(); return $(".app-popup").css("display", "none"), $popup = e.find(".app-popup"), $popup.css("display", "block"), $popup.fadeIn(openWSE_Config.animationSpeed), !1 }), $(document.body).on("mouseover", ".app-icon", function () { var e = $(this).find(".app-options"); e.length > 0 && (ri = !1, e.css("visibility", "visible")) }), $(document.body).on("mouseleave", ".app-icon", function () { var e = $(this).find(".app-options"), a = $(this).find(".app-popup"); e.length > 0 && a.length > 0 && "block" != a.css("display") && e.css("visibility", "hidden") }), $(document.body).on("mouseleave", ".app-popup", function () { ri || $(this).hide() }), $(document.body).on("click", ".app-popup-selector", function () { ri = !0 }), $(document.body).on("click", ".app-icon", function () { var e = $(this); if (openWSE.IsComplexWorkspaceMode() || ci || -1 != window.location.href.toLowerCase().indexOf("appmanager.aspx")) if ($("#workspace_holder").length > 0) { var a = Xa(); lt(e, a), 0 == e.hasClass("active") && e.addClass("active"), $(".workspace-overlay-selector").hasClass("active") && $(".workspace-overlay-selector").removeClass("active") } else $("#app_tab_body").length > 0 && L(this); else window.location.href = openWSE.siteRoot() + "Workspace.aspx?AppPage=" + e.attr("data-appId"); return ci = !1, !1 }), $(document.body).on("click", "#Category-Back", function () { var e = $("#Category-Back-Name-id").html(); $("#Category-Back").fadeOut(openWSE_Config.animationSpeed), $("." + e).length > 0 ? 0 == openWSE_Config.animationSpeed ? ($("." + e).hide(), $(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html(""), cookie.del("app_category"), cookie.del("app_category_id")) : $("." + e).hide("slide", { direction: "right" }, openWSE_Config.animationSpeed, function () { $(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html(""), cookie.del("app_category"), cookie.del("app_category_id") }) : ($(".app-icon-category-list").show(), $("#Category-Back-Name").html(""), $("#Category-Back-Name-id").html(""), cookie.del("app_category"), cookie.del("app_category_id")) }), $(document.body).on("click", ".minimize-button-app", function () { if (!ni) { ni = !0; var e = $(this).attr("href").replace("#", ""), a = $(".app-main-holder[data-appid='" + e + "']"), t = a.find(".app-title").text(), i = a.css("left"), n = a.css("top"), s = a.width(), l = a.height(), p = Xa(); 0 == $(".app-min-bar[data-appid='" + e + "']").length && a.animate({ opacity: 0, left: $("#minimized-app-bar").css("width"), top: 0 }, openWSE_Config.animationSpeed, function () { st(a, t, i, n), kt(a), o(!0), $.ajax({ url: Jo + "/App_Minimize", type: "POST", data: '{ "appId": "' + e + '","name": "' + t + '","x": "' + i + '","y": "' + n + '","width": "' + s + '","height": "' + l + '","workspace": "' + p + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function () { ni = !1 }, error: function () { ni = !1 } }) }) } return !1 }), $(document.body).on("dblclick", ".app-head-dblclick", function () { return ii || (ii = !0, zt($(this).closest(".app-main-holder"))), !1 }), $(document.body).on("click", ".maximize-button-app", function () { return ii || (ii = !0, zt($(this).closest(".app-main-holder"))), !1 }), $(document.body).on("click", ".exit-button-app, .exit-button-app-min", function () { if (!si) { si = !0; var e = $(this).attr("href").replace("#", ""); $(".app-snap-helper[data-appid='" + e + "']").remove(); var a = $(".app-main-holder[data-appid='" + e + "']"); $(".app-min-bar[data-appid='" + e + "']").length > 0 && ($(".app-min-bar[data-appid='" + e + "']").remove(), o(!0)); { a.find(".app-title").text() } a.hasClass("app-min-bar-preview") && (a.css("opacity", "0.0"), a.css("filter", "alpha(opacity=0)"), a.removeClass("app-min-bar-preview"), ti = !1, ai = "", Wt(e)), Ut(a), jt(a), a.fadeOut(openWSE_Config.animationSpeed, function () { a.hasClass("app-maximized") && a.removeClass("app-maximized"), -1 != a.attr("data-appid").indexOf("app-ChatClient-") && a.remove(); var t = 1, o = document.getElementById("hf_" + e.replace(/#/gi, "")); null != o && (t = 0), null == a.find(".app-body").find("div").html() ? 1 == t && a.find(".app-body").html("") : 1 == t && a.find(".app-body").find("div").html(""), a.css({ visibility: "hidden", left: "", top: "", width: "", height: "" }), a.find(".app-body").css({ height: "", width: "" }), a.find(".options-button-app").length > 0 && (a.find(".options-button-app").removeClass("active"), a.find(".app-popup-inner-app").hide()); var i = a.attr("data-appid") + hi; $("." + i).each(function () { $(this).remove() }), $.ajax({ url: Jo + "/App_Close", type: "POST", data: '{ "appId": "' + e + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function () { si = !1 }, error: function () { si = !1 } }) }) } return !1 }), $(document.body).on("click", ".app-min-bar", function () { var e = $(this).find("span").text(), a = Xa(), t = $(this).attr("data-appid"), i = $(".app-main-holder[data-appid='" + t + "']"); i.hasClass("app-min-bar-preview") && (i.css("opacity", "0.0"), i.css("filter", "alpha(opacity=0)"), i.removeClass("app-min-bar-preview")); var n = i.width(), s = i.height(); return $.ajax({ url: Jo + "/App_Open", type: "POST", data: '{ "appId": "' + t + '","name": "' + e + '","workspace": "' + a + '","width": "' + n + '","height": "' + s + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8", success: function (l) { var p = l.d; if ("" != p) { if (St(a, t), Nt(a, t), "block" != i.css("display") || "visible" != i.css("visibility")) { var d = ""; d = null == i.find(".app-body").find("div").html() ? i.find(".app-body").html().trim() : i.find(".app-body").find("div").html().trim(); var r = "0"; if (i.hasClass("app-maximized") && (r = "1"), "" == d) { if (-1 != t.indexOf("app-ChatClient-")) { var c = i.attr("chat-username"); p = "ChatClient/ChatWindow.html?user=" + c + "&displayVersion=workspace" } null == i.css("left") && null == i.css("top") || "auto" == i.css("left") && "auto" == i.css("top") ? nt(t, e, p, "50px", "50px", n, s, "1", r) : (parseInt(i.css("top")) < 0 && i.css("top", "50px"), parseInt(i.css("left")) < 0 && i.css("left", "50px"), nt(t, e, p, i.css("left"), i.css("top"), n, s, "1", r)) } if (0 != $(".app-min-bar[data-appid='" + t + "']").length) { i.hasClass("auto-full-page") || i.hasClass("auto-full-page-min") || i.hasClass("app-maximized") || i.hasClass("app-maximized-min") ? (i.find(".maximize-button-app").addClass("active"), i.css("top", "0px"), i.hasClass("app-maximized-min") && (i.removeClass("app-maximized-min"), i.addClass("app-maximized")), i.hasClass("auto-full-page-min") && (i.removeClass("auto-full-page-min"), i.addClass("auto-full-page"))) : (i.find(".maximize-button-app").removeClass("active"), i.css("width", n), i.css("height", s), i.css("top", pi)); var h = $(".app-min-bar[data-appid='" + t + "']").attr("data-x"), u = $(".app-min-bar[data-appid='" + t + "']").attr("data-y"); ti && ai == t ? i.css({ visibility: "visible", display: "block", opacity: 1, left: h, top: u }) : i.css({ visibility: "visible", display: "block" }).animate({ opacity: 1, left: h, top: u }, openWSE_Config.animationSpeed), $.ajax({ url: Jo + "/App_Move", type: "POST", data: '{ "appId": "' + t + '","name": "' + e + '","x": "' + h + '","y": "' + u + '","width": "' + n + '","height": "' + s + '","workspace": "' + a + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) } else i.css({ top: pi, visibility: "visible", display: "block" }).fadeIn(openWSE_Config.animationSpeed); Mt(i), $(".app-min-bar[data-appid='" + t + "']").length > 0 && $(".app-min-bar[data-appid='" + t + "']").remove() } ti = !1, ai = "", o(!0), bt(i) } } }), !1 }), $(document.body).on("click", ".app-main-holder", function () { Mt(this), Zo = 1 }), $(document.body).on("click", ".workspace-holder", function () { openWSE.IsComplexWorkspaceMode() && 0 == Zo && ($(".app-main-holder").removeClass("selected"), Tt()), Zo = 0 }), $(document.body).on("click", ".options-button-app", function () { var e = $(this), a = e.parent(); if ("block" == a.find(".app-popup-inner-app").css("display")) e.removeClass("active"), a.find(".app-popup-inner-app").slideUp(openWSE_Config.animationSpeed); else { e.addClass("active"); var t = a.find(".app-popup-inner-app").find(".app-options-workspace-switch"); if (t.length > 0) { var o = e.closest(".workspace-holder").attr("id").replace("MainContent_workspace_", ""); t.val(o) } a.find(".app-popup-inner-app").slideDown(openWSE_Config.animationSpeed), Mt(a.parent()) } return !1 }), $(document.body).on("change", ".app-popup-selector, .app-options-workspace-switch", function () { if ("" != $.trim($(this).val()) && "-" != $.trim($(this).val())) if ($("#workspace_holder").length > 0) { eo(this); var e = $(this).closest(".app-head-button-holder").parent().find(".options-button-app"); if (e.length > 0) { var a = e.parent(); e.removeClass("active"), a.find(".app-popup-inner-app").hide() } } else { var t = $(this).closest(".app-icon"); L(t) } }), $(document.body).on("click", ".app-options", function () { return $(".app-popup").css("display", "none"), $popup = $(this).find(".app-popup"), $popup.css("display", "block"), $popup.fadeIn(openWSE_Config.animationSpeed), !1 }), $(document.body).on("keypress", "input[type='text'], textarea", function (e) { if (!$(this).hasClass("mce-textbox") && !$(this).parent().hasClass("ace_editor")) { var a = e.which ? e.which : e.keyCode, t = String.fromCharCode(a); if (!t.match('^.*?(?=[^"#%&$*<>?{|}]).*$')) return !1 } }), $(document.body).on("click", "#sitestatus_app_bar", function () { b("Loading Information..."), $.ajax({ url: openWSE.siteRoot() + "WebServices/UpdateServerSettings.asmx/AdminOnlineInformation", data: "{ }", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e }, success: function (e) { y(), g(e) }, error: function () { openWSE.AlertWindow("An error occurred. Please try again.") } }) }); var fi, mi = 0, gi = !1; $(document.body).on("click", ".RadioButton-Toggle-Overlay", function () { var e = $(this).closest(".switch-slider"); if (gi = !0, e.find(".cb-disable").hasClass("selected")) e.animate({ left: 0 }, openWSE_Config.animationSpeed, function () { e.find(".cb-enable").find("input").trigger("click") }); else { var a = e.parent().outerWidth() - e.find(".RadioButton-Toggle-Overlay").outerWidth() + 2; e.animate({ left: -a }, openWSE_Config.animationSpeed, function () { e.find(".cb-disable").find("input").trigger("click") }) } }), $(document.body).on("click", ".cb-enable, .cb-disable", function () { return gi ? (openWSE.LoadingMessage1("Updating..."), void (gi = !1)) : !1 }); var vi = !1, $i = !1, bi = !1, wi = !1, yi = !1, ki = !0, Ci = 0, Si = 3; $(document.body).on("click", "#overlay_tab, #pnl_OverlaysAll", function (e) { "pnl_OverlaysAll" == openWSE_Config.overlayPanelId && ("block" != $("#pnl_OverlaysAll").css("display") ? $("#pnl_OverlaysAll").fadeIn(openWSE_Config.animationSpeed) : (e.target.id == $(this).attr("id") || 0 == e.target.className.indexOf("overlay-") && 0 != e.target.className.indexOf("overlay-entries")) && $("#pnl_OverlaysAll").fadeOut(openWSE_Config.animationSpeed)), $(".top-options li.a").removeClass("active"), $(".top-options li.b").hide(), ka(), cookie.del("top_menu") }), $(document).keydown(function (e) { if (e = e || window.event, e.altKey && 79 == e.which && "pnl_OverlaysAll" == openWSE_Config.overlayPanelId && ("block" != $("#pnl_OverlaysAll").css("display") ? $("#pnl_OverlaysAll").fadeIn(openWSE_Config.animationSpeed) : $("#pnl_OverlaysAll").fadeOut(openWSE_Config.animationSpeed)), $("#workspace_holder").length > 0 && (e.altKey && 38 == e.which || e.altKey && 40 == e.which)) { var a = parseInt(Xa().replace("workspace_", "")), t = $(".dropdown-db-selector").find("ul").find("li").length, o = null; if (o = $(".workspace-selection-item").eq(40 == e.which ? t >= a + 1 ? a : 0 : a - 1 >= 1 ? a - 2 : t - 1), null != o) { o.trigger("click"); var i = "#MainContent_" + openWSE.Getworkspace(), n = "#MainContent_workspace_" + o.html().replace("Workspace ", ""); openWSE.HoverWorkspacePreview(i, n) } } }); var _i = !1, Wi = "user", xi = !1; $(document.body).on("click", "#BackgroundSelector-element .image-selector", function (e) { if (-1 == e.target.className.indexOf("delete-uploadedimg")) { var a = ($(this), ""); a = $(this).find(".color-bg-div").length > 0 ? $(this).find(".color-bg-div").attr("data-color") : $(this).find("img").attr("data-imgsrc"), openWSE_Config.demoMode ? Fa(a, "30000") : (b("Saving Background"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/SaveNewBackground", type: "POST", data: '{ "_workspace": "' + Xa().replace("workspace_", "") + '","_img": "' + a + '","folder": "' + Wi + '" }', contentType: "application/json; charset=utf-8", success: function (e) { 3 == e.d.length && (Fa(e.d[0], e.d[1]), 6 == e.d[2].length && $("#BackgroundSelector-element").find(".img-list-selector").html(e.d[2][1])), openWSE.RemoveUpdateModal(), Ga() } })) } }), $(document.body).on("click", "#BackgroundSelector-element .delete-uploadedimg", function () { var e = $(this).attr("data-imgsrc"); openWSE_Config.demoMode || "" == e || (b("Deleting Background"), $.ajax({ url: openWSE.siteRoot() + "WebServices/AcctSettings.asmx/DeleteUploadedImage", type: "POST", data: '{ "_workspace": "' + Xa().replace("workspace_", "") + '","_img": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (e) { 3 == e.d.length && (Fa(e.d[0], e.d[1]), 6 == e.d[2].length && $("#BackgroundSelector-element").find(".img-list-selector").html(e.d[2][1])), openWSE.RemoveUpdateModal(), Ga() } })) }), jQuery.fn.outerHTML = function (e) { return e ? this.before(e).remove() : jQuery("<p>").append(this.eq(0).clone()).html() }, $(document.body).on("click", "#ddl_WorkspaceSelector", function (e) {
        var a = $(this).find(".dropdown-db-selector"); if (a.length > 0 && -1 == e.target.className.indexOf("workspace-selection-item")) if (a.css("min-width", $("#ddl_WorkspaceSelector").outerWidth()), "block" != a.css("display")) {
            a.css("top", $("#always-visible").outerHeight()), a.find(".workspace-selection-item").show();
            for (var t = $(".selected-workspace").html().replace("Workspace ", ""), o = 0; o < a.find(".workspace-selection-item").length; o++) { var i = a.find(".workspace-selection-item").eq(o); i.html().replace("Workspace ", "") == t ? i.addClass("font-bold") : i.removeClass("font-bold") } openWSE_Config.hoverPreviewWorkspace && $(".workspace-selection-item").hover(function () { var e = "#MainContent_" + openWSE.Getworkspace(), a = "#MainContent_workspace_" + $(this).html().replace("Workspace ", ""); openWSE.HoverWorkspacePreview(e, a) }, function () { if ("block" == a.find("ul").css("display")) { var e = "#MainContent_workspace_" + $(this).html().replace("Workspace ", ""), t = "#MainContent_workspace_" + $(".selected-workspace").html().replace("Workspace ", ""); openWSE.HoverWorkspacePreview(e, t) } }), $("#ddl_WorkspaceSelector").addClass("active"), $("#ddl_WorkspaceSelector").parent().addClass("active"), a.slideDown(openWSE_Config.animationSpeed)
        } else openWSE.RemoveWorkspaceSelectorActive()
    }), $(document.body).on("click", ".workspace-selection-item", function () { openWSE.RemoveWorkspaceSelectorActive(); var e = $(".selected-workspace").html().replace("Workspace ", ""), a = $(this).html().replace("Workspace ", ""); if (e != a) { if (openWSE.SetWorkspaceNumber(a), !openWSE_Config.hoverPreviewWorkspace) { var t = "#MainContent_workspace_" + e, o = "#MainContent_workspace_" + a; openWSE.HoverWorkspacePreview(t, o) } $.ajax({ url: Jo + "/App_CurrentWorkspace", type: "POST", data: '{ "workspace": "' + a + '","workspaceMode": "' + openWSE_Config.workspaceMode + '" }', contentType: "application/json; charset=utf-8" }) } }); var Ei = 0, Mi = 0, Ai = null, Ti = { timer: 2e3 }, Ii = function () { function e() { $("#always-visible, #container-footer").hover(function () { i || n || (t(), o = !0) }, function () { o = !1, setTimeout(function () { o || n || (o = !1, i = !0, a()) }, Ti.timer) }), $(document).keyup(function (e) { 27 == e.which && (n ? (n = !1, o = !1, i = !0, a(), openWSE.LoadingMessage1("AutoHide Mode On"), setTimeout(function () { openWSE.RemoveUpdateModal() }, Ti.timer)) : (n = !0, t(), o = !0, openWSE.LoadingMessage1("AutoHide Mode Off"), setTimeout(function () { openWSE.RemoveUpdateModal() }, Ti.timer))) }), setTimeout(function () { o || (o = !1, i = !0, a()) }, Ti.timer) } function a() { $("#always-visible, #container-footer").css("height", "8px"), $("#top-main-bar-top, .footer-padding").hide(), i = !1, $("#container, #iframe-container-helper").css("top", "8px"), $("#container, #iframe-container-helper").css("bottom", "8px"), $(window).resize() } function t() { $("#top-main-bar-top, .footer-padding").show(), $("#always-visible, #container-footer").css("height", ""), $("#container, #iframe-container-helper").css("top", ""), $("#container, #iframe-container-helper").css("bottom", ""), $(window).resize() } var o = !1, i = !1, n = !1; return { init: e } }(), Bi = { timer: 1e3 }, Oi = function () { function e() { $("#container").append("<div id='presentationmodeText'>Presentation Mode is Off</div>"), a("To start 'Presentation Mode', press the ESC key"), $(document).keyup(function (e) { 27 == e.which && ($("#PresentationActivate-element").length > 0 && openWSE.LoadModalWindow(!1, "PresentationActivate-element", ""), null != s && clearTimeout(s), $("#presentationmodeText").remove(), 0 == n ? (n = !0, i(), $("#container").append("<div id='presentationmodeText'>Presentation Mode is Off</div>"), $("#update-element").remove(), openWSE.LoadingMessage1("Presentation Mode Off"), s = setTimeout(function () { openWSE.RemoveUpdateModal() }, Bi.timer)) : 1 == n ? (n = 2, o(), $("#container").append("<div id='presentationmodeText'>Presentation Edit Mode</div>"), $("#update-element").remove(), openWSE.LoadingMessage1("Presentation Mode Edit"), s = setTimeout(function () { openWSE.RemoveUpdateModal() }, Bi.timer)) : (n = 0, t(), $("#update-element").remove(), openWSE.LoadingMessage1("Presentation Mode On"), s = setTimeout(function () { openWSE.RemoveUpdateModal() }, Bi.timer))) }) } function a(e) { $(window).load(function () { var a = "<div id='PresentationActivate-element' class='Modal-element' style='display: none;'>"; a += "<div class='Modal-overlay'>", a += "<div class='Modal-element-align'>", a += "<div class='Modal-element-modal' data-setwidth='445'>", a += "<div class='ModalScrollContent'><div class='ModalPadContent'><h3 class='pad-top'><b class='pad-right-sml'>Note:</b>" + e + "</h3>", a += "<div align='right'><input type='button' class='input-buttons' value='Ok' onclick='openWSE.LoadModalWindow(false, \"PresentationActivate-element\", \"\");setTimeout(function(){$(\"#PresentationActivate-element\").remove();},openWSE_Config.animationSpeed);' style='margin-top: 15px!important;' /></div><div class='clear-space-two'></div></div>", a += "</div></div></div></div></div>", $("body").append(a), openWSE.LoadModalWindow(!0, "PresentationActivate-element", "") }) } function t() { $("#always-visible").addClass("header-presentation"), $("#container-footer").addClass("footer-presentation"), $("#always-visible, #container-footer").addClass("header-footer-presentation"), $(".username-top-info").addClass("top-menu-color-presentation"), $("#container, #iframe-container-helper").addClass("container-presentation"), $("body").addClass("body-presentation-bg"), $(".app-maximized").addClass("app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected, .workspace-overlays").addClass("body-presentation-bg app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected").addClass("no-shadow-presentation"), $(".app-min-bar, .app-min-bar-alt, .ui-icon-gripsmall-diagonal-se").css("background-image", "none"), $(".sidebar-padding-menulinks").hide(), $(".app-head, .app-head-button-holder, .overlay-header").hide(), $("#top-main-bar-top, .footer-padding").hide(), $(window).resize(), isHiding = !1 } function o() { $("#always-visible").addClass("header-presentation"), $("#container-footer").addClass("footer-presentation"), $("#always-visible, #container-footer").addClass("header-footer-presentation"), $(".username-top-info").addClass("top-menu-color-presentation"), $("#container, .pnl-overlaysAll, #iframe-container-helper").addClass("container-presentation"), $("body").addClass("body-presentation-bg"), $("#top-main-bar-top, .footer-padding").hide(), $(".sidebar-padding-menulinks").hide(), $(window).resize() } function i() { $("#always-visible").removeClass("header-presentation"), $("#container-footer").removeClass("footer-presentation"), $("#always-visible, #container-footer").removeClass("header-footer-presentation"), $(".username-top-info").removeClass("top-menu-color-presentation"), $("#container, .pnl-overlaysAll, #iframe-container-helper").removeClass("container-presentation"), $("body").removeClass("body-presentation-bg"), $(".app-maximized").removeClass("app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected, .workspace-overlays").removeClass("body-presentation-bg app-max-border-presentation"), $(".app-main-holder, .app-main-holder.selected").removeClass("no-shadow-presentation"), $(".app-min-bar, .app-min-bar-alt, .ui-icon-gripsmall-diagonal-se").css("background-image", ""), $(".sidebar-padding-menulinks").show(), $(".app-head, .app-head-button-holder, .overlay-header").show(), $("#top-main-bar-top, .footer-padding").show(), $(".app-body").each(function () { var e = null; $(this).find(".main-div-app-bg").length > 0 && (e = $(this).find(".main-div-app-bg")), null != e && (e.css("top", ""), e.css("bottom", "")) }), $(window).resize() } var n = 2, s = null; return { init: e } }(); $.fn.AccordianTab = function (e) { function a() { l.find("." + d.headerClass).each(function () { 0 == $(this).find("." + d.menuDropDownClass).length && ($(this).append("<span class='" + d.menuDropDownClass + "'></span>"), d.startCollapsed ? ($(this).attr("title", d.expandTooltip), $(this).find("." + d.menuDropDownClass).addClass(d.collapsedClass), $(this).parent().find("." + d.bodyClass).hide()) : ($(this).attr("title", d.collapseTooltip), $(this).find("." + d.menuDropDownClass).addClass(d.expandedClass), $(this).parent().find("." + d.bodyClass).show())) }) } function t() { var e = !1; if ("function" == typeof cookie || "object" == typeof cookie) { if (d.createCookie) { var a = cookie.get("menubar-links-tab"); try { var t = a.split(","); if ("" != t && null != t) for (var o = 0; o < t.length; o++) if ("" != t[o]) { var s = l.find("#" + t[o]); if (s.length > 0) if (d.startCollapsed) { if (s.closest(".a-body").find("." + d.headerClass).attr("title", d.collapseTooltip), s.closest(".a-body").find("." + d.menuDropDownClass).removeClass(d.collapsedClass).addClass(d.expandedClass), s.show(), d.oneOpen) return } else (!d.allowCloseAll && i() > 1 || d.allowCloseAll || !d.startCollapsed && "block" == s.css("display")) && (s.closest(".a-body").find("." + d.headerClass).attr("title", d.expandTooltip), s.closest(".a-body").find("." + d.menuDropDownClass).removeClass(d.expandedClass).addClass(d.collapsedClass), s.hide()) } } catch (p) { } } else cookie.del("menubar-links-tab"); (!d.allowCloseAll && 0 == i() || !d.startCollapsed && i() == l.find("." + d.bodyClass).length) && (d.startCollapsed || n(), e = !0) } else e = !0; if (e && l.find("." + d.bodyClass).length > 0) { var s = l.find("." + d.bodyClass).eq(0); s.closest(".a-body").find("." + d.headerClass).attr("title", d.collapseTooltip), s.show(), s.closest(".a-body").find("." + d.menuDropDownClass).removeClass(d.collapsedClass).addClass(d.expandedClass) } } function o() { if (d.createCookie) { var e = ""; l.find("." + d.bodyClass).each(function () { "block" == $(this).css("display") && (e += $(this).attr("id") + ",") }), ("function" == typeof cookie || "object" == typeof cookie) && ("" != e ? cookie.set("menubar-links-tab", e, 30) : cookie.del("menubar-links-tab")) } } function i() { var e = 0; return l.find("." + d.bodyClass).each(function () { "block" == $(this).css("display") && e++ }), e } function n() { l.find("." + d.headerClass).each(function () { $(this).attr("title", d.expandTooltip), $(this).find("." + d.menuDropDownClass).addClass(d.collapsedClass), $(this).parent().find("." + d.bodyClass).hide() }) } function s() { var e = !1; l.find("." + d.bodyClass).each(function () { return "block" == $(this).css("display") ? void (e = !0) : void 0 }); var a = cookie.get("menubar-links-tab"); if (!e && "" != a && null != a) { var t = l.find("." + d.headerClass).find("." + d.menuDropDownClass), o = l.find("." + d.bodyClass); t.length > 0 && o.length > 0 && (t.eq(0).removeClass(d.collapsedClass).addClass(d.expandedClass), o.eq(0).show()) } } var l = this, p = { allowCloseAll: !0, oneOpen: !0, startCollapsed: !0, animationSpeed: 150, createCookie: !0, headerClass: "menu-title", bodyClass: "li-pnl-tab", collapsedClass: "menu-collapsed", expandedClass: "menu-expanded", menuDropDownClass: "menu-dd", expandTooltip: "Click to Expand", collapseTooltip: "Click to Collapse" }, d = $.extend({}, p, e); $(document).ready(function () { a(), t(), s(), 1 == $("." + d.headerClass).length && 1 == $("." + d.bodyClass).length && ($("." + d.headerClass).attr("title", ""), $("." + d.headerClass).css("cursor", "default"), $("." + d.headerClass).find("." + d.menuDropDownClass).remove(), $("." + d.bodyClass).show()) }), l.find("." + d.headerClass).on("click", function () { if ($("." + d.headerClass).length > 1 && $("." + d.bodyClass).length > 1) { var e = $(this).find("." + d.menuDropDownClass), a = $(this).parent().find("." + d.bodyClass); if (0 != e.length && 0 != a.length) { var t = ""; if (e.hasClass(d.collapsedClass) ? (t = d.collapseTooltip, $(this).attr("title", t), e.removeClass(d.collapsedClass).addClass(d.expandedClass), a.slideDown(d.animationSpeed)) : (!d.allowCloseAll && i() > 1 || d.allowCloseAll) && (t = d.expandTooltip, $(this).attr("title", t), e.removeClass(d.expandedClass).addClass(d.collapsedClass), a.slideUp(d.animationSpeed)), d.oneOpen && l.find("." + d.bodyClass).each(function () { $(this).attr("id") != a.attr("id") && ($(this).parent().find("." + d.headerClass).attr("title", d.expandTooltip), $(this).parent().find("." + d.headerClass).find("." + d.menuDropDownClass).removeClass(d.expandedClass).addClass(d.collapsedClass), $(this).slideUp(d.animationSpeed)) }), null != $(this).attr("aria-describedby") && "" != $(this).attr("aria-describedby")) { var n = $(this).attr("aria-describedby"); $("#" + n).find(".ui-tooltip-content").html(t) } setTimeout(function () { o() }, 2 * d.animationSpeed) } } }) }; var Pi = "sidebar-menu", Ri = new Array; return { siteRoot: So, loadingImg: Uo, loadingImg_lrg: jo, topBarHt: pi, AdjustTableSettingsBox: f, GetPagedAddOverlayAndModel: n, IsComplexWorkspaceMode: s, PagedWorkspace: i, SetContainerTopPos: o, SetTrialText: h, ConvertBitToBoolean: l, OpenMobileWorkspace: d, init: e, OnError: a, AdjustContainerLogo: t, autoupdate: u, CloseAdminOnlineInformationWindow: v, LoadingMessage1: b, RemoveUpdateModal: y, AlertWindow: k, CloseAlertWindow: C, ReportAlert: S, ConfirmWindow: _, CloseConfirmWindow: W, StartMessageTickInterval: w, OnBrowserClose: x, CheckIfWorkspaceLinkAvailable: E, RadioButtonStyle: M, RatingStyleInit: T, UpdateAppRating: I, ResetRating: B, OpenAppNoti: O, SearchSite: P, ClearAppSearch: R, SearchExternalSite: z, LoadModalWindow: N, SaveInnerModalContent: U, LoadSavedInnerModalContent: j, LoadTopOptionsCookie: F, SetDropDownMaxHeight: D, SetMaxHeightGroupLogin: fo, ExpandAdminLinks: Co, HelpOverlay: G, HelpMenuPageLoad: Y, NewUserPageLoad: K, NewUserfinsh: ta, HelpMenuPageLoadWorkspace: V, HelpIntroRestart: na, HelpIntroNext: sa, HelpIntroBack: la, OnEmailUpdate_KeyPress: Z, OnPasswordUpdate_KeyPress: ea, UpdateEmail: Q, UpdateAdminPassword: J, ShowUpdatesPopup: pa, ShowActivationPopup: da, CloseUpdatesPopup: ra, OverlayDisable: ca, TryAddLoadOverlay: ha, TryRemoveLoadOverlay: ua, CallOverlayList: fa, AddRemoveOverlayClick: ma, CreateOverlayTable: ga, GetUserNotifications: $a, NotiActionsClearAll: Sa, NotiActionsHideInd: _a, LoadCreateAccountHolder: Ma, LoadRecoveryPassword: Aa, SetPostalCode: Ta, WeatherBuilder: Ia, LoadIFrameContent: Ba, LoadIFrameContentHistory: Oa, CloseIFrameContent: Pa, BackgroundSelector: za, ClearBackground: La, CloseBackgroundSelector: Na, updateBackgroundURL: Ua, updateBackgroundColor: ja, HideTasks: Ka, ShowTasks: Qa, LoadCurrentWorkspace: Ja, Getworkspace: Xa, HoverWorkspacePreview: Za, SetWorkspaceNumber: et, RemoveWorkspaceSelectorActive: at, AutoRotateWorkspace: tt, AutoUpdateOnRotate: ot, AppsSortUnlocked: it, CreateSOApp: nt, BuildAppMinIcon: st, LoadApp: lt, LoadAppFromSiteTools: dt, DetermineNeedPostBack: rt, WatchForLoad: ct, LoadUserControl: ht, MoveOutsideModalWindows: ut, ResizeAllAppBody: $t, ResizeAppBody: bt, ApplyOverlayFix: wt, RemoveOverlayFix: yt, MoveOffScreen: kt, MoveOnScreen_WorkspaceOnly: Ct, MoveToCurrworkspace: St, SetAppMaxToMin: _t, SetAppMinToMax: Wt, HoverOverAppMin: xt, HoverOutAppMin: Et, SetNoticiationsMaxHeight: Wa, SetActiveApp: Mt, SetDeactiveApps: At, SetDeactiveAll: Tt, LoadActiveAppCookie: It, LoadCategoryCookies: Bt, MaximizeApp: zt, StartRemoteLoad: Ot, LoadRemotely: Pt, SetRemoteLoadingOptions: Rt, SetAppIconActive: Lt, AddworkspaceAppNum: Nt, RemoveworkspaceAppNum: Ut, RemoveAppIconActive: jt, CategoryClick: Ht, ApplyAppDragResize: Ft, ReloadApp: Vt, AboutApp: Kt, UninstallApp: Qt, PopOutFrame: Jt, PopOutFrameFromSiteTools: Xt, PopOutTool: Zt, MoveAppToworkspace: eo, getInternetExplorerVersion: so, checkVersion: lo, GroupLoginModal: po, GroupLoginModalCookieLoad: ro, LoginAsGroup: ho, AutoHideMode: Ii, PresentationMode: Oi, HashChange: mo, AcceptGroupNotification: vo, SubmitFeedback: $o, ToolView: bo, MobileMode: wo, ResizeContainer: ko, GetElementClassList: _o, ShowHideAccordianSidebar: Wo, ReloadPage: Ao, ApplyMobileModeForMenuBar: To, BackgroundLoop: Io, ChangeImageFolder: Da, ViewBackgroundList: qa, UpdateBackgroundSetting: Ya, AddBackgroundColorToLogo: r, RemoveBackgroundColorToLogo: c, ChangeUserProfileImage: Oo, CloseTopDropDowns: m }
}(); $(window).resize(function () { openWSE.SetContainerTopPos(!0), openWSE.ResizeContainer(); var e = openWSE.Getworkspace(); openWSE.ResizeAllAppBody($("#MainContent_" + e).length > 0 ? $("#MainContent_" + e) : $("body")), openWSE.ApplyMobileModeForMenuBar() }), $(document).ready(function () { openWSE.init(), openWSE.SetContainerTopPos(!1), openWSE.LoadCategoryCookies(), openWSE.LoadTopOptionsCookie(), openWSE.checkVersion(), openWSE.GetUserNotifications(!0), openWSE.GroupLoginModalCookieLoad(), openWSE.HashChange(), openWSE.ResizeContainer(); var e = openWSE.Getworkspace(); openWSE.ResizeAllAppBody($("#MainContent_" + e)), $("#searchbox-app-search").length > 0 && $("#searchbox-app-search").autocomplete({ minLength: 1, autoFocus: !0, source: function (e, a) { $.ajax({ url: openWSE.siteRoot() + "WebServices/AutoComplete.asmx/GetAppSearchList", data: "{ 'prefixText': '" + e.term + "', 'count': '10' }", dataType: "json", type: "POST", contentType: "application/json; charset=utf-8", dataFilter: function (e) { return e }, success: function (e) { a($.map(e.d, function (e) { return { label: e, value: e } })) } }) } }).focus(function () { $(this).autocomplete("search", "") }) }), $(function () { $(window).hashchange(function () { openWSE.HashChange() }), openWSE_Config.displayLoadingOnRedirect && ($("#lnk_BackToWorkspace, .app-icon-links, .app-icon-sub-links, .account-link-style").click("click", function (e) { "img-expand-sml" != e.target.className && "img-collapse-sml" != e.target.className && "_blank" != $(this).attr("target") && openWSE.LoadingMessage1("Loading...") }), openWSE.IsComplexWorkspaceMode() || $(".app-icon").click("click", function (e) { "app-options" != e.target.className && "_blank" != $(this).attr("target") && openWSE.LoadingMessage1("Loading...") })) }), window.onerror = function (e, a) { openWSE.RemoveUpdateModal(), a = window.location.href, (-1 == a.toLowerCase().indexOf("networklog.aspx") || "Uncaught TypeError: boolean is not a function" != e && "Script error." != e) && (openWSE_Config.reportAlert ? openWSE.AlertWindow(e, a) : openWSE.OnError(e, a)) }, $(window).load(function () { openWSE.ApplyAppDragResize(); var e = openWSE.Getworkspace(); openWSE.ResizeAllAppBody($("#MainContent_" + e)), openWSE.AdjustContainerLogo(), $("#container_logo").length > 0 && $("#container_logo").css({ visibility: "visible" }), openWSE.LoadActiveAppCookie(), openWSE_Config.taskBarShowAll || ($(".app-min-bar").hide(), $("#MainContent_" + e).find(".app-main-holder").each(function () { var e = $(this).attr("data-appid"); 0 != $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").length && "none" == $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").css("display") && $("#minimized-app-bar").find(".app-min-bar[data-appid='" + e + "']").show() })), openWSE.MoveOutsideModalWindows(), openWSE.ApplyMobileModeForMenuBar() }), $.extend({ LoadingMessage: function () { try { var e = arguments[0], a = arguments[1]; (null == a || "" == a || void 0 == a) && (a = "Updating. Please Wait..."), $("#update-element").length > 0 && $("#update-element").remove(); var t = "<div id='update-element'><div class='update-element-overlay' style='position: absolute!important'><div class='update-element-align' style='position: absolute!important'>"; t += "<div class='update-element-modal'><h3 class='inline-block'>" + a + "</h3></div></div></div></div>", $(e).append(t), $("#update-element").fadeIn(openWSE_Config.animationSpeed) } catch (o) { } } }), function (e, a, t) { function o(e) { return e } function i(e) { return decodeURIComponent(e.replace(n, " ")) } var n = /\+/g, s = e.cookie = function (n, l, p) { if (l !== t) { if (p = e.extend({}, s.defaults, p), null === l && (p.expires = -1), "number" == typeof p.expires) { var d = p.expires, r = p.expires = new Date; r.setDate(r.getDate() + d) } return l = s.json ? JSON.stringify(l) : String(l), a.cookie = [encodeURIComponent(n), "=", s.raw ? l : encodeURIComponent(l), p.expires ? "; expires=" + p.expires.toUTCString() : "", p.path ? "; path=" + p.path : "", p.domain ? "; domain=" + p.domain : "", p.secure ? "; secure" : ""].join("") } for (var c, h = s.raw ? o : i, u = a.cookie.split("; "), f = 0; c = u[f] && u[f].split("=") ; f++) if (h(c.shift()) === n) { var m = h(c.join("=")); return s.json ? JSON.parse(m) : m } return null }; s.defaults = {}, e.removeCookie = function (a, t) { return null !== e.cookie(a, t) ? (e.cookie(a, null, t), !0) : !1 } }(jQuery, document); var cookie = { set: function (e, a, t) { if (openWSE_Config.saveCookiesAsSessions) { var o = openWSE.siteRoot() + "WebServices/SaveControls.asmx/SetCookie"; $.ajax({ url: o, type: "POST", data: '{ "name": "' + e + '","value": "' + a + '" }', contentType: "application/json; charset=utf-8" }) } else { { cookie.get(e) } if (t) { var i = new Date; i.setTime(i.getTime() + 24 * t * 60 * 60 * 1e3); var n = "; expires=" + i.toGMTString() } else var n = ""; document.cookie = e + "=" + a + n + "; path=/" } }, get: function (e) { var a = null; if (openWSE_Config.saveCookiesAsSessions) { var t = openWSE.siteRoot() + "WebServices/SaveControls.asmx/GetCookie"; $.ajax({ url: t, type: "POST", async: !1, data: '{ "name": "' + e + '" }', contentType: "application/json; charset=utf-8", success: function (e) { e && (a = e.d) } }) } else for (var o = e + "=", i = document.cookie.split(";"), n = 0; n < i.length; n++) { for (var s = i[n]; " " == s.charAt(0) ;) s = s.substring(1, s.length); if (0 == s.indexOf(o)) return s.substring(o.length, s.length) } return a }, del: function (e) { if (openWSE_Config.saveCookiesAsSessions) { var a = openWSE.siteRoot() + "WebServices/SaveControls.asmx/DelCookie"; $.ajax({ url: a, type: "POST", data: '{ "name": "' + e + '" }', contentType: "application/json; charset=utf-8" }) } else this.set(e, "", -1) } };
